(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const z={},xt=[],Ee=()=>{},Fo=()=>!1,Ds=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Nr=t=>t.startsWith("onUpdate:"),Z=Object.assign,Br=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Mo=Object.prototype.hasOwnProperty,H=(t,e)=>Mo.call(t,e),I=Array.isArray,Et=t=>Us(t)==="[object Map]",on=t=>Us(t)==="[object Set]",D=t=>typeof t=="function",Q=t=>typeof t=="string",et=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",an=t=>(Y(t)||D(t))&&D(t.then)&&D(t.catch),ln=Object.prototype.toString,Us=t=>ln.call(t),No=t=>Us(t).slice(8,-1),cn=t=>Us(t)==="[object Object]",Hr=t=>Q(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kt=Mr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fs=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Bo=/-(\w)/g,Ze=Fs(t=>t.replace(Bo,(e,s)=>s?s.toUpperCase():"")),Ho=/\B([A-Z])/g,_t=Fs(t=>t.replace(Ho,"-$1").toLowerCase()),un=Fs(t=>t.charAt(0).toUpperCase()+t.slice(1)),tr=Fs(t=>t?`on${un(t)}`:""),Xe=(t,e)=>!Object.is(t,e),sr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},hn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},qo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let _i;const os=()=>_i||(_i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qr(t){if(I(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],i=Q(r)?Wo(r):qr(r);if(i)for(const n in i)e[n]=i[n]}return e}else if(Q(t)||Y(t))return t}const Ko=/;(?![^(]*\))/g,Jo=/:([^]+)/,Vo=/\/\*[^]*?\*\//g;function Wo(t){const e={};return t.replace(Vo,"").split(Ko).forEach(s=>{if(s){const r=s.split(Jo);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Zt(t){let e="";if(Q(t))e=t;else if(I(t))for(let s=0;s<t.length;s++){const r=Zt(t[s]);r&&(e+=r+" ")}else if(Y(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const zo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Go=Mr(zo);function dn(t){return!!t||t===""}const fn=t=>!!(t&&t.__v_isRef===!0),Ke=t=>Q(t)?t:t==null?"":I(t)||Y(t)&&(t.toString===ln||!D(t.toString))?fn(t)?Ke(t.value):JSON.stringify(t,pn,2):String(t),pn=(t,e)=>fn(e)?pn(t,e.value):Et(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,i],n)=>(s[rr(r,n)+" =>"]=i,s),{})}:on(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>rr(s))}:et(e)?rr(e):Y(e)&&!I(e)&&!cn(e)?String(e):e,rr=(t,e="")=>{var s;return et(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let we;class Yo{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=we,!e&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=we;try{return we=this,e()}finally{we=s}}}on(){we=this}off(){we=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Qo(){return we}let W;const ir=new WeakSet;class gn{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,we&&we.active&&we.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ir.has(this)&&(ir.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wi(this),mn(this);const e=W,s=Ce;W=this,Ce=!0;try{return this.fn()}finally{vn(this),W=e,Ce=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Vr(e);this.deps=this.depsTail=void 0,wi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ir.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yr(this)&&this.run()}get dirty(){return yr(this)}}let _n=0,Jt,Vt;function wn(t,e=!1){if(t.flags|=8,e){t.next=Vt,Vt=t;return}t.next=Jt,Jt=t}function Kr(){_n++}function Jr(){if(--_n>0)return;if(Vt){let e=Vt;for(Vt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Jt;){let e=Jt;for(Jt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function mn(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function vn(t){let e,s=t.depsTail,r=s;for(;r;){const i=r.prevDep;r.version===-1?(r===s&&(s=i),Vr(r),Xo(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=s}function yr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yn(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function yn(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===es))return;t.globalVersion=es;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!yr(t)){t.flags&=-3;return}const s=W,r=Ce;W=t,Ce=!0;try{mn(t);const i=t.fn(t._value);(e.version===0||Xe(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{W=s,Ce=r,vn(t),t.flags&=-3}}function Vr(t,e=!1){const{dep:s,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let n=s.computed.deps;n;n=n.nextDep)Vr(n,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Xo(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ce=!0;const bn=[];function tt(){bn.push(Ce),Ce=!1}function st(){const t=bn.pop();Ce=t===void 0?!0:t}function wi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=W;W=void 0;try{e()}finally{W=s}}}let es=0;class Zo{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!W||!Ce||W===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==W)s=this.activeLink=new Zo(W,this),W.deps?(s.prevDep=W.depsTail,W.depsTail.nextDep=s,W.depsTail=s):W.deps=W.depsTail=s,Tn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=W.depsTail,s.nextDep=void 0,W.depsTail.nextDep=s,W.depsTail=s,W.deps===s&&(W.deps=r)}return s}trigger(e){this.version++,es++,this.notify(e)}notify(e){Kr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Jr()}}}function Tn(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Tn(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const br=new WeakMap,ft=Symbol(""),Tr=Symbol(""),ts=Symbol("");function te(t,e,s){if(Ce&&W){let r=br.get(t);r||br.set(t,r=new Map);let i=r.get(s);i||(r.set(s,i=new Wr),i.map=r,i.key=s),i.track()}}function He(t,e,s,r,i,n){const o=br.get(t);if(!o){es++;return}const a=l=>{l&&l.trigger()};if(Kr(),e==="clear")o.forEach(a);else{const l=I(t),u=l&&Hr(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,p)=>{(p==="length"||p===ts||!et(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(ts)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ft)),Et(t)&&a(o.get(Tr)));break;case"delete":l||(a(o.get(ft)),Et(t)&&a(o.get(Tr)));break;case"set":Et(t)&&a(o.get(ft));break}}Jr()}function vt(t){const e=B(t);return e===t?e:(te(e,"iterate",ts),ye(t)?e:e.map(se))}function Ms(t){return te(t=B(t),"iterate",ts),t}const ea={__proto__:null,[Symbol.iterator](){return nr(this,Symbol.iterator,se)},concat(...t){return vt(this).concat(...t.map(e=>I(e)?vt(e):e))},entries(){return nr(this,"entries",t=>(t[1]=se(t[1]),t))},every(t,e){return Me(this,"every",t,e,void 0,arguments)},filter(t,e){return Me(this,"filter",t,e,s=>s.map(se),arguments)},find(t,e){return Me(this,"find",t,e,se,arguments)},findIndex(t,e){return Me(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Me(this,"findLast",t,e,se,arguments)},findLastIndex(t,e){return Me(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Me(this,"forEach",t,e,void 0,arguments)},includes(...t){return or(this,"includes",t)},indexOf(...t){return or(this,"indexOf",t)},join(t){return vt(this).join(t)},lastIndexOf(...t){return or(this,"lastIndexOf",t)},map(t,e){return Me(this,"map",t,e,void 0,arguments)},pop(){return Mt(this,"pop")},push(...t){return Mt(this,"push",t)},reduce(t,...e){return mi(this,"reduce",t,e)},reduceRight(t,...e){return mi(this,"reduceRight",t,e)},shift(){return Mt(this,"shift")},some(t,e){return Me(this,"some",t,e,void 0,arguments)},splice(...t){return Mt(this,"splice",t)},toReversed(){return vt(this).toReversed()},toSorted(t){return vt(this).toSorted(t)},toSpliced(...t){return vt(this).toSpliced(...t)},unshift(...t){return Mt(this,"unshift",t)},values(){return nr(this,"values",se)}};function nr(t,e,s){const r=Ms(t),i=r[e]();return r!==t&&!ye(t)&&(i._next=i.next,i.next=()=>{const n=i._next();return n.value&&(n.value=s(n.value)),n}),i}const ta=Array.prototype;function Me(t,e,s,r,i,n){const o=Ms(t),a=o!==t&&!ye(t),l=o[e];if(l!==ta[e]){const d=l.apply(t,n);return a?se(d):d}let u=s;o!==t&&(a?u=function(d,p){return s.call(this,se(d),p,t)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function mi(t,e,s,r){const i=Ms(t);let n=s;return i!==t&&(ye(t)?s.length>3&&(n=function(o,a,l){return s.call(this,o,a,l,t)}):n=function(o,a,l){return s.call(this,o,se(a),l,t)}),i[e](n,...r)}function or(t,e,s){const r=B(t);te(r,"iterate",ts);const i=r[e](...s);return(i===-1||i===!1)&&Qr(s[0])?(s[0]=B(s[0]),r[e](...s)):i}function Mt(t,e,s=[]){tt(),Kr();const r=B(t)[e].apply(t,s);return Jr(),st(),r}const sa=Mr("__proto__,__v_isRef,__isVue"),Sn=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(et));function ra(t){et(t)||(t=String(t));const e=B(this);return te(e,"has",t),e.hasOwnProperty(t)}class kn{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,n=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return n;if(s==="__v_raw")return r===(i?n?fa:On:n?Cn:En).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=I(e);if(!i){let l;if(o&&(l=ea[s]))return l;if(s==="hasOwnProperty")return ra}const a=Reflect.get(e,s,re(e)?e:r);return(et(s)?Sn.has(s):sa(s))||(i||te(e,"get",s),n)?a:re(a)?o&&Hr(s)?a:a.value:Y(a)?i?An(a):Gr(a):a}}class xn extends kn{constructor(e=!1){super(!1,e)}set(e,s,r,i){let n=e[s];if(!this._isShallow){const l=pt(n);if(!ye(r)&&!pt(r)&&(n=B(n),r=B(r)),!I(e)&&re(n)&&!re(r))return l?!1:(n.value=r,!0)}const o=I(e)&&Hr(s)?Number(s)<e.length:H(e,s),a=Reflect.set(e,s,r,re(e)?e:i);return e===B(i)&&(o?Xe(r,n)&&He(e,"set",s,r):He(e,"add",s,r)),a}deleteProperty(e,s){const r=H(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&r&&He(e,"delete",s,void 0),i}has(e,s){const r=Reflect.has(e,s);return(!et(s)||!Sn.has(s))&&te(e,"has",s),r}ownKeys(e){return te(e,"iterate",I(e)?"length":ft),Reflect.ownKeys(e)}}class ia extends kn{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const na=new xn,oa=new ia,aa=new xn(!0);const Sr=t=>t,_s=t=>Reflect.getPrototypeOf(t);function la(t,e,s){return function(...r){const i=this.__v_raw,n=B(i),o=Et(n),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=s?Sr:e?kr:se;return!e&&te(n,"iterate",l?Tr:ft),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function ws(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ca(t,e){const s={get(i){const n=this.__v_raw,o=B(n),a=B(i);t||(Xe(i,a)&&te(o,"get",i),te(o,"get",a));const{has:l}=_s(o),u=e?Sr:t?kr:se;if(l.call(o,i))return u(n.get(i));if(l.call(o,a))return u(n.get(a));n!==o&&n.get(i)},get size(){const i=this.__v_raw;return!t&&te(B(i),"iterate",ft),Reflect.get(i,"size",i)},has(i){const n=this.__v_raw,o=B(n),a=B(i);return t||(Xe(i,a)&&te(o,"has",i),te(o,"has",a)),i===a?n.has(i):n.has(i)||n.has(a)},forEach(i,n){const o=this,a=o.__v_raw,l=B(a),u=e?Sr:t?kr:se;return!t&&te(l,"iterate",ft),a.forEach((c,d)=>i.call(n,u(c),u(d),o))}};return Z(s,t?{add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear")}:{add(i){!e&&!ye(i)&&!pt(i)&&(i=B(i));const n=B(this);return _s(n).has.call(n,i)||(n.add(i),He(n,"add",i,i)),this},set(i,n){!e&&!ye(n)&&!pt(n)&&(n=B(n));const o=B(this),{has:a,get:l}=_s(o);let u=a.call(o,i);u||(i=B(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,n),u?Xe(n,c)&&He(o,"set",i,n):He(o,"add",i,n),this},delete(i){const n=B(this),{has:o,get:a}=_s(n);let l=o.call(n,i);l||(i=B(i),l=o.call(n,i)),a&&a.call(n,i);const u=n.delete(i);return l&&He(n,"delete",i,void 0),u},clear(){const i=B(this),n=i.size!==0,o=i.clear();return n&&He(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=la(i,t,e)}),s}function zr(t,e){const s=ca(t,e);return(r,i,n)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(H(s,i)&&i in r?s:r,i,n)}const ua={get:zr(!1,!1)},ha={get:zr(!1,!0)},da={get:zr(!0,!1)};const En=new WeakMap,Cn=new WeakMap,On=new WeakMap,fa=new WeakMap;function pa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ga(t){return t.__v_skip||!Object.isExtensible(t)?0:pa(No(t))}function Gr(t){return pt(t)?t:Yr(t,!1,na,ua,En)}function _a(t){return Yr(t,!1,aa,ha,Cn)}function An(t){return Yr(t,!0,oa,da,On)}function Yr(t,e,s,r,i){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=i.get(t);if(n)return n;const o=ga(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return i.set(t,a),a}function Ct(t){return pt(t)?Ct(t.__v_raw):!!(t&&t.__v_isReactive)}function pt(t){return!!(t&&t.__v_isReadonly)}function ye(t){return!!(t&&t.__v_isShallow)}function Qr(t){return t?!!t.__v_raw:!1}function B(t){const e=t&&t.__v_raw;return e?B(e):t}function wa(t){return!H(t,"__v_skip")&&Object.isExtensible(t)&&hn(t,"__v_skip",!0),t}const se=t=>Y(t)?Gr(t):t,kr=t=>Y(t)?An(t):t;function re(t){return t?t.__v_isRef===!0:!1}function ms(t){return ma(t,!1)}function ma(t,e){return re(t)?t:new va(t,e)}class va{constructor(e,s){this.dep=new Wr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:B(e),this._value=s?e:se(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||ye(e)||pt(e);e=r?e:B(e),Xe(e,s)&&(this._rawValue=e,this._value=r?e:se(e),this.dep.trigger())}}function ya(t){return re(t)?t.value:t}const ba={get:(t,e,s)=>e==="__v_raw"?t:ya(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const i=t[e];return re(i)&&!re(s)?(i.value=s,!0):Reflect.set(t,e,s,r)}};function Pn(t){return Ct(t)?t:new Proxy(t,ba)}class Ta{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Wr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=es-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&W!==this)return wn(this,!0),!0}get value(){const e=this.dep.track();return yn(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Sa(t,e,s=!1){let r,i;return D(t)?r=t:(r=t.get,i=t.set),new Ta(r,i,s)}const vs={},As=new WeakMap;let ut;function ka(t,e=!1,s=ut){if(s){let r=As.get(s);r||As.set(s,r=[]),r.push(t)}}function xa(t,e,s=z){const{immediate:r,deep:i,once:n,scheduler:o,augmentJob:a,call:l}=s,u=A=>i?A:ye(A)||i===!1||i===0?Ye(A,1):Ye(A);let c,d,p,_,E=!1,b=!1;if(re(t)?(d=()=>t.value,E=ye(t)):Ct(t)?(d=()=>u(t),E=!0):I(t)?(b=!0,E=t.some(A=>Ct(A)||ye(A)),d=()=>t.map(A=>{if(re(A))return A.value;if(Ct(A))return u(A);if(D(A))return l?l(A,2):A()})):D(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){tt();try{p()}finally{st()}}const A=ut;ut=c;try{return l?l(t,3,[_]):t(_)}finally{ut=A}}:d=Ee,e&&i){const A=d,M=i===!0?1/0:i;d=()=>Ye(A(),M)}const O=Qo(),C=()=>{c.stop(),O&&O.active&&Br(O.effects,c)};if(n&&e){const A=e;e=(...M)=>{A(...M),C()}}let j=b?new Array(t.length).fill(vs):vs;const U=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const M=c.run();if(i||E||(b?M.some((Te,he)=>Xe(Te,j[he])):Xe(M,j))){p&&p();const Te=ut;ut=c;try{const he=[M,j===vs?void 0:b&&j[0]===vs?[]:j,_];l?l(e,3,he):e(...he),j=M}finally{ut=Te}}}else c.run()};return a&&a(U),c=new gn(d),c.scheduler=o?()=>o(U,!1):U,_=A=>ka(A,!1,c),p=c.onStop=()=>{const A=As.get(c);if(A){if(l)l(A,4);else for(const M of A)M();As.delete(c)}},e?r?U(!0):j=c.run():o?o(U.bind(null,!0),!0):c.run(),C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function Ye(t,e=1/0,s){if(e<=0||!Y(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,re(t))Ye(t.value,e,s);else if(I(t))for(let r=0;r<t.length;r++)Ye(t[r],e,s);else if(on(t)||Et(t))t.forEach(r=>{Ye(r,e,s)});else if(cn(t)){for(const r in t)Ye(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ye(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function as(t,e,s,r){try{return r?t(...r):t()}catch(i){Ns(i,e,s)}}function Ue(t,e,s,r){if(D(t)){const i=as(t,e,s,r);return i&&an(i)&&i.catch(n=>{Ns(n,e,s)}),i}if(I(t)){const i=[];for(let n=0;n<t.length;n++)i.push(Ue(t[n],e,s,r));return i}}function Ns(t,e,s,r=!0){const i=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||z;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(n){tt(),as(n,null,10,[t,l,u]),st();return}}Ea(t,s,i,r,o)}function Ea(t,e,s,r=!0,i=!1){if(i)throw t;console.error(t)}const ae=[];let Re=-1;const Ot=[];let We=null,St=0;const jn=Promise.resolve();let Ps=null;function Ca(t){const e=Ps||jn;return t?e.then(this?t.bind(this):t):e}function Oa(t){let e=Re+1,s=ae.length;for(;e<s;){const r=e+s>>>1,i=ae[r],n=ss(i);n<t||n===t&&i.flags&2?e=r+1:s=r}return e}function Xr(t){if(!(t.flags&1)){const e=ss(t),s=ae[ae.length-1];!s||!(t.flags&2)&&e>=ss(s)?ae.push(t):ae.splice(Oa(e),0,t),t.flags|=1,$n()}}function $n(){Ps||(Ps=jn.then(In))}function Aa(t){I(t)?Ot.push(...t):We&&t.id===-1?We.splice(St+1,0,t):t.flags&1||(Ot.push(t),t.flags|=1),$n()}function vi(t,e,s=Re+1){for(;s<ae.length;s++){const r=ae[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ae.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Rn(t){if(Ot.length){const e=[...new Set(Ot)].sort((s,r)=>ss(s)-ss(r));if(Ot.length=0,We){We.push(...e);return}for(We=e,St=0;St<We.length;St++){const s=We[St];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}We=null,St=0}}const ss=t=>t.id==null?t.flags&2?-1:1/0:t.id;function In(t){const e=Ee;try{for(Re=0;Re<ae.length;Re++){const s=ae[Re];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),as(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Re<ae.length;Re++){const s=ae[Re];s&&(s.flags&=-2)}Re=-1,ae.length=0,Rn(),Ps=null,(ae.length||Ot.length)&&In()}}let Le=null,Ln=null;function js(t){const e=Le;return Le=t,Ln=t&&t.type.__scopeId||null,e}function Pa(t,e=Le,s){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ci(-1);const n=js(e);let o;try{o=t(...i)}finally{js(n),r._d&&Ci(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function at(t,e,s,r){const i=t.dirs,n=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(tt(),Ue(l,s,8,[t.el,a,t,e]),st())}}const ja=Symbol("_vte"),$a=t=>t.__isTeleport;function Zr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Zr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Dn(t,e){return D(t)?(()=>Z({name:t.name},e,{setup:t}))():t}function Un(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function $s(t,e,s,r,i=!1){if(I(t)){t.forEach((E,b)=>$s(E,e&&(I(e)?e[b]:e),s,r,i));return}if(Wt(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$s(t,e,s,r.component.subTree);return}const n=r.shapeFlag&4?ii(r.component):r.el,o=i?null:n,{i:a,r:l}=t,u=e&&e.r,c=a.refs===z?a.refs={}:a.refs,d=a.setupState,p=B(d),_=d===z?()=>!1:E=>H(p,E);if(u!=null&&u!==l&&(Q(u)?(c[u]=null,_(u)&&(d[u]=null)):re(u)&&(u.value=null)),D(l))as(l,a,12,[o,c]);else{const E=Q(l),b=re(l);if(E||b){const O=()=>{if(t.f){const C=E?_(l)?d[l]:c[l]:l.value;i?I(C)&&Br(C,n):I(C)?C.includes(n)||C.push(n):E?(c[l]=[n],_(l)&&(d[l]=c[l])):(l.value=[n],t.k&&(c[t.k]=l.value))}else E?(c[l]=o,_(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(O.id=-1,ge(O,s)):O()}}}os().requestIdleCallback;os().cancelIdleCallback;const Wt=t=>!!t.type.__asyncLoader,Fn=t=>t.type.__isKeepAlive;function Ra(t,e){Mn(t,"a",e)}function Ia(t,e){Mn(t,"da",e)}function Mn(t,e,s=le){const r=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Bs(e,r,s),s){let i=s.parent;for(;i&&i.parent;)Fn(i.parent.vnode)&&La(r,e,s,i),i=i.parent}}function La(t,e,s,r){const i=Bs(e,t,r,!0);Bn(()=>{Br(r[e],i)},s)}function Bs(t,e,s=le,r=!1){if(s){const i=s[t]||(s[t]=[]),n=e.__weh||(e.__weh=(...o)=>{tt();const a=ls(s),l=Ue(e,s,t,o);return a(),st(),l});return r?i.unshift(n):i.push(n),n}}const qe=t=>(e,s=le)=>{(!is||t==="sp")&&Bs(t,(...r)=>e(...r),s)},Da=qe("bm"),Nn=qe("m"),Ua=qe("bu"),Fa=qe("u"),Ma=qe("bum"),Bn=qe("um"),Na=qe("sp"),Ba=qe("rtg"),Ha=qe("rtc");function qa(t,e=le){Bs("ec",t,e)}const Ka=Symbol.for("v-ndc");function ar(t,e,s,r){let i;const n=s&&s[r],o=I(t);if(o||Q(t)){const a=o&&Ct(t);let l=!1;a&&(l=!ye(t),t=Ms(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?se(t[u]):t[u],u,void 0,n&&n[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,n&&n[a])}else if(Y(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,n&&n[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,n&&n[l])}}else i=[];return s&&(s[r]=i),i}const xr=t=>t?lo(t)?ii(t):xr(t.parent):null,zt=Z(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xr(t.parent),$root:t=>xr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ei(t),$forceUpdate:t=>t.f||(t.f=()=>{Xr(t.update)}),$nextTick:t=>t.n||(t.n=Ca.bind(t.proxy)),$watch:t=>fl.bind(t)}),lr=(t,e)=>t!==z&&!t.__isScriptSetup&&H(t,e),Ja={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:i,props:n,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return i[e];case 4:return s[e];case 3:return n[e]}else{if(lr(r,e))return o[e]=1,r[e];if(i!==z&&H(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&H(u,e))return o[e]=3,n[e];if(s!==z&&H(s,e))return o[e]=4,s[e];Er&&(o[e]=0)}}const c=zt[e];let d,p;if(c)return e==="$attrs"&&te(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==z&&H(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,H(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:i,ctx:n}=t;return lr(i,e)?(i[e]=s,!0):r!==z&&H(r,e)?(r[e]=s,!0):H(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:i,propsOptions:n}},o){let a;return!!s[o]||t!==z&&H(t,o)||lr(e,o)||(a=n[0])&&H(a,o)||H(r,o)||H(zt,o)||H(i.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:H(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function yi(t){return I(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Er=!0;function Va(t){const e=ei(t),s=t.proxy,r=t.ctx;Er=!1,e.beforeCreate&&bi(e.beforeCreate,t,"bc");const{data:i,computed:n,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:_,updated:E,activated:b,deactivated:O,beforeDestroy:C,beforeUnmount:j,destroyed:U,unmounted:A,render:M,renderTracked:Te,renderTriggered:he,errorCaptured:Fe,serverPrefetch:hs,expose:it,inheritAttrs:Dt,components:ds,directives:fs,filters:Qs}=e;if(u&&Wa(u,r,null),o)for(const G in o){const K=o[G];D(K)&&(r[G]=K.bind(s))}if(i){const G=i.call(s,s);Y(G)&&(t.data=Gr(G))}if(Er=!0,n)for(const G in n){const K=n[G],nt=D(K)?K.bind(s,s):D(K.get)?K.get.bind(s,s):Ee,ps=!D(K)&&D(K.set)?K.set.bind(s):Ee,ot=Cs({get:nt,set:ps});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>ot.value,set:Oe=>ot.value=Oe})}if(a)for(const G in a)Hn(a[G],r,s,G);if(l){const G=D(l)?l.call(s):l;Reflect.ownKeys(G).forEach(K=>{Za(K,G[K])})}c&&bi(c,t,"c");function ie(G,K){I(K)?K.forEach(nt=>G(nt.bind(s))):K&&G(K.bind(s))}if(ie(Da,d),ie(Nn,p),ie(Ua,_),ie(Fa,E),ie(Ra,b),ie(Ia,O),ie(qa,Fe),ie(Ha,Te),ie(Ba,he),ie(Ma,j),ie(Bn,A),ie(Na,hs),I(it))if(it.length){const G=t.exposed||(t.exposed={});it.forEach(K=>{Object.defineProperty(G,K,{get:()=>s[K],set:nt=>s[K]=nt})})}else t.exposed||(t.exposed={});M&&t.render===Ee&&(t.render=M),Dt!=null&&(t.inheritAttrs=Dt),ds&&(t.components=ds),fs&&(t.directives=fs),hs&&Un(t)}function Wa(t,e,s=Ee){I(t)&&(t=Cr(t));for(const r in t){const i=t[r];let n;Y(i)?"default"in i?n=ks(i.from||r,i.default,!0):n=ks(i.from||r):n=ks(i),re(n)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):e[r]=n}}function bi(t,e,s){Ue(I(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Hn(t,e,s,r){let i=r.includes(".")?so(s,r):()=>s[r];if(Q(t)){const n=e[t];D(n)&&xs(i,n)}else if(D(t))xs(i,t.bind(s));else if(Y(t))if(I(t))t.forEach(n=>Hn(n,e,s,r));else{const n=D(t.handler)?t.handler.bind(s):e[t.handler];D(n)&&xs(i,n,t)}}function ei(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:i,optionsCache:n,config:{optionMergeStrategies:o}}=t.appContext,a=n.get(e);let l;return a?l=a:!i.length&&!s&&!r?l=e:(l={},i.length&&i.forEach(u=>Rs(l,u,o,!0)),Rs(l,e,o)),Y(e)&&n.set(e,l),l}function Rs(t,e,s,r=!1){const{mixins:i,extends:n}=e;n&&Rs(t,n,s,!0),i&&i.forEach(o=>Rs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=za[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const za={data:Ti,props:Si,emits:Si,methods:Ht,computed:Ht,beforeCreate:ne,created:ne,beforeMount:ne,mounted:ne,beforeUpdate:ne,updated:ne,beforeDestroy:ne,beforeUnmount:ne,destroyed:ne,unmounted:ne,activated:ne,deactivated:ne,errorCaptured:ne,serverPrefetch:ne,components:Ht,directives:Ht,watch:Ya,provide:Ti,inject:Ga};function Ti(t,e){return e?t?function(){return Z(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function Ga(t,e){return Ht(Cr(t),Cr(e))}function Cr(t){if(I(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ne(t,e){return t?[...new Set([].concat(t,e))]:e}function Ht(t,e){return t?Z(Object.create(null),t,e):e}function Si(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:Z(Object.create(null),yi(t),yi(e!=null?e:{})):e}function Ya(t,e){if(!t)return e;if(!e)return t;const s=Z(Object.create(null),t);for(const r in e)s[r]=ne(t[r],e[r]);return s}function qn(){return{app:null,config:{isNativeTag:Fo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qa=0;function Xa(t,e){return function(r,i=null){D(r)||(r=Z({},r)),i!=null&&!Y(i)&&(i=null);const n=qn(),o=new WeakSet,a=[];let l=!1;const u=n.app={_uid:Qa++,_component:r,_props:i,_container:null,_context:n,_instance:null,version:Ll,get config(){return n.config},set config(c){},use(c,...d){return o.has(c)||(c&&D(c.install)?(o.add(c),c.install(u,...d)):D(c)&&(o.add(c),c(u,...d))),u},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),u},component(c,d){return d?(n.components[c]=d,u):n.components[c]},directive(c,d){return d?(n.directives[c]=d,u):n.directives[c]},mount(c,d,p){if(!l){const _=u._ceVNode||De(r,i);return _.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(_,c):t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,ii(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ue(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return n.provides[c]=d,u},runWithContext(c){const d=At;At=u;try{return c()}finally{At=d}}};return u}}let At=null;function Za(t,e){if(le){let s=le.provides;const r=le.parent&&le.parent.provides;r===s&&(s=le.provides=Object.create(r)),s[t]=e}}function ks(t,e,s=!1){const r=le||Le;if(r||At){const i=At?At._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&D(e)?e.call(r&&r.proxy):e}}const Kn={},Jn=()=>Object.create(Kn),Vn=t=>Object.getPrototypeOf(t)===Kn;function el(t,e,s,r=!1){const i={},n=Jn();t.propsDefaults=Object.create(null),Wn(t,e,i,n);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=r?i:_a(i):t.type.props?t.props=i:t.props=n,t.attrs=n}function tl(t,e,s,r){const{props:i,attrs:n,vnode:{patchFlag:o}}=t,a=B(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(Hs(t.emitsOptions,p))continue;const _=e[p];if(l)if(H(n,p))_!==n[p]&&(n[p]=_,u=!0);else{const E=Ze(p);i[E]=Or(l,a,E,_,t,!1)}else _!==n[p]&&(n[p]=_,u=!0)}}}else{Wn(t,e,i,n)&&(u=!0);let c;for(const d in a)(!e||!H(e,d)&&((c=_t(d))===d||!H(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(i[d]=Or(l,a,d,void 0,t,!0)):delete i[d]);if(n!==a)for(const d in n)(!e||!H(e,d)&&!0)&&(delete n[d],u=!0)}u&&He(t.attrs,"set","")}function Wn(t,e,s,r){const[i,n]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Kt(l))continue;const u=e[l];let c;i&&H(i,c=Ze(l))?!n||!n.includes(c)?s[c]=u:(a||(a={}))[c]=u:Hs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(n){const l=B(s),u=a||z;for(let c=0;c<n.length;c++){const d=n[c];s[d]=Or(i,l,d,u[d],t,!H(u,d))}}return o}function Or(t,e,s,r,i,n){const o=t[s];if(o!=null){const a=H(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&D(l)){const{propsDefaults:u}=i;if(s in u)r=u[s];else{const c=ls(i);r=u[s]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(s,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===_t(s))&&(r=!0))}return r}const sl=new WeakMap;function zn(t,e,s=!1){const r=s?sl:e.propsCache,i=r.get(t);if(i)return i;const n=t.props,o={},a=[];let l=!1;if(!D(t)){const c=d=>{l=!0;const[p,_]=zn(d,e,!0);Z(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!n&&!l)return Y(t)&&r.set(t,xt),xt;if(I(n))for(let c=0;c<n.length;c++){const d=Ze(n[c]);ki(d)&&(o[d]=z)}else if(n)for(const c in n){const d=Ze(c);if(ki(d)){const p=n[c],_=o[d]=I(p)||D(p)?{type:p}:Z({},p),E=_.type;let b=!1,O=!0;if(I(E))for(let C=0;C<E.length;++C){const j=E[C],U=D(j)&&j.name;if(U==="Boolean"){b=!0;break}else U==="String"&&(O=!1)}else b=D(E)&&E.name==="Boolean";_[0]=b,_[1]=O,(b||H(_,"default"))&&a.push(d)}}const u=[o,a];return Y(t)&&r.set(t,u),u}function ki(t){return t[0]!=="$"&&!Kt(t)}const Gn=t=>t[0]==="_"||t==="$stable",ti=t=>I(t)?t.map(Ie):[Ie(t)],rl=(t,e,s)=>{if(e._n)return e;const r=Pa((...i)=>ti(e(...i)),s);return r._c=!1,r},Yn=(t,e,s)=>{const r=t._ctx;for(const i in t){if(Gn(i))continue;const n=t[i];if(D(n))e[i]=rl(i,n,r);else if(n!=null){const o=ti(n);e[i]=()=>o}}},Qn=(t,e)=>{const s=ti(e);t.slots.default=()=>s},Xn=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},il=(t,e,s)=>{const r=t.slots=Jn();if(t.vnode.shapeFlag&32){const i=e._;i?(Xn(r,e,s),s&&hn(r,"_",i,!0)):Yn(e,r)}else e&&Qn(t,e)},nl=(t,e,s)=>{const{vnode:r,slots:i}=t;let n=!0,o=z;if(r.shapeFlag&32){const a=e._;a?s&&a===1?n=!1:Xn(i,e,s):(n=!e.$stable,Yn(e,i)),o=e}else e&&(Qn(t,e),o={default:1});if(n)for(const a in i)!Gn(a)&&o[a]==null&&delete i[a]};function ol(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(os().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const ge=yl;function al(t){return ll(t)}function ll(t,e){ol();const s=os();s.__VUE__=!0;const{insert:r,remove:i,patchProp:n,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:_=Ee,insertStaticContent:E}=t,b=(h,f,g,v=null,w=null,m=null,k=void 0,S=null,T=!!f.dynamicChildren)=>{if(h===f)return;h&&!Nt(h,f)&&(v=gs(h),Oe(h,w,m,!0),h=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:y,ref:$,shapeFlag:x}=f;switch(y){case qs:O(h,f,g,v);break;case gt:C(h,f,g,v);break;case hr:h==null&&j(f,g,v,k);break;case me:ds(h,f,g,v,w,m,k,S,T);break;default:x&1?M(h,f,g,v,w,m,k,S,T):x&6?fs(h,f,g,v,w,m,k,S,T):(x&64||x&128)&&y.process(h,f,g,v,w,m,k,S,T,mt)}$!=null&&w&&$s($,h&&h.ref,m,f||h,!f)},O=(h,f,g,v)=>{if(h==null)r(f.el=a(f.children),g,v);else{const w=f.el=h.el;f.children!==h.children&&u(w,f.children)}},C=(h,f,g,v)=>{h==null?r(f.el=l(f.children||""),g,v):f.el=h.el},j=(h,f,g,v)=>{[h.el,h.anchor]=E(h.children,f,g,v,h.el,h.anchor)},U=({el:h,anchor:f},g,v)=>{let w;for(;h&&h!==f;)w=p(h),r(h,g,v),h=w;r(f,g,v)},A=({el:h,anchor:f})=>{let g;for(;h&&h!==f;)g=p(h),i(h),h=g;i(f)},M=(h,f,g,v,w,m,k,S,T)=>{f.type==="svg"?k="svg":f.type==="math"&&(k="mathml"),h==null?Te(f,g,v,w,m,k,S,T):hs(h,f,w,m,k,S,T)},Te=(h,f,g,v,w,m,k,S)=>{let T,y;const{props:$,shapeFlag:x,transition:P,dirs:R}=h;if(T=h.el=o(h.type,m,$&&$.is,$),x&8?c(T,h.children):x&16&&Fe(h.children,T,null,v,w,cr(h,m),k,S),R&&at(h,null,v,"created"),he(T,h,h.scopeId,k,v),$){for(const J in $)J!=="value"&&!Kt(J)&&n(T,J,null,$[J],m,v);"value"in $&&n(T,"value",null,$.value,m),(y=$.onVnodeBeforeMount)&&Pe(y,v,h)}R&&at(h,null,v,"beforeMount");const N=cl(w,P);N&&P.beforeEnter(T),r(T,f,g),((y=$&&$.onVnodeMounted)||N||R)&&ge(()=>{y&&Pe(y,v,h),N&&P.enter(T),R&&at(h,null,v,"mounted")},w)},he=(h,f,g,v,w)=>{if(g&&_(h,g),v)for(let m=0;m<v.length;m++)_(h,v[m]);if(w){let m=w.subTree;if(f===m||io(m.type)&&(m.ssContent===f||m.ssFallback===f)){const k=w.vnode;he(h,k,k.scopeId,k.slotScopeIds,w.parent)}}},Fe=(h,f,g,v,w,m,k,S,T=0)=>{for(let y=T;y<h.length;y++){const $=h[y]=S?ze(h[y]):Ie(h[y]);b(null,$,f,g,v,w,m,k,S)}},hs=(h,f,g,v,w,m,k)=>{const S=f.el=h.el;let{patchFlag:T,dynamicChildren:y,dirs:$}=f;T|=h.patchFlag&16;const x=h.props||z,P=f.props||z;let R;if(g&&lt(g,!1),(R=P.onVnodeBeforeUpdate)&&Pe(R,g,f,h),$&&at(f,h,g,"beforeUpdate"),g&&lt(g,!0),(x.innerHTML&&P.innerHTML==null||x.textContent&&P.textContent==null)&&c(S,""),y?it(h.dynamicChildren,y,S,g,v,cr(f,w),m):k||K(h,f,S,null,g,v,cr(f,w),m,!1),T>0){if(T&16)Dt(S,x,P,g,w);else if(T&2&&x.class!==P.class&&n(S,"class",null,P.class,w),T&4&&n(S,"style",x.style,P.style,w),T&8){const N=f.dynamicProps;for(let J=0;J<N.length;J++){const q=N[J],de=x[q],ee=P[q];(ee!==de||q==="value")&&n(S,q,de,ee,w,g)}}T&1&&h.children!==f.children&&c(S,f.children)}else!k&&y==null&&Dt(S,x,P,g,w);((R=P.onVnodeUpdated)||$)&&ge(()=>{R&&Pe(R,g,f,h),$&&at(f,h,g,"updated")},v)},it=(h,f,g,v,w,m,k)=>{for(let S=0;S<f.length;S++){const T=h[S],y=f[S],$=T.el&&(T.type===me||!Nt(T,y)||T.shapeFlag&70)?d(T.el):g;b(T,y,$,null,v,w,m,k,!0)}},Dt=(h,f,g,v,w)=>{if(f!==g){if(f!==z)for(const m in f)!Kt(m)&&!(m in g)&&n(h,m,f[m],null,w,v);for(const m in g){if(Kt(m))continue;const k=g[m],S=f[m];k!==S&&m!=="value"&&n(h,m,S,k,w,v)}"value"in g&&n(h,"value",f.value,g.value,w)}},ds=(h,f,g,v,w,m,k,S,T)=>{const y=f.el=h?h.el:a(""),$=f.anchor=h?h.anchor:a("");let{patchFlag:x,dynamicChildren:P,slotScopeIds:R}=f;R&&(S=S?S.concat(R):R),h==null?(r(y,g,v),r($,g,v),Fe(f.children||[],g,$,w,m,k,S,T)):x>0&&x&64&&P&&h.dynamicChildren?(it(h.dynamicChildren,P,g,w,m,k,S),(f.key!=null||w&&f===w.subTree)&&Zn(h,f,!0)):K(h,f,g,$,w,m,k,S,T)},fs=(h,f,g,v,w,m,k,S,T)=>{f.slotScopeIds=S,h==null?f.shapeFlag&512?w.ctx.activate(f,g,v,k,T):Qs(f,g,v,w,m,k,T):hi(h,f,T)},Qs=(h,f,g,v,w,m,k)=>{const S=h.component=Al(h,v,w);if(Fn(h)&&(S.ctx.renderer=mt),Pl(S,!1,k),S.asyncDep){if(w&&w.registerDep(S,ie,k),!h.el){const T=S.subTree=De(gt);C(null,T,f,g)}}else ie(S,h,f,g,w,m,k)},hi=(h,f,g)=>{const v=f.component=h.component;if(ml(h,f,g))if(v.asyncDep&&!v.asyncResolved){G(v,f,g);return}else v.next=f,v.update();else f.el=h.el,v.vnode=f},ie=(h,f,g,v,w,m,k)=>{const S=()=>{if(h.isMounted){let{next:x,bu:P,u:R,parent:N,vnode:J}=h;{const fe=eo(h);if(fe){x&&(x.el=J.el,G(h,x,k)),fe.asyncDep.then(()=>{h.isUnmounted||S()});return}}let q=x,de;lt(h,!1),x?(x.el=J.el,G(h,x,k)):x=J,P&&sr(P),(de=x.props&&x.props.onVnodeBeforeUpdate)&&Pe(de,N,x,J),lt(h,!0);const ee=ur(h),Se=h.subTree;h.subTree=ee,b(Se,ee,d(Se.el),gs(Se),h,w,m),x.el=ee.el,q===null&&vl(h,ee.el),R&&ge(R,w),(de=x.props&&x.props.onVnodeUpdated)&&ge(()=>Pe(de,N,x,J),w)}else{let x;const{el:P,props:R}=f,{bm:N,m:J,parent:q,root:de,type:ee}=h,Se=Wt(f);if(lt(h,!1),N&&sr(N),!Se&&(x=R&&R.onVnodeBeforeMount)&&Pe(x,q,f),lt(h,!0),P&&er){const fe=()=>{h.subTree=ur(h),er(P,h.subTree,h,w,null)};Se&&ee.__asyncHydrate?ee.__asyncHydrate(P,h,fe):fe()}else{de.ce&&de.ce._injectChildStyle(ee);const fe=h.subTree=ur(h);b(null,fe,g,v,h,w,m),f.el=fe.el}if(J&&ge(J,w),!Se&&(x=R&&R.onVnodeMounted)){const fe=f;ge(()=>Pe(x,q,fe),w)}(f.shapeFlag&256||q&&Wt(q.vnode)&&q.vnode.shapeFlag&256)&&h.a&&ge(h.a,w),h.isMounted=!0,f=g=v=null}};h.scope.on();const T=h.effect=new gn(S);h.scope.off();const y=h.update=T.run.bind(T),$=h.job=T.runIfDirty.bind(T);$.i=h,$.id=h.uid,T.scheduler=()=>Xr($),lt(h,!0),y()},G=(h,f,g)=>{f.component=h;const v=h.vnode.props;h.vnode=f,h.next=null,tl(h,f.props,v,g),nl(h,f.children,g),tt(),vi(h),st()},K=(h,f,g,v,w,m,k,S,T=!1)=>{const y=h&&h.children,$=h?h.shapeFlag:0,x=f.children,{patchFlag:P,shapeFlag:R}=f;if(P>0){if(P&128){ps(y,x,g,v,w,m,k,S,T);return}else if(P&256){nt(y,x,g,v,w,m,k,S,T);return}}R&8?($&16&&Ut(y,w,m),x!==y&&c(g,x)):$&16?R&16?ps(y,x,g,v,w,m,k,S,T):Ut(y,w,m,!0):($&8&&c(g,""),R&16&&Fe(x,g,v,w,m,k,S,T))},nt=(h,f,g,v,w,m,k,S,T)=>{h=h||xt,f=f||xt;const y=h.length,$=f.length,x=Math.min(y,$);let P;for(P=0;P<x;P++){const R=f[P]=T?ze(f[P]):Ie(f[P]);b(h[P],R,g,null,w,m,k,S,T)}y>$?Ut(h,w,m,!0,!1,x):Fe(f,g,v,w,m,k,S,T,x)},ps=(h,f,g,v,w,m,k,S,T)=>{let y=0;const $=f.length;let x=h.length-1,P=$-1;for(;y<=x&&y<=P;){const R=h[y],N=f[y]=T?ze(f[y]):Ie(f[y]);if(Nt(R,N))b(R,N,g,null,w,m,k,S,T);else break;y++}for(;y<=x&&y<=P;){const R=h[x],N=f[P]=T?ze(f[P]):Ie(f[P]);if(Nt(R,N))b(R,N,g,null,w,m,k,S,T);else break;x--,P--}if(y>x){if(y<=P){const R=P+1,N=R<$?f[R].el:v;for(;y<=P;)b(null,f[y]=T?ze(f[y]):Ie(f[y]),g,N,w,m,k,S,T),y++}}else if(y>P)for(;y<=x;)Oe(h[y],w,m,!0),y++;else{const R=y,N=y,J=new Map;for(y=N;y<=P;y++){const pe=f[y]=T?ze(f[y]):Ie(f[y]);pe.key!=null&&J.set(pe.key,y)}let q,de=0;const ee=P-N+1;let Se=!1,fe=0;const Ft=new Array(ee);for(y=0;y<ee;y++)Ft[y]=0;for(y=R;y<=x;y++){const pe=h[y];if(de>=ee){Oe(pe,w,m,!0);continue}let Ae;if(pe.key!=null)Ae=J.get(pe.key);else for(q=N;q<=P;q++)if(Ft[q-N]===0&&Nt(pe,f[q])){Ae=q;break}Ae===void 0?Oe(pe,w,m,!0):(Ft[Ae-N]=y+1,Ae>=fe?fe=Ae:Se=!0,b(pe,f[Ae],g,null,w,m,k,S,T),de++)}const pi=Se?ul(Ft):xt;for(q=pi.length-1,y=ee-1;y>=0;y--){const pe=N+y,Ae=f[pe],gi=pe+1<$?f[pe+1].el:v;Ft[y]===0?b(null,Ae,g,gi,w,m,k,S,T):Se&&(q<0||y!==pi[q]?ot(Ae,g,gi,2):q--)}}},ot=(h,f,g,v,w=null)=>{const{el:m,type:k,transition:S,children:T,shapeFlag:y}=h;if(y&6){ot(h.component.subTree,f,g,v);return}if(y&128){h.suspense.move(f,g,v);return}if(y&64){k.move(h,f,g,mt);return}if(k===me){r(m,f,g);for(let x=0;x<T.length;x++)ot(T[x],f,g,v);r(h.anchor,f,g);return}if(k===hr){U(h,f,g);return}if(v!==2&&y&1&&S)if(v===0)S.beforeEnter(m),r(m,f,g),ge(()=>S.enter(m),w);else{const{leave:x,delayLeave:P,afterLeave:R}=S,N=()=>r(m,f,g),J=()=>{x(m,()=>{N(),R&&R()})};P?P(m,N,J):J()}else r(m,f,g)},Oe=(h,f,g,v=!1,w=!1)=>{const{type:m,props:k,ref:S,children:T,dynamicChildren:y,shapeFlag:$,patchFlag:x,dirs:P,cacheIndex:R}=h;if(x===-2&&(w=!1),S!=null&&$s(S,null,g,h,!0),R!=null&&(f.renderCache[R]=void 0),$&256){f.ctx.deactivate(h);return}const N=$&1&&P,J=!Wt(h);let q;if(J&&(q=k&&k.onVnodeBeforeUnmount)&&Pe(q,f,h),$&6)Uo(h.component,g,v);else{if($&128){h.suspense.unmount(g,v);return}N&&at(h,null,f,"beforeUnmount"),$&64?h.type.remove(h,f,g,mt,v):y&&!y.hasOnce&&(m!==me||x>0&&x&64)?Ut(y,f,g,!1,!0):(m===me&&x&384||!w&&$&16)&&Ut(T,f,g),v&&di(h)}(J&&(q=k&&k.onVnodeUnmounted)||N)&&ge(()=>{q&&Pe(q,f,h),N&&at(h,null,f,"unmounted")},g)},di=h=>{const{type:f,el:g,anchor:v,transition:w}=h;if(f===me){Do(g,v);return}if(f===hr){A(h);return}const m=()=>{i(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(h.shapeFlag&1&&w&&!w.persisted){const{leave:k,delayLeave:S}=w,T=()=>k(g,m);S?S(h.el,m,T):T()}else m()},Do=(h,f)=>{let g;for(;h!==f;)g=p(h),i(h),h=g;i(f)},Uo=(h,f,g)=>{const{bum:v,scope:w,job:m,subTree:k,um:S,m:T,a:y}=h;xi(T),xi(y),v&&sr(v),w.stop(),m&&(m.flags|=8,Oe(k,h,f,g)),S&&ge(S,f),ge(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Ut=(h,f,g,v=!1,w=!1,m=0)=>{for(let k=m;k<h.length;k++)Oe(h[k],f,g,v,w)},gs=h=>{if(h.shapeFlag&6)return gs(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),g=f&&f[ja];return g?p(g):f};let Xs=!1;const fi=(h,f,g)=>{h==null?f._vnode&&Oe(f._vnode,null,null,!0):b(f._vnode||null,h,f,null,null,null,g),f._vnode=h,Xs||(Xs=!0,vi(),Rn(),Xs=!1)},mt={p:b,um:Oe,m:ot,r:di,mt:Qs,mc:Fe,pc:K,pbc:it,n:gs,o:t};let Zs,er;return e&&([Zs,er]=e(mt)),{render:fi,hydrate:Zs,createApp:Xa(fi,Zs)}}function cr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function lt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zn(t,e,s=!1){const r=t.children,i=e.children;if(I(r)&&I(i))for(let n=0;n<r.length;n++){const o=r[n];let a=i[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[n]=ze(i[n]),a.el=o.el),!s&&a.patchFlag!==-2&&Zn(o,a)),a.type===qs&&(a.el=o.el)}}function ul(t){const e=t.slice(),s=[0];let r,i,n,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=s[s.length-1],t[i]<u){e[r]=i,s.push(r);continue}for(n=0,o=s.length-1;n<o;)a=n+o>>1,t[s[a]]<u?n=a+1:o=a;u<t[s[n]]&&(n>0&&(e[r]=s[n-1]),s[n]=r)}}for(n=s.length,o=s[n-1];n-- >0;)s[n]=o,o=e[o];return s}function eo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:eo(e)}function xi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const hl=Symbol.for("v-scx"),dl=()=>ks(hl);function xs(t,e,s){return to(t,e,s)}function to(t,e,s=z){const{immediate:r,deep:i,flush:n,once:o}=s,a=Z({},s),l=e&&r||!e&&n!=="post";let u;if(is){if(n==="sync"){const _=dl();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=Ee,_.resume=Ee,_.pause=Ee,_}}const c=le;a.call=(_,E,b)=>Ue(_,c,E,b);let d=!1;n==="post"?a.scheduler=_=>{ge(_,c&&c.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(_,E)=>{E?_():Xr(_)}),a.augmentJob=_=>{e&&(_.flags|=4),d&&(_.flags|=2,c&&(_.id=c.uid,_.i=c))};const p=xa(t,e,a);return is&&(u?u.push(p):l&&p()),p}function fl(t,e,s){const r=this.proxy,i=Q(t)?t.includes(".")?so(r,t):()=>r[t]:t.bind(r,r);let n;D(e)?n=e:(n=e.handler,s=e);const o=ls(this),a=to(i,n.bind(r),s);return o(),a}function so(t,e){const s=e.split(".");return()=>{let r=t;for(let i=0;i<s.length&&r;i++)r=r[s[i]];return r}}const pl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ze(e)}Modifiers`]||t[`${_t(e)}Modifiers`];function gl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||z;let i=s;const n=e.startsWith("update:"),o=n&&pl(r,e.slice(7));o&&(o.trim&&(i=s.map(c=>Q(c)?c.trim():c)),o.number&&(i=s.map(qo)));let a,l=r[a=tr(e)]||r[a=tr(Ze(e))];!l&&n&&(l=r[a=tr(_t(e))]),l&&Ue(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ue(u,t,6,i)}}function ro(t,e,s=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const n=t.emits;let o={},a=!1;if(!D(t)){const l=u=>{const c=ro(u,e,!0);c&&(a=!0,Z(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!a?(Y(t)&&r.set(t,null),null):(I(n)?n.forEach(l=>o[l]=null):Z(o,n),Y(t)&&r.set(t,o),o)}function Hs(t,e){return!t||!Ds(e)?!1:(e=e.slice(2).replace(/Once$/,""),H(t,e[0].toLowerCase()+e.slice(1))||H(t,_t(e))||H(t,e))}function ur(t){const{type:e,vnode:s,proxy:r,withProxy:i,propsOptions:[n],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:_,ctx:E,inheritAttrs:b}=t,O=js(t);let C,j;try{if(s.shapeFlag&4){const A=i||r,M=A;C=Ie(u.call(M,A,c,d,_,p,E)),j=a}else{const A=e;C=Ie(A.length>1?A(d,{attrs:a,slots:o,emit:l}):A(d,null)),j=e.props?a:_l(a)}}catch(A){Gt.length=0,Ns(A,t,1),C=De(gt)}let U=C;if(j&&b!==!1){const A=Object.keys(j),{shapeFlag:M}=U;A.length&&M&7&&(n&&A.some(Nr)&&(j=wl(j,n)),U=jt(U,j,!1,!0))}return s.dirs&&(U=jt(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&Zr(U,s.transition),C=U,js(O),C}const _l=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ds(s))&&((e||(e={}))[s]=t[s]);return e},wl=(t,e)=>{const s={};for(const r in t)(!Nr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function ml(t,e,s){const{props:r,children:i,component:n}=t,{props:o,children:a,patchFlag:l}=e,u=n.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ei(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==r[p]&&!Hs(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ei(r,o,u):!0:!!o;return!1}function Ei(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const n=r[i];if(e[n]!==t[n]&&!Hs(s,n))return!0}return!1}function vl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const io=t=>t.__isSuspense;function yl(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Aa(t)}const me=Symbol.for("v-fgt"),qs=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),hr=Symbol.for("v-stc"),Gt=[];let ve=null;function ke(t=!1){Gt.push(ve=t?null:[])}function bl(){Gt.pop(),ve=Gt[Gt.length-1]||null}let rs=1;function Ci(t,e=!1){rs+=t,t<0&&ve&&e&&(ve.hasOnce=!0)}function no(t){return t.dynamicChildren=rs>0?ve||xt:null,bl(),rs>0&&ve&&ve.push(t),t}function je(t,e,s,r,i,n){return no(oe(t,e,s,r,i,n,!0))}function Tl(t,e,s,r,i){return no(De(t,e,s,r,i,!0))}function oo(t){return t?t.__v_isVNode===!0:!1}function Nt(t,e){return t.type===e.type&&t.key===e.key}const ao=({key:t})=>t!=null?t:null,Es=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Q(t)||re(t)||D(t)?{i:Le,r:t,k:e,f:!!s}:t:null);function oe(t,e=null,s=null,r=0,i=null,n=t===me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ao(e),ref:e&&Es(e),scopeId:Ln,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Le};return a?(ri(l,s),n&128&&t.normalize(l)):s&&(l.shapeFlag|=Q(s)?8:16),rs>0&&!o&&ve&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&ve.push(l),l}const De=Sl;function Sl(t,e=null,s=null,r=0,i=null,n=!1){if((!t||t===Ka)&&(t=gt),oo(t)){const a=jt(t,e,!0);return s&&ri(a,s),rs>0&&!n&&ve&&(a.shapeFlag&6?ve[ve.indexOf(t)]=a:ve.push(a)),a.patchFlag=-2,a}if(Il(t)&&(t=t.__vccOpts),e){e=kl(e);let{class:a,style:l}=e;a&&!Q(a)&&(e.class=Zt(a)),Y(l)&&(Qr(l)&&!I(l)&&(l=Z({},l)),e.style=qr(l))}const o=Q(t)?1:io(t)?128:$a(t)?64:Y(t)?4:D(t)?2:0;return oe(t,e,s,r,i,o,n,!0)}function kl(t){return t?Qr(t)||Vn(t)?Z({},t):t:null}function jt(t,e,s=!1,r=!1){const{props:i,ref:n,patchFlag:o,children:a,transition:l}=t,u=e?El(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ao(u),ref:e&&e.ref?s&&n?I(n)?n.concat(Es(e)):[n,Es(e)]:Es(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jt(t.ssContent),ssFallback:t.ssFallback&&jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Zr(c,l.clone(c)),c}function si(t=" ",e=0){return De(qs,null,t,e)}function xl(t="",e=!1){return e?(ke(),Tl(gt,null,t)):De(gt,null,t)}function Ie(t){return t==null||typeof t=="boolean"?De(gt):I(t)?De(me,null,t.slice()):oo(t)?ze(t):De(qs,null,String(t))}function ze(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jt(t)}function ri(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(I(e))s=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),ri(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!Vn(e)?e._ctx=Le:i===3&&Le&&(Le.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else D(e)?(e={default:e,_ctx:Le},s=32):(e=String(e),r&64?(s=16,e=[si(e)]):s=8);t.children=e,t.shapeFlag|=s}function El(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Zt([e.class,r.class]));else if(i==="style")e.style=qr([e.style,r.style]);else if(Ds(i)){const n=e[i],o=r[i];o&&n!==o&&!(I(n)&&n.includes(o))&&(e[i]=n?[].concat(n,o):o)}else i!==""&&(e[i]=r[i])}return e}function Pe(t,e,s,r=null){Ue(t,e,7,[s,r])}const Cl=qn();let Ol=0;function Al(t,e,s){const r=t.type,i=(e?e.appContext:t.appContext)||Cl,n={uid:Ol++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zn(r,i),emitsOptions:ro(r,i),emit:null,emitted:null,propsDefaults:z,inheritAttrs:r.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=gl.bind(null,n),t.ce&&t.ce(n),n}let le=null,Is,Ar;{const t=os(),e=(s,r)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(r),n=>{i.length>1?i.forEach(o=>o(n)):i[0](n)}};Is=e("__VUE_INSTANCE_SETTERS__",s=>le=s),Ar=e("__VUE_SSR_SETTERS__",s=>is=s)}const ls=t=>{const e=le;return Is(t),t.scope.on(),()=>{t.scope.off(),Is(e)}},Oi=()=>{le&&le.scope.off(),Is(null)};function lo(t){return t.vnode.shapeFlag&4}let is=!1;function Pl(t,e=!1,s=!1){e&&Ar(e);const{props:r,children:i}=t.vnode,n=lo(t);el(t,r,n,e),il(t,i,s);const o=n?jl(t,e):void 0;return e&&Ar(!1),o}function jl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ja);const{setup:r}=s;if(r){tt();const i=t.setupContext=r.length>1?Rl(t):null,n=ls(t),o=as(r,t,0,[t.props,i]),a=an(o);if(st(),n(),(a||t.sp)&&!Wt(t)&&Un(t),a){if(o.then(Oi,Oi),e)return o.then(l=>{Ai(t,l,e)}).catch(l=>{Ns(l,t,0)});t.asyncDep=o}else Ai(t,o,e)}else co(t,e)}function Ai(t,e,s){D(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Pn(e)),co(t,s)}let Pi;function co(t,e,s){const r=t.type;if(!t.render){if(!e&&Pi&&!r.render){const i=r.template||ei(t).template;if(i){const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Z(Z({isCustomElement:n,delimiters:a},o),l);r.render=Pi(i,u)}}t.render=r.render||Ee}{const i=ls(t);tt();try{Va(t)}finally{st(),i()}}}const $l={get(t,e){return te(t,"get",""),t[e]}};function Rl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,$l),slots:t.slots,emit:t.emit,expose:e}}function ii(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Pn(wa(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in zt)return zt[s](t)},has(e,s){return s in e||s in zt}})):t.proxy}function Il(t){return D(t)&&"__vccOpts"in t}const Cs=(t,e)=>Sa(t,e,is),Ll="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;const ji=typeof window<"u"&&window.trustedTypes;if(ji)try{Pr=ji.createPolicy("vue",{createHTML:t=>t})}catch{}const uo=Pr?t=>Pr.createHTML(t):t=>t,Dl="http://www.w3.org/2000/svg",Ul="http://www.w3.org/1998/Math/MathML",Ne=typeof document<"u"?document:null,$i=Ne&&Ne.createElement("template"),Fl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const i=e==="svg"?Ne.createElementNS(Dl,t):e==="mathml"?Ne.createElementNS(Ul,t):s?Ne.createElement(t,{is:s}):Ne.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ne.createTextNode(t),createComment:t=>Ne.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ne.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,i,n){const o=s?s.previousSibling:e.lastChild;if(i&&(i===n||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===n||!(i=i.nextSibling)););else{$i.innerHTML=uo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=$i.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ml=Symbol("_vtc");function Nl(t,e,s){const r=t[Ml];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ri=Symbol("_vod"),Bl=Symbol("_vsh"),Hl=Symbol(""),ql=/(^|;)\s*display\s*:/;function Kl(t,e,s){const r=t.style,i=Q(s);let n=!1;if(s&&!i){if(e)if(Q(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Os(r,a,"")}else for(const o in e)s[o]==null&&Os(r,o,"");for(const o in s)o==="display"&&(n=!0),Os(r,o,s[o])}else if(i){if(e!==s){const o=r[Hl];o&&(s+=";"+o),r.cssText=s,n=ql.test(s)}}else e&&t.removeAttribute("style");Ri in t&&(t[Ri]=n?r.display:"",t[Bl]&&(r.display="none"))}const Ii=/\s*!important$/;function Os(t,e,s){if(I(s))s.forEach(r=>Os(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Jl(t,e);Ii.test(s)?t.setProperty(_t(r),s.replace(Ii,""),"important"):t[r]=s}}const Li=["Webkit","Moz","ms"],dr={};function Jl(t,e){const s=dr[e];if(s)return s;let r=Ze(e);if(r!=="filter"&&r in t)return dr[e]=r;r=un(r);for(let i=0;i<Li.length;i++){const n=Li[i]+r;if(n in t)return dr[e]=n}return e}const Di="http://www.w3.org/1999/xlink";function Ui(t,e,s,r,i,n=Go(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Di,e.slice(6,e.length)):t.setAttributeNS(Di,e,s):s==null||n&&!dn(s)?t.removeAttribute(e):t.setAttribute(e,n?"":et(s)?String(s):s)}function Fi(t,e,s,r,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?uo(s):s);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=dn(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function Vl(t,e,s,r){t.addEventListener(e,s,r)}function Wl(t,e,s,r){t.removeEventListener(e,s,r)}const Mi=Symbol("_vei");function zl(t,e,s,r,i=null){const n=t[Mi]||(t[Mi]={}),o=n[e];if(r&&o)o.value=r;else{const[a,l]=Gl(e);if(r){const u=n[e]=Xl(r,i);Vl(t,a,u,l)}else o&&(Wl(t,a,o,l),n[e]=void 0)}}const Ni=/(?:Once|Passive|Capture)$/;function Gl(t){let e;if(Ni.test(t)){e={};let r;for(;r=t.match(Ni);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):_t(t.slice(2)),e]}let fr=0;const Yl=Promise.resolve(),Ql=()=>fr||(Yl.then(()=>fr=0),fr=Date.now());function Xl(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ue(Zl(r,s.value),e,5,[r])};return s.value=t,s.attached=Ql(),s}function Zl(t,e){if(I(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Bi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ec=(t,e,s,r,i,n)=>{const o=i==="svg";e==="class"?Nl(t,r,o):e==="style"?Kl(t,s,r):Ds(e)?Nr(e)||zl(t,e,s,r,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):tc(t,e,r,o))?(Fi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ui(t,e,r,o,n,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Q(r))?Fi(t,Ze(e),r,n,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ui(t,e,r,o))};function tc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Bi(e)&&D(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Bi(e)&&Q(s)?!1:e in t}const sc=Z({patchProp:ec},Fl);let Hi;function rc(){return Hi||(Hi=al(sc))}const ic=(...t)=>{const e=rc().createApp(...t),{mount:s}=e;return e.mount=r=>{const i=oc(r);if(!i)return;const n=e._component;!D(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,nc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function nc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function oc(t){return Q(t)?document.querySelector(t):t}const ac="modulepreload",lc=function(t){return"/trivia-taiwan/"+t},qi={},$t=function(e,s,r){if(!s||s.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(s.map(n=>{if(n=lc(n),n in qi)return;qi[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===n&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":ac,o||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())},cc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>$t(()=>Promise.resolve().then(()=>It),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ni extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class uc extends ni{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class hc extends ni{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dc extends ni{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jr||(jr={}));var fc=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class pc{constructor(e,{headers:s={},customFetch:r,region:i=jr.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=cc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return fc(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(E=>{throw new uc(E)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new hc(c);if(!c.ok)throw new dc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield c.json():p==="application/octet-stream"?_=yield c.blob():p==="text/event-stream"?_=c:p==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gc(t){var e=t.default;if(typeof e=="function"){var s=function(){return e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),s}var ue={},oi={},Ks={},cs={},Js={},Vs={},_c=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rt=_c();const wc=Rt.fetch,ho=Rt.fetch.bind(Rt),fo=Rt.Headers,mc=Rt.Request,vc=Rt.Response,It=Object.freeze(Object.defineProperty({__proto__:null,fetch:wc,default:ho,Headers:fo,Request:mc,Response:vc},Symbol.toStringTag,{value:"Module"})),yc=gc(It);var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});class bc extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Ws.default=bc;var po=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});const Tc=po(yc),Sc=po(Ws);class kc{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Tc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,a,l;let u=null,c=null,d=null,p=n.status,_=n.statusText;if(n.ok){if(this.method!=="HEAD"){const C=await n.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=C:c=JSON.parse(C))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&O&&O.length>1&&(d=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,_="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const b=await n.text();try{u=JSON.parse(b),Array.isArray(u)&&n.status===404&&(c=[],u=null,p=200,_="OK")}catch{n.status===404&&b===""?(p=204,_="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&((l=u==null?void 0:u.details)===null||l===void 0?void 0:l.includes("0 rows"))&&(u=null,p=200,_="OK"),u&&this.shouldThrowOnError)throw new Sc.default(u)}return{error:u,data:c,count:d,status:p,statusText:_}});return this.shouldThrowOnError||(i=i.catch(n=>{var o,a,l;return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(a=n==null?void 0:n.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=n==null?void 0:n.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}}Vs.default=kc;var xc=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const Ec=xc(Vs);class Cc extends Ec.default{select(e){let s=!1;const r=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const o=n?`${n}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}Js.default=Cc;var Oc=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});const Ac=Oc(Js);class Pc extends Ac.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}}cs.default=Pc;var jc=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});const Bt=jc(cs);class $c{constructor(e,{headers:s={},schema:r,fetch:i}){this.url=e,this.headers=s,this.schema=r,this.fetch=i}select(e,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let n=!1;const o=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Bt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Bt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Bt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Bt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Bt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}Ks.default=$c;var zs={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.version=void 0;Gs.version="0.0.0-automated";Object.defineProperty(zs,"__esModule",{value:!0});zs.DEFAULT_HEADERS=void 0;const Rc=Gs;zs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Rc.version}`};var go=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(oi,"__esModule",{value:!0});const Ic=go(Ks),Lc=go(cs),Dc=zs;class ai{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Dc.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new Ic.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ai(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:n}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=s);const u=Object.assign({},this.headers);return n&&(u.Prefer=`count=${n}`),new Lc.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}oi.default=ai;var Lt=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ue,"__esModule",{value:!0});ue.PostgrestError=ue.PostgrestBuilder=ue.PostgrestTransformBuilder=ue.PostgrestFilterBuilder=ue.PostgrestQueryBuilder=ue.PostgrestClient=void 0;const _o=Lt(oi);ue.PostgrestClient=_o.default;const wo=Lt(Ks);ue.PostgrestQueryBuilder=wo.default;const mo=Lt(cs);ue.PostgrestFilterBuilder=mo.default;const vo=Lt(Js);ue.PostgrestTransformBuilder=vo.default;const yo=Lt(Vs);ue.PostgrestBuilder=yo.default;const bo=Lt(Ws);ue.PostgrestError=bo.default;var Uc=ue.default={PostgrestClient:_o.default,PostgrestQueryBuilder:wo.default,PostgrestFilterBuilder:mo.default,PostgrestTransformBuilder:vo.default,PostgrestBuilder:yo.default,PostgrestError:bo.default};const{PostgrestClient:Fc,PostgrestQueryBuilder:Bh,PostgrestFilterBuilder:Hh,PostgrestTransformBuilder:qh,PostgrestBuilder:Kh,PostgrestError:Jh}=Uc,Mc="2.11.2",Nc={"X-Client-Info":`realtime-js/${Mc}`},Bc="1.0.0",To=1e4,Hc=1e3;var Pt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pt||(Pt={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xe||(xe={}));var $r;(function(t){t.websocket="websocket"})($r||($r={}));var dt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dt||(dt={}));class qc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const i=s.getUint8(1),n=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+n));o=o+n;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class So{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Ki=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((n,o)=>(n[o]=Kc(o,t,e,i),n),{})},Kc=(t,e,s,r)=>{const i=e.find(a=>a.name===t),n=i==null?void 0:i.type,o=s[t];return n&&!r.includes(n)?ko(n,o):Rr(o)},ko=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return zc(e,s)}switch(t){case V.bool:return Jc(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Vc(e);case V.json:case V.jsonb:return Wc(e);case V.timestamp:return Gc(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return Rr(e);default:return Rr(e)}},Rr=t=>t,Jc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let n;const o=t.slice(1,s);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>ko(e,a))}return t},Gc=t=>typeof t=="string"?t.replace(" ","T"):t,xo=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class pr{constructor(e,s,r={},i=To){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ji;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ji||(Ji={}));class Yt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yt.syncState(this.state,i,n,o),this.pendingDiffs.forEach(l=>{this.state=Yt.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yt.syncDiff(this.state,i,n,o),a())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const n=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(n,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=n[u];if(d){const p=c.map(O=>O.presence_ref),_=d.map(O=>O.presence_ref),E=c.filter(O=>_.indexOf(O.presence_ref)<0),b=d.filter(O=>p.indexOf(O.presence_ref)<0);E.length>0&&(a[u]=E),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(n,{joins:a,leaves:l},r,i)}static syncDiff(e,s,r,i){const{joins:n,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(_=>_.presence_ref),p=c.filter(_=>d.indexOf(_.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vi||(Vi={}));var Wi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wi||(Wi={}));var Be;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Be||(Be={}));class li{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new pr(this,xe.join,this.params,this.timeout),this.rejoinTimer=new So(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xe.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new Yt(this),this.broadcastEndpointURL=xo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Be.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Be.CLOSED));const l={},u={broadcast:n,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Be.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,_=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,E=[];for(let b=0;b<_;b++){const O=p[b],{filter:{event:C,schema:j,table:U,filter:A}}=O,M=c&&c[b];if(M&&M.event===C&&M.schema===j&&M.table===U&&M.filter===A)E.push(Object.assign(Object.assign({},O),{id:M.id}));else{this.unsubscribe(),e==null||e(Be.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Be.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Be.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Be.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),u.receive("ok",()=>n("ok")),u.receive("error",()=>n("error")),u.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new pr(this,xe.leave,{},e);i.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(n),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pr(this,e,s,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=xe;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var E,b,O;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(b=_.filter)===null||b===void 0?void 0:b.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(_=>_.callback(p,r)):(n=this.bindings[o])===null||n===void 0||n.filter(_=>{var E,b,O,C,j,U;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const A=_.id,M=(E=_.filter)===null||E===void 0?void 0:E.event;return A&&((b=s.ids)===null||b===void 0?void 0:b.includes(A))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const A=(j=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((U=s==null?void 0:s.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const E=p.data,{schema:b,table:O,commit_timestamp:C,type:j,errors:U}=E;p=Object.assign(Object.assign({},{schema:b,table:O,commit_timestamp:C,eventType:j,new:{},old:{},errors:U}),this._getPayloadRecords(E))}_.callback(p,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),n={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&li.isEqual(i.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xe.close,{},e)}_onError(e){this._on(xe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ki(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ki(e.columns,e.old_record)),s}}const Yc=()=>{},Qc=typeof WebSocket<"u",Xc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zc{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nc,this.params={},this.timeout=To,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Yc,this.conn=null,this.sendBuffer=[],this.serializer=new qc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...a)=>$t(()=>Promise.resolve().then(()=>It),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${$r.websocket}`,this.httpEndpoint=xo(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(n,o)=>o(JSON.stringify(n)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new So(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Qc){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new eu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$t(()=>import("./browser.278a5880.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s!=null?s:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pt.connecting:return dt.Connecting;case Pt.open:return dt.Open;case Pt.closing:return dt.Closing;default:return dt.Closed}}isConnected(){return this.connectionState()===dt.Open}channel(e,s={config:{}}){const r=new li(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:i,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(xe.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Hc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:i,payload:n,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(xe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Xc],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class eu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ci extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function X(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tu extends ci{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ir extends ci{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var su=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Eo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>$t(()=>Promise.resolve().then(()=>It),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},ru=()=>su(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $t(()=>Promise.resolve().then(()=>It),void 0)).Response:Response}),Lr=t=>{if(Array.isArray(t))return t.map(s=>Lr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=Lr(r)}),e};var wt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const gr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iu=(t,e,s)=>wt(void 0,void 0,void 0,function*(){const r=yield ru();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{e(new tu(gr(i),t.status||500))}).catch(i=>{e(new Ir(gr(i),i))}):e(new Ir(gr(t),t))}),nu=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),s))};function us(t,e,s,r,i,n){return wt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,nu(e,r,i,n)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>iu(l,a,r))})})}function Ls(t,e,s,r){return wt(this,void 0,void 0,function*(){return us(t,"GET",e,s,r)})}function Ge(t,e,s,r,i){return wt(this,void 0,void 0,function*(){return us(t,"POST",e,r,i,s)})}function ou(t,e,s,r,i){return wt(this,void 0,void 0,function*(){return us(t,"PUT",e,r,i,s)})}function au(t,e,s,r){return wt(this,void 0,void 0,function*(){return us(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Co(t,e,s,r,i){return wt(this,void 0,void 0,function*(){return us(t,"DELETE",e,r,i,s)})}var ce=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const lu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cu{constructor(e,s={},r,i){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Eo(i)}uploadOrUpdate(e,s,r,i){return ce(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},zi),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l))):(n=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(n){if(X(n))return{data:null,error:n};throw n}})}upload(e,s,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,i){return ce(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:zi.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:n,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(X(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const n=yield Ge(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+n.url),a=o.searchParams.get("token");if(!a)throw new ci("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}update(e,s,r){return ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return ce(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}copy(e,s,r){return ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Ge(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,r){return ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),n=yield Ge(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,r){return ce(this,void 0,void 0,function*(){try{const i=yield Ge(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}download(e,s){return ce(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ls(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}})}info(e){return ce(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ls(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Lr(r),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}exists(e){return ce(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield au(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(X(r)&&r instanceof Ir){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),i=[],n=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";n!==""&&i.push(n);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return ce(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}list(e,s,r){return ce(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lu),s),{prefix:e||""});return{data:yield Ge(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const uu="2.7.1",hu={"X-Client-Info":`storage-js/${uu}`};var yt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class du{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},hu),s),this.fetch=Eo(r)}listBuckets(){return yt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return yt(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return yt(this,void 0,void 0,function*(){try{return{data:yield ou(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Ge(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Co(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}}class fu extends du{constructor(e,s={},r){super(e,s,r)}from(e){return new cu(this.url,this.headers,e,this.fetch)}}const pu="2.49.4";let qt="";typeof Deno<"u"?qt="deno":typeof document<"u"?qt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qt="react-native":qt="node";const gu={"X-Client-Info":`supabase-js-${qt}/${pu}`},_u={headers:gu},wu={schema:"public"},mu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vu={};var yu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const bu=t=>{let e;return t?e=t:typeof fetch>"u"?e=ho:e=fetch,(...s)=>e(...s)},Tu=()=>typeof Headers>"u"?fo:Headers,Su=(t,e,s)=>{const r=bu(s),i=Tu();return(n,o)=>yu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},o),{headers:u}))})};var ku=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function xu(t){return t.replace(/\/$/,"")}function Eu(t,e){const{db:s,auth:r,realtime:i,global:n}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),n),accessToken:()=>ku(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Oo="2.69.1",kt=30*1e3,Dr=3,_r=Dr*kt,Cu="http://localhost:9999",Ou="supabase.auth.token",Au={"X-Client-Info":`gotrue-js/${Oo}`},Ur="X-Supabase-Api-Version",Ao={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ju=6e5;class ui extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $u extends ui{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Ru(t){return L(t)&&t.name==="AuthApiError"}class Po extends ui{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class rt extends ui{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class Je extends rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iu(t){return L(t)&&t.name==="AuthSessionMissingError"}class wr extends rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends rt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bs extends rt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lu(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gi extends rt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fr extends rt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function mr(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Yi extends rt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Qt extends rt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xi=` 	
\r=`.split(""),Du=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xi.length;e+=1)t[Xi[e].charCodeAt(0)]=-2;for(let e=0;e<Qi.length;e+=1)t[Qi[e].charCodeAt(0)]=e;return t})();function jo(t,e,s){const r=Du[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{Mu(o,r,s)};for(let o=0;o<t.length;o+=1)jo(t.charCodeAt(o),i,n);return e.join("")}function Uu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fu(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Uu(r,e)}}function Mu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Nu(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)jo(t.charCodeAt(i),s,r);return new Uint8Array(e)}function Bu(t){const e=[];return Fu(t,s=>e.push(s)),new Uint8Array(e)}function Hu(t){return Math.round(Date.now()/1e3)+t}function qu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $e=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},Xt=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function Ku(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const $o=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>$t(()=>Promise.resolve().then(()=>It),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Ju=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ro=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ts=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ss=async(t,e)=>{await t.removeItem(e)};class Ys{constructor(){this.promise=new Ys.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ys.promiseConstructor=Promise;function vr(t){const e=t.split(".");if(e.length!==3)throw new Qt("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Pu.test(e[r]))throw new Qt("JWT not in base64url format");return{header:JSON.parse(Zi(e[0])),payload:JSON.parse(Zi(e[1])),signature:Nu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Wu(t,e){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await t(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function zu(t){return("0"+t.toString(16)).substr(-2)}function Gu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let n=0;n<56;n++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,zu).join("")}async function Yu(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function Qu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Yu(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bt(t,e,s=!1){const r=Gu();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await Ro(t,`${e}-code-verifier`,i);const n=await Qu(r);return[n,r===n?"plain":"s256"]}const Xu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zu(t){const e=t.headers.get(Ur);if(!e||!e.match(Xu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function th(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var sh=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};const ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rh=[502,503,504];async function en(t){var e;if(!Ju(t))throw new Fr(ht(t),0);if(rh.includes(t.status))throw new Fr(ht(t),t.status);let s;try{s=await t.json()}catch(n){throw new Po(ht(n),n)}let r;const i=Zu(t);if(i&&i.getTime()>=Ao["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Yi(ht(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Je}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new Yi(ht(s),t.status,s.weak_password.reasons);throw new $u(ht(s),t.status||500,r)}const ih=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function F(t,e,s,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[Ur]||(n[Ur]=Ao["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await nh(t,e,s+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function nh(t,e,s,r,i,n){const o=ih(e,r,i,n);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Fr(ht(l),0)}if(a.ok||await en(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await en(l)}}function Ve(t){var e;let s=null;ch(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Hu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function tn(t){const e=Ve(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function oh(t){return{data:t,error:null}}function ah(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=t,o=sh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lh(t){return t}function ch(t){return t.access_token&&t.refresh_token&&t.expires_in}var uh=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};class hh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=$o(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qe})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=uh(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ah,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(L(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qe})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,n,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:lh});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);u[`${O}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qe})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Qe})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qe})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(L(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}const dh={getItem:t=>Xt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{!Xt()||globalThis.localStorage.setItem(t,e)},removeItem:t=>{!Xt()||globalThis.localStorage.removeItem(t)}};function sn(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function fh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tt={debug:!!(globalThis&&Xt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Io extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ph extends Io{}async function gh(t,e,s){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Tt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ph(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Tt.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}fh();const _h={url:Cu,storageKey:Ou,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Au,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rn(t,e,s){return await s()}class ns{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_h),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new hh({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=$o(i.fetch),this.lock=i.lock||rn,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:$e()&&((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0?void 0:s.locks)?this.lock=gh:this.lock=rn,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Xt()?this.storage=dh:(this.memoryStorage={},this.storage=sn(this.memoryStorage)):(this.memoryStorage={},this.storage=sn(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Oo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Ku(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),$e()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(s,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),Lu(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return L(s)?{error:s}:{error:new Po("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const n=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ve}),{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var s,r,i;try{let n;if("email"in e){const{email:c,password:d,options:p}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await bt(this.storage,this.storageKey)),n=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:E},xform:Ve})}else if("phone"in e){const{phone:c,password:d,options:p}=e;n=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ve})}else throw new ys("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let s;if("email"in e){const{email:n,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tn})}else if("phone"in e){const{phone:n,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tn})}else throw new ys("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ts(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s!=null?s:"").split("/");try{const{data:n,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ve});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new wr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i!=null?i:null}),error:o})}catch(n){if(L(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:n,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ve}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,i,n,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await bt(this.storage,this.storageKey));const{error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ys("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let i,n;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:Ve});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,r,i;try{let n=null,o=null;return this.flowType==="pkce"&&([n,o]=await bt(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:oh})}catch(n){if(L(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Je;const{error:i}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:n}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:n}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ys("You must provide either an email or phone number and a type")}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_r:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qe}):await this._useSession(async s=>{var r,i,n;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Je}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Qe})})}catch(s){if(L(s))return Iu(s)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new Je;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bt(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qe});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Je;const s=Date.now()/1e3;let r=s,i=!0,n=null;const{payload:o}=vr(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(s){if(L(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Je;const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!$e())throw new bs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gi("No code detected.");const{data:j,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!n||!a||!o||!u)throw new bs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const _=p-c;_*1e3<=kt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${d}s`);const E=p-d;c-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,p,c):c-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,p,c);const{data:b,error:O}=await this._getUser(n);if(O)throw O;const C={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return{error:n};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ru(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=qu(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:n},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await bt(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(n){if(L(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:i}=await this._useSession(async n=>{var o,a,l,u,c;const{data:d,error:p}=n;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",_,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return $e()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Wu(async i=>(i>0&&await Vu(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ve})),(i,n)=>{const o=200*Math.pow(2,i);return n&&mr(n)&&Date.now()+o-r<kt})}catch(r){if(this._debug(s,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),$e()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ts(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<_r;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${_r}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:n}=await this._callRefreshToken(r.refresh_token);n&&(console.error(n),mr(n)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",n),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ys;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new Je;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={session:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(i,"error",n),L(n)){const o={session:null,error:n};return mr(n)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ro(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window==null?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),kt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/kt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${kt}ms, refresh threshold is ${Dr} ticks`),i<=Dr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Io)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await bt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?{data:null,error:n}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&((i=l==null?void 0:l.totp)===null||i===void 0?void 0:i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return{data:null,error:n};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?{data:null,error:n}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),n=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:i},error:n}=e;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=vr(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+ju>Date.now()))return r;const{data:i,error:n}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||i.keys.length===0)throw new Qt("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Qt("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:_,error:E}=await this.getSession();if(E||!_.session)return{data:null,error:E};r=_.session.access_token}const{header:i,payload:n,signature:o,raw:{header:a,payload:l}}=vr(r);if(eh(n.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:n,header:i,signature:o},error:null}}const u=th(i.alg),c=await this.fetchJwk(i.kid,s),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Bu(`${a}.${l}`)))throw new Qt("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}ns.nextInstanceID=0;const wh=ns;class mh extends wh{constructor(e){super(e)}}var vh=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class yh{constructor(e,s,r){var i,n,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=xu(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:wu,realtime:vu,auth:Object.assign(Object.assign({},mu),{storageKey:l}),global:_u},c=Eu(r!=null?r:{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Su(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Fc(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new pc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return vh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:n,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mh({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:n,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Zc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bh=(t,e,s)=>new yh(t,e,s),Th="https://rfqgxrwervshiyzrsfcb.supabase.co",Sh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmcWd4cndlcnZzaGl5enJzZmNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2NDc0NzMsImV4cCI6MjA1OTIyMzQ3M30.Uu5SdSQy91leGLW8PURxNLzTu69JmhIKRXmCOZ51Iyg",nn=bh(Th,Sh),kh=[{id:1,text:"Taiwan is home to TSMC, the world's leading chip manufacturer, producing over 50% of the world's semiconductors and 90% of advanced chips.",category:"Tech",icon:"\u{1F4BB}",source:["https://www.reuters.com/technology/chipmaker-tsmc-posts-23-q1-profit-drop-2023-04-20/"]},{id:2,text:"Fengjia Night Market in Taichung is one of Taiwan's largest night markets, attracting thousands of visitors daily with its diverse food options.",category:"Culture",icon:"\u{1F319}",source:["https://www.travel.taipei/en/attraction/details/564"]},{id:3,text:"Taiwan has over 100 peaks above 3,000 meters, including Yushan (Jade Mountain), which is the highest peak in Northeast Asia at 3,952 meters.",category:"Nature",icon:"\u26F0\uFE0F",source:["https://www.eastasiaforum.org/2019/10/24/mountain-tourism-and-preservation-in-taiwan/"]},{id:4,text:"Taiwan was the first country in Asia to legalize same-sex marriage (2019), marking a historic moment for LGBTQ+ rights.",category:"History",icon:"\u{1F3F3}\uFE0F\u200D\u{1F308}",source:["https://www.bbc.com/news/world-asia-48327161"]},{id:5,text:"Bubble tea was invented in Taiwan in the 1980s, with Chun Shui Tang in Taichung being one of the first shops to popularize the drink.",category:"Culture",icon:"\u{1F9CB}",source:["https://www.bbc.com/travel/article/20211114-the-origin-of-bubble-tea"]},{id:6,text:"EVA Air, Taiwan's major airline, has operated Hello Kitty-themed aircraft and airport lounges, showcasing Taiwan's embrace of kawaii culture.",category:"Culture",icon:"\u2708\uFE0F",source:["https://edition.cnn.com/travel/article/hello-kitty-eva-air/index.html"]},{id:7,text:"The Tropic of Cancer runs through Taiwan, giving it a unique climate that supports both tropical and temperate species.",category:"Nature",icon:"\u{1F30D}",source:["https://www.cwb.gov.tw/V8/C/K/Encyclopedia/volcano_e.html"]},{id:8,text:"During Ghost Month (the seventh lunar month), Taiwanese people perform various rituals and make offerings to honor their ancestors.",category:"Culture",icon:"\u{1F47B}",source:["https://international.thenewslens.com/article/113502"]},{id:9,text:"Taroko Gorge is a spectacular marble canyon in Taiwan, featuring stunning cliffs, waterfalls, and the famous Eternal Spring Shrine.",category:"Nature",icon:"\u{1F3D4}\uFE0F",source:["https://www.taroko.gov.tw/en"]},{id:10,text:"7-Eleven stores in Taiwan offer various services, including bill payments, package delivery, and ticket purchases, making them essential to daily life.",category:"Culture",icon:"\u{1F3EA}",source:["https://taiwantoday.tw/news.php?unit=10&post=205105"]},{id:11,text:"Taiwan was under Japanese rule for 50 years (1895\u20131945), leaving lasting cultural influences in architecture and cuisine.",category:"History",icon:"\u{1F1EF}\u{1F1F5}",source:["https://www.britannica.com/place/Taiwan/History"]},{id:12,text:"Pineapple cakes are a beloved Taiwanese pastry, originally made with winter melon. The word for pineapple (\u65FA\u4F86 ong-lai) sounds like \u201Cprosperity comes\u201D.",category:"Culture",icon:"\u{1F34D}",source:["https://guide.taiwan.net.tw/en/food"]},{id:13,text:"Taiwan's High Speed Rail system connects major cities at speeds up to 300 km/h, making it one of Asia's most efficient transportation networks.",category:"Tech",icon:"\u{1F684}",source:["https://www.thsrc.com.tw/en","https://en.wikipedia.org/wiki/Taiwan_High_Speed_Rail"]},{id:14,text:"Taiwan has thousands of temples, many dedicated to various deities and serving as important community centers.",category:"Culture",icon:"\u{1F3EE}",source:["https://english.moe.gov.tw/cp-14-17903-0f5dc-1.html"]},{id:15,text:"Betel nut chewing is a cultural phenomenon in some regions, with distinctive 'betel nut beauties' selling the nuts at roadside stands.",category:"Culture",icon:"\u{1F330}",source:["https://international.thenewslens.com/article/106750","https://topics.amcham.com.tw/2020/07/betel-nuts-in-taiwan/"]},{id:16,text:"Taiwan's National Palace Museum houses one of the world's largest collections of Chinese artifacts.",category:"History",icon:"\u{1F3DB}\uFE0F",source:["https://www.npm.gov.tw/en/Article.aspx?sNo=03000070"]},{id:17,text:"Taiwan is a major producer of computer components, including motherboards.",category:"Tech",icon:"\u{1F527}",source:["https://www.moea.gov.tw/MNS/english/news/News.aspx?kind=6&menu_id=176&news_id=102123"]},{id:18,text:"Taiwan has numerous hot springs, especially in Beitou and Wulai, making it a popular destination for hot spring tourism.",category:"Nature",icon:"\u2668\uFE0F",source:["https://www.travel.taipei/en/attraction/details/524"]},{id:19,text:"Taiwan's convenience stores offer ticket purchases and package delivery, making them essential to daily life.",category:"Culture",icon:"\u{1F3AB}",source:["https://www.taiwannews.com.tw/en/news/4337436"]},{id:20,text:"The Formosan black bear is Taiwan's largest land animal and a symbol of the island's unique wildlife.",category:"Nature",icon:"\u{1F43B}",source:["https://www.taiwannews.com.tw/en/news/3541509"]},{id:21,text:"The Dutch established their first settlement in Taiwan in 1624, building Fort Zeelandia in Tainan.",category:"History",icon:"\u{1F1F3}\u{1F1F1}",source:["https://www.taiwan.gov.tw/content_5.php"]},{id:22,text:"The Spanish briefly colonized northern Taiwan from 1626 to 1642, establishing Fort San Salvador in Keelung.",category:"History",icon:"\u{1F1EA}\u{1F1F8}",source:["https://en.wikipedia.org/wiki/Spanish_Formosa"]},{id:23,text:"The Dutch introduced Christianity to Taiwan in the 17th century, building Protestant churches and introducing new farming methods.",category:"History",icon:"\u26EA",source:["https://taiwantoday.tw/news.php?unit=10&post=195891"]},{id:24,text:"The Indigenous Peoples of Taiwan speak Austronesian languages, related to those in Hawaii, New Zealand, and the Philippines.",category:"History",icon:"\u{1F5E3}\uFE0F",source:["https://www.culture.tw/index.php?option=com_content&task=view&id=1267"]},{id:25,text:"The Amis tribe's harvest festival (Ilisin) is one of Taiwan's most important indigenous celebrations.",category:"Culture",icon:"\u{1F3AD}",source:["https://www.cip.gov.tw/en/news/data-list/64DF71802A6C8B25"]},{id:26,text:"The Bunun people are known for their unique 'eight-part harmony' singing style, recognized as an important cultural heritage.",category:"Culture",icon:"\u{1F3B5}",source:["https://www.indigenousvoice.com.tw/eng/news_detail/100.htm"]},{id:27,text:"During Ghost Month, Taiwanese people avoid swimming, whistling at night, and hanging clothes outside after dark.",category:"Culture",icon:"\u{1F47B}",source:["https://taiwantoday.tw/news.php?unit=10&post=200660"]},{id:28,text:"Taiwan's Spring Scream Festival, held annually in Kenting, is one of the country's oldest and most famous music festivals.",category:"Culture",icon:"\u{1F3B6}",source:["https://english.taiwan.net.tw/m1.aspx?sNo=0002019&id=A12-00006"]},{id:29,text:"The Golden Horse Awards, established in 1962, are among the most prestigious Chinese-language film awards.",category:"Culture",icon:"\u{1F3C6}",source:["https://www.goldenhorse.org.tw/"]},{id:30,text:"Taipei 101 features a 660-ton tuned mass damper that helps it withstand typhoons and earthquakes.",category:"Tech",icon:"\u{1F3D9}\uFE0F",source:["https://www.taipei-101.com.tw/en/about101.aspx"]},{id:31,text:"In Chinese culture, the number 4 is considered unlucky because it sounds similar to the word for 'death'.",category:"Culture",icon:"\u{1F522}",source:["https://thetaiwantimes.com/unlucky-number-four-in-taiwan/"]},{id:32,text:"Taiwan has one of the highest densities of convenience stores in the world, with one store per 1,703 people.",category:"Culture",icon:"\u{1F3EA}",source:["https://international.thenewslens.com/article/148010"]},{id:33,text:"Taiwan's garbage trucks play classical music \u2014 like Beethoven or F\xFCr Elise \u2014 to alert residents it's time to bring out the trash.",category:"Culture",icon:"\u{1F69B}",source:["https://edition.cnn.com/travel/article/taiwan-trash-music/index.html"]},{id:34,text:"Xiaoliuqiu (\u5C0F\u7409\u7403) is one of the few places in the world where you can snorkel with sea turtles year-round. The island has a high population of green sea turtles, and they often swim just a few meters from the shore!",category:"Nature",icon:"\u{1F422}",source:["https://www.lonelyplanet.com/articles/snorkelling-with-turtles-taiwan"]},{id:35,text:"Sweet potato leaves are a beloved everyday veggie in Taiwan \u2014 rich in nutrients and often stir-fried with garlic or served in soup.",category:"Culture",icon:"\u{1F360}",source:["https://thewoksoflife.com/yam-leaves/","https://taikee.com/blogs/taikee-blog/what-are-sweet-potato-leaves"]},{id:36,text:"Taiwan experiences over 1,000 earthquakes a year, most of them minor \u2014 but major quakes like the 921 Earthquake in 1999 have left a lasting impact.",category:"Nature",icon:"\u{1F30F}",source:["https://scweb.cwa.gov.tw/en-us/guidance/faqdetail/190","https://www.earthtrekkers.com/ten-interesting-facts-about-taiwan/"]},{id:37,text:"Taipei has one of the highest scooter densities in the world \u2014 with over 14 million registered scooters across Taiwan!",category:"Culture",icon:"\u{1F6F5}",source:["https://www.lejournalinternational.fr/Scooter-driving-in-Taiwan_a3424.html","https://en.rti.org.tw/news/view/id/2122244"]},{id:38,text:"Taiwan has a temple that honors a loyal black dog \u2014 the Shiba Wang Gong Temple in New Taipei is dedicated to a pup remembered for his bravery.",category:"Culture",icon:"\u{1F415}",source:["https://newtaipei.travel/en/attractions/detail/402847","https://www.taipeitimes.com/News/taiwan/archives/2006/11/07/2003335150"]},{id:39,text:"Taiwan has active volcanoes \u2014 mostly in the north near Yangmingshan, where geothermal activity powers hot springs and fumaroles.",category:"Nature",icon:"\u{1F30B}",source:["https://www.nstm.gov.tw/921earthquake/en/","https://www.lonelyplanet.com/taiwan/central-taiwan/nantou-county/attractions/921-earthquake-museum-of-taiwan/a/poi-sig/1459490/357743"]},{id:40,text:"Over 70% of Taiwan is covered by mountains \u2014 with 268 peaks taller than 3,000 meters, it has the highest mountain density in the world.",category:"Nature",icon:"\u{1F3DE}\uFE0F",source:["https://taiwantoday.tw/news.php?unit=10&post=201745","https://www.lejournalinternational.fr/Scooter-driving-in-Taiwan_a3424.html"]},{id:41,text:"Taipei holds the Guinness World Record for the longest rainbow ever recorded \u2014 it lasted 8 hours and 58 minutes on Nov 30, 2017.",category:"Nature",icon:"\u{1F308}",source:["https://newtaipei.travel/en/attractions/detail/402847","https://www.taipeitimes.com/News/taiwan/archives/2006/11/07/2003335150"]},{id:42,text:"The Yanshui Beehive Fireworks Festival is one of the world\u2019s most dangerous \u2014 people wear helmets while fireworks shoot at the crowd!",category:"Culture",icon:"\u{1F387}",source:["https://www.volcanodiscovery.com/taiwan.html","https://www.cwb.gov.tw/V8/C/K/Encyclopedia/volcano_e.html"]},{id:43,text:"Despite the name, Mongolian barbecue was invented in Taiwan in the 1950s by comedian Wu Zhaonan.",category:"Culture",icon:"\u{1F969}",source:["https://www.eastasiaforum.org/2019/10/24/mountain-tourism-and-preservation-in-taiwan/","https://taiwantoday.tw/news.php?unit=10&post=189265"]},{id:44,text:"The world\u2019s first cat caf\xE9 opened in Taipei in 1998 \u2014 starting a global trend of cozy caf\xE9s filled with friendly cats.",category:"Culture",icon:"\u{1F431}",source:["https://www.nature.com/articles/d41586-017-08436-1","https://edition.cnn.com/2017/12/02/asia/taiwan-rainbow-world-record/index.html"]},{id:45,text:"Taiwanese students have some of the longest school days in the world, averaging 9 to 10 hours per day.",category:"Culture",icon:"\u{1F4DA}",source:["https://www.cnn.com/travel/article/yanshui-beehive-fireworks-taiwan/index.html","https://guidetotaipei.com/visit/yanshui-beehive-fireworks-festival"]},{id:46,text:"Portuguese sailors called Taiwan \u2018Ilha Formosa\u2019 \u2014 meaning \u2018Beautiful Island\u2019 \u2014 for its stunning coastline and lush peaks.",category:"History",icon:"\u{1F5FA}\uFE0F",source:["https://www.taiwannews.com.tw/en/news/3898447","https://theculturetrip.com/asia/taiwan/articles/a-brief-history-of-mongolian-bbq/"]},{id:47,text:"Taiwan\u2019s Beitou hot spring culture was developed during Japanese rule \u2014 complete with public baths and onsens still in use today.",category:"Culture",icon:"\u2668\uFE0F",source:["https://www.lonelyplanet.com/articles/where-cat-cafes-began","https://www.catster.com/lifestyle/first-cat-cafe-history-taipei-taiwan"]},{id:48,text:"The Taiwanese word for lunchbox, 'biandang' (\u4FBF\u7576), comes from the Japanese word 'bent\u014D' \u2014 a legacy of Japanese rule.",category:"Culture",icon:"\u{1F371}",source:["https://www.taipeitimes.com/News/taiwan/archives/2018/10/25/2003703025","https://www.topuniversities.com/student-info/studying-abroad/studying-taiwan-education-overview"]},{id:49,text:"Taiwan\u2019s railway system was originally developed by the Japanese \u2014 many train stations still use Japanese architectural designs.",category:"History",icon:"\u{1F689}",source:["https://www.lonelyplanet.com/taiwan/background/history/8e6fede7-b050-4e1e-8fc7-3c0ff02e6dc5/a/nar/8e6fede7-b050-4e1e-8fc7-3c0ff02e6dc5/360252","https://en.wikipedia.org/wiki/Ilha_Formosa"]},{id:50,text:"The Alishan Forest Railway was built by the Japanese in 1912 to transport timber \u2014 today, it's a scenic route famous for mountain views and sunrises.",category:"History",icon:"\u{1F682}",source:["https://www.britannica.com/place/Taiwan/History","https://guidetotaipei.com/article/taiwan-under-japanese-rule-1895-1945"]}],xh=["data-id"],Eh={class:"trivia-card-icon","aria-hidden":"true"},Ch={class:"trivia-card-text",id:"trivia-text"},Oh=["href"],Ah={class:"trivia-card-reactions"},Ph=["onClick","disabled","aria-label"],jh={key:0},$h={key:1},Rh={key:2},Ih={class:"category-list"},Lh=["onClick","aria-pressed"],Dh=Dn({__name:"TriviaCard",setup(t){const e=ms(kh),s=Cs(()=>{const b=e.value.map(O=>O.category);return[...new Set(b)]}),r=ms(s.value[a(s.value.length)]),i=ms(0),n=Cs(()=>e.value.filter(b=>b.category===r.value)),o=Cs(()=>n.value[i.value%n.value.length]);function a(b){return Math.floor(Math.random()*b)}function l(b){r.value=b;const O=n.value.length;i.value=a(O),d.value=null}function u(){const b=e.value,O=b[a(b.length)];r.value=O.category;const C=e.value.filter(j=>j.category===O.category);i.value=C.findIndex(j=>j.id===O.id),d.value=null}const c=["knew","didntKnow","interesting"],d=ms(null);async function p(b){const O=localStorage.getItem(`trivia-response-${b}`);d.value=O,await _(b)}async function _(b){const{data:O,error:C}=await nn.from("votes").select("reaction").eq("trivia_id",b);if(C){console.error("Error fetching votes:",C);return}const j={knew:0,didntKnow:0,interesting:0};O.forEach(U=>{j[U.reaction]!==void 0&&j[U.reaction]++}),o.value.reactionCounts=j}async function E(b){var C,j;if(!c.includes(b)||d.value)return;const{error:O}=await nn.from("votes").insert({trivia_id:o.value.id,reaction:b});if(O){console.error("Supabase error:",O);return}(j=(C=o.value).reactionCounts)!=null||(C.reactionCounts={knew:0,didntKnow:0,interesting:0}),o.value.reactionCounts[b]++,d.value=b,localStorage.setItem(`trivia-response-${o.value.id}`,b)}return xs(o,b=>{b&&p(b.id)}),Nn(()=>{o.value&&p(o.value.id)}),(b,O)=>(ke(),je(me,null,[oe("div",{class:"trivia-card","data-id":o.value.id},[oe("div",Eh,Ke(o.value.icon),1),oe("div",Ch,[oe("p",null,[si(Ke(o.value.text)+" ",1),o.value.source&&o.value.source.length?(ke(!0),je(me,{key:0},ar(o.value.source,(C,j)=>(ke(),je("sup",{key:C},[oe("a",{href:C,target:"_blank",rel:"noopener noreferrer"},"["+Ke(j+1)+"]",9,Oh)]))),128)):xl("",!0)])]),oe("button",{class:"trivia-card-shuffle-btn",onClick:u,"aria-label":"Shuffle trivia fact","aria-describedby":"trivia-text"},O[0]||(O[0]=[oe("i",{class:"ph ph-shuffle","aria-hidden":"true"},null,-1)])),oe("div",Ah,[(ke(),je(me,null,ar(c,C=>{var j,U,A,M,Te,he;return oe("button",{key:C,class:Zt(["reaction-btn",{active:d.value===C}]),onClick:Fe=>E(C),disabled:d.value!==null,"aria-label":C==="knew"?"I knew this":C==="didntKnow"?"I didn't know this":"Interesting!"},[C==="knew"?(ke(),je("span",jh," \u{1F44D} Knew! ("+Ke((U=(j=o.value.reactionCounts)==null?void 0:j.knew)!=null?U:0)+") ",1)):C==="didntKnow"?(ke(),je("span",$h," \u{1F92F} New! ("+Ke((M=(A=o.value.reactionCounts)==null?void 0:A.didntKnow)!=null?M:0)+") ",1)):(ke(),je("span",Rh," \u{1F60D} Interesting! ("+Ke((he=(Te=o.value.reactionCounts)==null?void 0:Te.interesting)!=null?he:0)+") ",1))],10,Ph)}),64))])],8,xh),oe("div",Ih,[(ke(!0),je(me,null,ar(s.value,C=>(ke(),je("button",{key:C,onClick:j=>l(C),class:Zt(["category-btn",{selected:r.value===C}]),"aria-pressed":r.value===C},Ke(C),11,Lh))),128))])],64))}});const Lo=(t,e)=>{const s=t.__vccOpts||t;for(const[r,i]of e)s[r]=i;return s},Uh=Lo(Dh,[["__scopeId","data-v-f6b9b3e8"]]),Fh={class:"container"},Mh=Dn({__name:"App",setup(t){return(e,s)=>(ke(),je("div",Fh,[s[0]||(s[0]=oe("h1",null,"Trivia Taiwan",-1)),De(Uh),s[1]||(s[1]=oe("footer",{class:"footer"},[si("Made with \u2764\uFE0F by a "),oe("a",{href:"https://estherj-hsu.github.io/"},"Taiwanese")],-1))]))}});const Nh=Lo(Mh,[["__scopeId","data-v-f11b2e4d"]]);ic(Nh).mount("#app");
