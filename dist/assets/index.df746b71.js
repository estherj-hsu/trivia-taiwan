(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const re={},Jt=[],Ke=()=>{},Ja=()=>!1,ar=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yn=t=>t.startsWith("onUpdate:"),he=Object.assign,bn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Wa=Object.prototype.hasOwnProperty,Y=(t,e)=>Wa.call(t,e),H=Array.isArray,Wt=t=>lr(t)==="[object Map]",so=t=>lr(t)==="[object Set]",q=t=>typeof t=="function",oe=t=>typeof t=="string",kt=t=>typeof t=="symbol",ie=t=>t!==null&&typeof t=="object",ro=t=>(ie(t)||q(t))&&q(t.then)&&q(t.catch),no=Object.prototype.toString,lr=t=>no.call(t),Ga=t=>lr(t).slice(8,-1),io=t=>lr(t)==="[object Object]",kn=t=>oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ms=vn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Qa=/-(\w)/g,Ue=cr(t=>t.replace(Qa,(e,s)=>s?s.toUpperCase():"")),Ya=/\B([A-Z])/g,Lt=cr(t=>t.replace(Ya,"-$1").toLowerCase()),ur=cr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cr=cr(t=>t?`on${ur(t)}`:""),bt=(t,e)=>!Object.is(t,e),Ar=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},oo=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Xa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Wn;const Us=()=>Wn||(Wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tn(t){if(H(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=oe(r)?sl(r):Tn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(oe(t)||ie(t))return t}const Za=/;(?![^(]*\))/g,el=/:([^]+)/,tl=/\/\*[^]*?\*\//g;function sl(t){const e={};return t.replace(tl,"").split(Za).forEach(s=>{if(s){const r=s.split(el);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function As(t){let e="";if(oe(t))e=t;else if(H(t))for(let s=0;s<t.length;s++){const r=As(t[s]);r&&(e+=r+" ")}else if(ie(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const rl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nl=vn(rl);function ao(t){return!!t||t===""}const lo=t=>!!(t&&t.__v_isRef===!0),ft=t=>oe(t)?t:t==null?"":H(t)||ie(t)&&(t.toString===no||!q(t.toString))?lo(t)?ft(t.value):JSON.stringify(t,co,2):String(t),co=(t,e)=>lo(e)?co(t,e.value):Wt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Pr(r,i)+" =>"]=n,s),{})}:so(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Pr(s))}:kt(e)?Pr(e):ie(e)&&!H(e)&&!io(e)?String(e):e,Pr=(t,e="")=>{var s;return kt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Re;class il{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Re,!e&&Re&&(this.index=(Re.scopes||(Re.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Re;try{return Re=this,e()}finally{Re=s}}}on(){Re=this}off(){Re=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ol(){return Re}let se;const Or=new WeakSet;class uo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Re&&Re.active&&Re.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Or.has(this)&&(Or.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gn(this),po(this);const e=se,s=Ve;se=this,Ve=!0;try{return this.fn()}finally{go(this),se=e,Ve=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)xn(e);this.deps=this.depsTail=void 0,Gn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Or.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Gr(this)&&this.run()}get dirty(){return Gr(this)}}let ho=0,_s,ws;function fo(t,e=!1){if(t.flags|=8,e){t.next=ws,ws=t;return}t.next=_s,_s=t}function Sn(){ho++}function En(){if(--ho>0)return;if(ws){let e=ws;for(ws=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;_s;){let e=_s;for(_s=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function po(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function go(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),xn(r),al(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Gr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(mo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function mo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ps))return;t.globalVersion=Ps;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Gr(t)){t.flags&=-3;return}const s=se,r=Ve;se=t,Ve=!0;try{po(t);const n=t.fn(t._value);(e.version===0||bt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{se=s,Ve=r,go(t),t.flags&=-3}}function xn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)xn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function al(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ve=!0;const _o=[];function Tt(){_o.push(Ve),Ve=!1}function St(){const t=_o.pop();Ve=t===void 0?!0:t}function Gn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=se;se=void 0;try{e()}finally{se=s}}}let Ps=0;class ll{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Cn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!se||!Ve||se===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==se)s=this.activeLink=new ll(se,this),se.deps?(s.prevDep=se.depsTail,se.depsTail.nextDep=s,se.depsTail=s):se.deps=se.depsTail=s,wo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=se.depsTail,s.nextDep=void 0,se.depsTail.nextDep=s,se.depsTail=s,se.deps===s&&(se.deps=r)}return s}trigger(e){this.version++,Ps++,this.notify(e)}notify(e){Sn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{En()}}}function wo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)wo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Qr=new WeakMap,$t=Symbol(""),Yr=Symbol(""),Os=Symbol("");function de(t,e,s){if(Ve&&se){let r=Qr.get(t);r||Qr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Cn),n.map=r,n.key=s),n.track()}}function lt(t,e,s,r,n,i){const o=Qr.get(t);if(!o){Ps++;return}const a=l=>{l&&l.trigger()};if(Sn(),e==="clear")o.forEach(a);else{const l=H(t),u=l&&kn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===Os||!kt(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Os)),e){case"add":l?u&&a(o.get("length")):(a(o.get($t)),Wt(t)&&a(o.get(Yr)));break;case"delete":l||(a(o.get($t)),Wt(t)&&a(o.get(Yr)));break;case"set":Wt(t)&&a(o.get($t));break}}En()}function Ft(t){const e=Q(t);return e===t?e:(de(e,"iterate",Os),De(t)?e:e.map(pe))}function hr(t){return de(t=Q(t),"iterate",Os),t}const cl={__proto__:null,[Symbol.iterator](){return Rr(this,Symbol.iterator,pe)},concat(...t){return Ft(this).concat(...t.map(e=>H(e)?Ft(e):e))},entries(){return Rr(this,"entries",t=>(t[1]=pe(t[1]),t))},every(t,e){return nt(this,"every",t,e,void 0,arguments)},filter(t,e){return nt(this,"filter",t,e,s=>s.map(pe),arguments)},find(t,e){return nt(this,"find",t,e,pe,arguments)},findIndex(t,e){return nt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return nt(this,"findLast",t,e,pe,arguments)},findLastIndex(t,e){return nt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return nt(this,"forEach",t,e,void 0,arguments)},includes(...t){return $r(this,"includes",t)},indexOf(...t){return $r(this,"indexOf",t)},join(t){return Ft(this).join(t)},lastIndexOf(...t){return $r(this,"lastIndexOf",t)},map(t,e){return nt(this,"map",t,e,void 0,arguments)},pop(){return cs(this,"pop")},push(...t){return cs(this,"push",t)},reduce(t,...e){return Qn(this,"reduce",t,e)},reduceRight(t,...e){return Qn(this,"reduceRight",t,e)},shift(){return cs(this,"shift")},some(t,e){return nt(this,"some",t,e,void 0,arguments)},splice(...t){return cs(this,"splice",t)},toReversed(){return Ft(this).toReversed()},toSorted(t){return Ft(this).toSorted(t)},toSpliced(...t){return Ft(this).toSpliced(...t)},unshift(...t){return cs(this,"unshift",t)},values(){return Rr(this,"values",pe)}};function Rr(t,e,s){const r=hr(t),n=r[e]();return r!==t&&!De(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const ul=Array.prototype;function nt(t,e,s,r,n,i){const o=hr(t),a=o!==t&&!De(t),l=o[e];if(l!==ul[e]){const h=l.apply(t,i);return a?pe(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,pe(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Qn(t,e,s,r){const n=hr(t);let i=s;return n!==t&&(De(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,pe(a),l,t)}),n[e](i,...r)}function $r(t,e,s){const r=Q(t);de(r,"iterate",Os);const n=r[e](...s);return(n===-1||n===!1)&&On(s[0])?(s[0]=Q(s[0]),r[e](...s)):n}function cs(t,e,s=[]){Tt(),Sn();const r=Q(t)[e].apply(t,s);return En(),St(),r}const hl=vn("__proto__,__v_isRef,__isVue"),vo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(kt));function fl(t){kt(t)||(t=String(t));const e=Q(this);return de(e,"has",t),e.hasOwnProperty(t)}class yo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?kl:So:i?To:ko).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=H(e);if(!n){let l;if(o&&(l=cl[s]))return l;if(s==="hasOwnProperty")return fl}const a=Reflect.get(e,s,me(e)?e:r);return(kt(s)?vo.has(s):hl(s))||(n||de(e,"get",s),i)?a:me(a)?o&&kn(s)?a:a.value:ie(a)?n?xo(a):fr(a):a}}class bo extends yo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=jt(i);if(!De(r)&&!jt(r)&&(i=Q(i),r=Q(r)),!H(e)&&me(i)&&!me(r))return l?!1:(i.value=r,!0)}const o=H(e)&&kn(s)?Number(s)<e.length:Y(e,s),a=Reflect.set(e,s,r,me(e)?e:n);return e===Q(n)&&(o?bt(r,i)&&lt(e,"set",s,r):lt(e,"add",s,r)),a}deleteProperty(e,s){const r=Y(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&lt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!kt(s)||!vo.has(s))&&de(e,"has",s),r}ownKeys(e){return de(e,"iterate",H(e)?"length":$t),Reflect.ownKeys(e)}}class dl extends yo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const pl=new bo,gl=new dl,ml=new bo(!0);const Xr=t=>t,qs=t=>Reflect.getPrototypeOf(t);function _l(t,e,s){return function(...r){const n=this.__v_raw,i=Q(n),o=Wt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Xr:e?Zr:pe;return!e&&de(i,"iterate",l?Yr:$t),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function Ks(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function wl(t,e){const s={get(n){const i=this.__v_raw,o=Q(i),a=Q(n);t||(bt(n,a)&&de(o,"get",n),de(o,"get",a));const{has:l}=qs(o),u=e?Xr:t?Zr:pe;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&de(Q(n),"iterate",$t),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Q(i),a=Q(n);return t||(bt(n,a)&&de(o,"has",n),de(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Q(a),u=e?Xr:t?Zr:pe;return!t&&de(l,"iterate",$t),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return he(s,t?{add:Ks("add"),set:Ks("set"),delete:Ks("delete"),clear:Ks("clear")}:{add(n){!e&&!De(n)&&!jt(n)&&(n=Q(n));const i=Q(this);return qs(i).has.call(i,n)||(i.add(n),lt(i,"add",n,n)),this},set(n,i){!e&&!De(i)&&!jt(i)&&(i=Q(i));const o=Q(this),{has:a,get:l}=qs(o);let u=a.call(o,n);u||(n=Q(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?bt(i,c)&&lt(o,"set",n,i):lt(o,"add",n,i),this},delete(n){const i=Q(this),{has:o,get:a}=qs(i);let l=o.call(i,n);l||(n=Q(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&lt(i,"delete",n,void 0),u},clear(){const n=Q(this),i=n.size!==0,o=n.clear();return i&&lt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_l(n,t,e)}),s}function An(t,e){const s=wl(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Y(s,n)&&n in r?s:r,n,i)}const vl={get:An(!1,!1)},yl={get:An(!1,!0)},bl={get:An(!0,!1)};const ko=new WeakMap,To=new WeakMap,So=new WeakMap,kl=new WeakMap;function Tl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sl(t){return t.__v_skip||!Object.isExtensible(t)?0:Tl(Ga(t))}function fr(t){return jt(t)?t:Pn(t,!1,pl,vl,ko)}function Eo(t){return Pn(t,!1,ml,yl,To)}function xo(t){return Pn(t,!0,gl,bl,So)}function Pn(t,e,s,r,n){if(!ie(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Sl(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function Gt(t){return jt(t)?Gt(t.__v_raw):!!(t&&t.__v_isReactive)}function jt(t){return!!(t&&t.__v_isReadonly)}function De(t){return!!(t&&t.__v_isShallow)}function On(t){return t?!!t.__v_raw:!1}function Q(t){const e=t&&t.__v_raw;return e?Q(e):t}function El(t){return!Y(t,"__v_skip")&&Object.isExtensible(t)&&oo(t,"__v_skip",!0),t}const pe=t=>ie(t)?fr(t):t,Zr=t=>ie(t)?xo(t):t;function me(t){return t?t.__v_isRef===!0:!1}function ds(t){return Co(t,!1)}function xl(t){return Co(t,!0)}function Co(t,e){return me(t)?t:new Cl(t,e)}class Cl{constructor(e,s){this.dep=new Cn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Q(e),this._value=s?e:pe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||De(e)||jt(e);e=r?e:Q(e),bt(e,s)&&(this._rawValue=e,this._value=r?e:pe(e),this.dep.trigger())}}function Qt(t){return me(t)?t.value:t}const Al={get:(t,e,s)=>e==="__v_raw"?t:Qt(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return me(n)&&!me(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Ao(t){return Gt(t)?t:new Proxy(t,Al)}class Pl{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Cn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return fo(this,!0),!0}get value(){const e=this.dep.track();return mo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ol(t,e,s=!1){let r,n;return q(t)?r=t:(r=t.get,n=t.set),new Pl(r,n,s)}const Vs={},Zs=new WeakMap;let Pt;function Rl(t,e=!1,s=Pt){if(s){let r=Zs.get(s);r||Zs.set(s,r=[]),r.push(t)}}function $l(t,e,s=re){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=v=>n?v:De(v)||n===!1||n===0?vt(v,1):vt(v);let c,h,p,g,y=!1,T=!1;if(me(t)?(h=()=>t.value,y=De(t)):Gt(t)?(h=()=>u(t),y=!0):H(t)?(T=!0,y=t.some(v=>Gt(v)||De(v)),h=()=>t.map(v=>{if(me(v))return v.value;if(Gt(v))return u(v);if(q(v))return l?l(v,2):v()})):q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){Tt();try{p()}finally{St()}}const v=Pt;Pt=c;try{return l?l(t,3,[g]):t(g)}finally{Pt=v}}:h=Ke,e&&n){const v=h,L=n===!0?1/0:n;h=()=>vt(v(),L)}const x=ol(),O=()=>{c.stop(),x&&x.active&&bn(x.effects,c)};if(i&&e){const v=e;e=(...L)=>{v(...L),O()}}let $=T?new Array(t.length).fill(Vs):Vs;const I=v=>{if(!(!(c.flags&1)||!c.dirty&&!v))if(e){const L=c.run();if(n||y||(T?L.some((N,B)=>bt(N,$[B])):bt(L,$))){p&&p();const N=Pt;Pt=c;try{const B=[L,$===Vs?void 0:T&&$[0]===Vs?[]:$,g];l?l(e,3,B):e(...B),$=L}finally{Pt=N}}}else c.run()};return a&&a(I),c=new uo(h),c.scheduler=o?()=>o(I,!1):I,g=v=>Rl(v,!1,c),p=c.onStop=()=>{const v=Zs.get(c);if(v){if(l)l(v,4);else for(const L of v)L();Zs.delete(c)}},e?r?I(!0):$=c.run():o?o(I.bind(null,!0),!0):c.run(),O.pause=c.pause.bind(c),O.resume=c.resume.bind(c),O.stop=O,O}function vt(t,e=1/0,s){if(e<=0||!ie(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,me(t))vt(t.value,e,s);else if(H(t))for(let r=0;r<t.length;r++)vt(t[r],e,s);else if(so(t)||Wt(t))t.forEach(r=>{vt(r,e,s)});else if(io(t)){for(const r in t)vt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&vt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ms(t,e,s,r){try{return r?t(...r):t()}catch(n){dr(n,e,s)}}function st(t,e,s,r){if(q(t)){const n=Ms(t,e,s,r);return n&&ro(n)&&n.catch(i=>{dr(i,e,s)}),n}if(H(t)){const n=[];for(let i=0;i<t.length;i++)n.push(st(t[i],e,s,r));return n}}function dr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||re;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Tt(),Ms(i,null,10,[t,l,u]),St();return}}jl(t,s,n,r,o)}function jl(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ve=[];let et=-1;const Yt=[];let gt=null,Kt=0;const Po=Promise.resolve();let er=null;function Oo(t){const e=er||Po;return t?e.then(this?t.bind(this):t):e}function Il(t){let e=et+1,s=ve.length;for(;e<s;){const r=e+s>>>1,n=ve[r],i=Rs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Rn(t){if(!(t.flags&1)){const e=Rs(t),s=ve[ve.length-1];!s||!(t.flags&2)&&e>=Rs(s)?ve.push(t):ve.splice(Il(e),0,t),t.flags|=1,Ro()}}function Ro(){er||(er=Po.then(jo))}function Ll(t){H(t)?Yt.push(...t):gt&&t.id===-1?gt.splice(Kt+1,0,t):t.flags&1||(Yt.push(t),t.flags|=1),Ro()}function Yn(t,e,s=et+1){for(;s<ve.length;s++){const r=ve[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ve.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function $o(t){if(Yt.length){const e=[...new Set(Yt)].sort((s,r)=>Rs(s)-Rs(r));if(Yt.length=0,gt){gt.push(...e);return}for(gt=e,Kt=0;Kt<gt.length;Kt++){const s=gt[Kt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}gt=null,Kt=0}}const Rs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function jo(t){const e=Ke;try{for(et=0;et<ve.length;et++){const s=ve[et];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Ms(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;et<ve.length;et++){const s=ve[et];s&&(s.flags&=-2)}et=-1,ve.length=0,$o(),er=null,(ve.length||Yt.length)&&jo()}}let qe=null,Io=null;function tr(t){const e=qe;return qe=t,Io=t&&t.type.__scopeId||null,e}function Dl(t,e=qe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&oi(-1);const i=tr(e);let o;try{o=t(...n)}finally{tr(i),r._d&&oi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function xt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Tt(),st(l,s,8,[t.el,a,t,e]),St())}}const Ul=Symbol("_vte"),Ml=t=>t.__isTeleport;function $n(t,e){t.shapeFlag&6&&t.component?(t.transition=e,$n(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function pr(t,e){return q(t)?(()=>he({name:t.name},e,{setup:t}))():t}function Lo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function sr(t,e,s,r,n=!1){if(H(t)){t.forEach((y,T)=>sr(y,e&&(H(e)?e[T]:e),s,r,n));return}if(vs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&sr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Un(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===re?a.refs={}:a.refs,h=a.setupState,p=Q(h),g=h===re?()=>!1:y=>Y(p,y);if(u!=null&&u!==l&&(oe(u)?(c[u]=null,g(u)&&(h[u]=null)):me(u)&&(u.value=null)),q(l))Ms(l,a,12,[o,c]);else{const y=oe(l),T=me(l);if(y||T){const x=()=>{if(t.f){const O=y?g(l)?h[l]:c[l]:l.value;n?H(O)&&bn(O,i):H(O)?O.includes(i)||O.push(i):y?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,g(l)&&(h[l]=o)):T&&(l.value=o,t.k&&(c[t.k]=o))};o?(x.id=-1,Pe(x,s)):x()}}}Us().requestIdleCallback;Us().cancelIdleCallback;const vs=t=>!!t.type.__asyncLoader,Do=t=>t.type.__isKeepAlive;function Nl(t,e){Uo(t,"a",e)}function Fl(t,e){Uo(t,"da",e)}function Uo(t,e,s=ge){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(gr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Do(n.parent.vnode)&&Bl(r,e,s,n),n=n.parent}}function Bl(t,e,s,r){const n=gr(e,t,r,!0);Mo(()=>{bn(r[e],n)},s)}function gr(t,e,s=ge,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Tt();const a=Ns(s),l=st(e,s,t,o);return a(),St(),l});return r?n.unshift(i):n.push(i),i}}const ct=t=>(e,s=ge)=>{(!js||t==="sp")&&gr(t,(...r)=>e(...r),s)},Hl=ct("bm"),en=ct("m"),ql=ct("bu"),Kl=ct("u"),Vl=ct("bum"),Mo=ct("um"),zl=ct("sp"),Jl=ct("rtg"),Wl=ct("rtc");function Gl(t,e=ge){gr("ec",t,e)}const No="components";function Ql(t,e){return Xl(No,t,!0,e)||t}const Yl=Symbol.for("v-ndc");function Xl(t,e,s=!0,r=!1){const n=qe||ge;if(n){const i=n.type;if(t===No){const a=Fc(i,!1);if(a&&(a===e||a===Ue(e)||a===ur(Ue(e))))return i}const o=Xn(n[t]||i[t],e)||Xn(n.appContext[t],e);return!o&&r?i:o}}function Xn(t,e){return t&&(t[e]||t[Ue(e)]||t[ur(Ue(e))])}function jr(t,e,s,r){let n;const i=s&&s[r],o=H(t);if(o||oe(t)){const a=o&&Gt(t);let l=!1;a&&(l=!De(t),t=hr(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?pe(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i&&i[a])}else if(ie(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i&&i[l])}}else n=[];return s&&(s[r]=n),n}const tn=t=>t?oa(t)?Un(t):tn(t.parent):null,ys=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tn(t.parent),$root:t=>tn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>jn(t),$forceUpdate:t=>t.f||(t.f=()=>{Rn(t.update)}),$nextTick:t=>t.n||(t.n=Oo.bind(t.proxy)),$watch:t=>yc.bind(t)}),Ir=(t,e)=>t!==re&&!t.__isScriptSetup&&Y(t,e),Zl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Ir(r,e))return o[e]=1,r[e];if(n!==re&&Y(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&Y(u,e))return o[e]=3,i[e];if(s!==re&&Y(s,e))return o[e]=4,s[e];sn&&(o[e]=0)}}const c=ys[e];let h,p;if(c)return e==="$attrs"&&de(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==re&&Y(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,Y(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return Ir(n,e)?(n[e]=s,!0):r!==re&&Y(r,e)?(r[e]=s,!0):Y(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==re&&Y(t,o)||Ir(e,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(ys,o)||Y(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Y(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Zn(t){return H(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let sn=!0;function ec(t){const e=jn(t),s=t.proxy,r=t.ctx;sn=!1,e.beforeCreate&&ei(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:y,activated:T,deactivated:x,beforeDestroy:O,beforeUnmount:$,destroyed:I,unmounted:v,render:L,renderTracked:N,renderTriggered:B,errorCaptured:le,serverPrefetch:be,expose:ae,inheritAttrs:Ne,components:We,directives:Fe,filters:as}=e;if(u&&tc(u,r,null),o)for(const Z in o){const J=o[Z];q(J)&&(r[Z]=J.bind(s))}if(n){const Z=n.call(s,s);ie(Z)&&(t.data=fr(Z))}if(sn=!0,i)for(const Z in i){const J=i[Z],rt=q(J)?J.bind(s,s):q(J.get)?J.get.bind(s,s):Ke,ut=!q(J)&&q(J.set)?J.set.bind(s):Ke,Ge=ye({get:rt,set:ut});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:ke=>Ge.value=ke})}if(a)for(const Z in a)Fo(a[Z],r,s,Z);if(l){const Z=q(l)?l.call(s):l;Reflect.ownKeys(Z).forEach(J=>{Qs(J,Z[J])})}c&&ei(c,t,"c");function ce(Z,J){H(J)?J.forEach(rt=>Z(rt.bind(s))):J&&Z(J.bind(s))}if(ce(Hl,h),ce(en,p),ce(ql,g),ce(Kl,y),ce(Nl,T),ce(Fl,x),ce(Gl,le),ce(Wl,N),ce(Jl,B),ce(Vl,$),ce(Mo,v),ce(zl,be),H(ae))if(ae.length){const Z=t.exposed||(t.exposed={});ae.forEach(J=>{Object.defineProperty(Z,J,{get:()=>s[J],set:rt=>s[J]=rt})})}else t.exposed||(t.exposed={});L&&t.render===Ke&&(t.render=L),Ne!=null&&(t.inheritAttrs=Ne),We&&(t.components=We),Fe&&(t.directives=Fe),be&&Lo(t)}function tc(t,e,s=Ke){H(t)&&(t=rn(t));for(const r in t){const n=t[r];let i;ie(n)?"default"in n?i=ze(n.from||r,n.default,!0):i=ze(n.from||r):i=ze(n),me(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function ei(t,e,s){st(H(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Fo(t,e,s,r){let n=r.includes(".")?ea(s,r):()=>s[r];if(oe(t)){const i=e[t];q(i)&&bs(n,i)}else if(q(t))bs(n,t.bind(s));else if(ie(t))if(H(t))t.forEach(i=>Fo(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&bs(n,i,t)}}function jn(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>rr(l,u,o,!0)),rr(l,e,o)),ie(e)&&i.set(e,l),l}function rr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&rr(t,i,s,!0),n&&n.forEach(o=>rr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=sc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const sc={data:ti,props:si,emits:si,methods:ps,computed:ps,beforeCreate:_e,created:_e,beforeMount:_e,mounted:_e,beforeUpdate:_e,updated:_e,beforeDestroy:_e,beforeUnmount:_e,destroyed:_e,unmounted:_e,activated:_e,deactivated:_e,errorCaptured:_e,serverPrefetch:_e,components:ps,directives:ps,watch:nc,provide:ti,inject:rc};function ti(t,e){return e?t?function(){return he(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function rc(t,e){return ps(rn(t),rn(e))}function rn(t){if(H(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function _e(t,e){return t?[...new Set([].concat(t,e))]:e}function ps(t,e){return t?he(Object.create(null),t,e):e}function si(t,e){return t?H(t)&&H(e)?[...new Set([...t,...e])]:he(Object.create(null),Zn(t),Zn(e!=null?e:{})):e}function nc(t,e){if(!t)return e;if(!e)return t;const s=he(Object.create(null),t);for(const r in e)s[r]=_e(t[r],e[r]);return s}function Bo(){return{app:null,config:{isNativeTag:Ja,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ic=0;function oc(t,e){return function(r,n=null){q(r)||(r=he({},r)),n!=null&&!ie(n)&&(n=null);const i=Bo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:ic++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Hc,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&q(c.install)?(o.add(c),c.install(u,...h)):q(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||Ee(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),h&&e?e(g,c):t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,Un(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(st(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Xt;Xt=u;try{return c()}finally{Xt=h}}};return u}}let Xt=null;function Qs(t,e){if(ge){let s=ge.provides;const r=ge.parent&&ge.parent.provides;r===s&&(s=ge.provides=Object.create(r)),s[t]=e}}function ze(t,e,s=!1){const r=ge||qe;if(r||Xt){const n=Xt?Xt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}const Ho={},qo=()=>Object.create(Ho),Ko=t=>Object.getPrototypeOf(t)===Ho;function ac(t,e,s,r=!1){const n={},i=qo();t.propsDefaults=Object.create(null),Vo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Eo(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function lc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Q(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(mr(t.emitsOptions,p))continue;const g=e[p];if(l)if(Y(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const y=Ue(p);n[y]=nn(l,a,y,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Vo(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!Y(e,h)&&((c=Lt(h))===h||!Y(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=nn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!Y(e,h)&&!0)&&(delete i[h],u=!0)}u&&lt(t.attrs,"set","")}function Vo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ms(l))continue;const u=e[l];let c;n&&Y(n,c=Ue(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:mr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Q(s),u=a||re;for(let c=0;c<i.length;c++){const h=i[c];s[h]=nn(n,l,h,u[h],t,!Y(u,h))}}return o}function nn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Ns(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Lt(s))&&(r=!0))}return r}const cc=new WeakMap;function zo(t,e,s=!1){const r=s?cc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const c=h=>{l=!0;const[p,g]=zo(h,e,!0);he(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ie(t)&&r.set(t,Jt),Jt;if(H(i))for(let c=0;c<i.length;c++){const h=Ue(i[c]);ri(h)&&(o[h]=re)}else if(i)for(const c in i){const h=Ue(c);if(ri(h)){const p=i[c],g=o[h]=H(p)||q(p)?{type:p}:he({},p),y=g.type;let T=!1,x=!0;if(H(y))for(let O=0;O<y.length;++O){const $=y[O],I=q($)&&$.name;if(I==="Boolean"){T=!0;break}else I==="String"&&(x=!1)}else T=q(y)&&y.name==="Boolean";g[0]=T,g[1]=x,(T||Y(g,"default"))&&a.push(h)}}const u=[o,a];return ie(t)&&r.set(t,u),u}function ri(t){return t[0]!=="$"&&!ms(t)}const Jo=t=>t[0]==="_"||t==="$stable",In=t=>H(t)?t.map(tt):[tt(t)],uc=(t,e,s)=>{if(e._n)return e;const r=Dl((...n)=>In(e(...n)),s);return r._c=!1,r},Wo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Jo(n))continue;const i=t[n];if(q(i))e[n]=uc(n,i,r);else if(i!=null){const o=In(i);e[n]=()=>o}}},Go=(t,e)=>{const s=In(e);t.slots.default=()=>s},Qo=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},hc=(t,e,s)=>{const r=t.slots=qo();if(t.vnode.shapeFlag&32){const n=e._;n?(Qo(r,e,s),s&&oo(r,"_",n,!0)):Wo(e,r)}else e&&Go(t,e)},fc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=re;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Qo(n,e,s):(i=!e.$stable,Wo(e,n)),o=e}else e&&(Go(t,e),o={default:1});if(i)for(const a in n)!Jo(a)&&o[a]==null&&delete n[a]};function dc(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(Us().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Pe=Cc;function pc(t){return gc(t)}function gc(t,e){dc();const s=Us();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Ke,insertStaticContent:y}=t,T=(f,d,m,b=null,_=null,k=null,A=void 0,C=null,E=!!d.dynamicChildren)=>{if(f===d)return;f&&!us(f,d)&&(b=w(f),ke(f,_,k,!0),f=null),d.patchFlag===-2&&(E=!1,d.dynamicChildren=null);const{type:S,ref:M,shapeFlag:R}=d;switch(S){case _r:x(f,d,m,b);break;case It:O(f,d,m,b);break;case Ur:f==null&&$(d,m,b,A);break;case $e:We(f,d,m,b,_,k,A,C,E);break;default:R&1?L(f,d,m,b,_,k,A,C,E):R&6?Fe(f,d,m,b,_,k,A,C,E):(R&64||R&128)&&S.process(f,d,m,b,_,k,A,C,E,D)}M!=null&&_&&sr(M,f&&f.ref,k,d||f,!d)},x=(f,d,m,b)=>{if(f==null)r(d.el=a(d.children),m,b);else{const _=d.el=f.el;d.children!==f.children&&u(_,d.children)}},O=(f,d,m,b)=>{f==null?r(d.el=l(d.children||""),m,b):d.el=f.el},$=(f,d,m,b)=>{[f.el,f.anchor]=y(f.children,d,m,b,f.el,f.anchor)},I=({el:f,anchor:d},m,b)=>{let _;for(;f&&f!==d;)_=p(f),r(f,m,b),f=_;r(d,m,b)},v=({el:f,anchor:d})=>{let m;for(;f&&f!==d;)m=p(f),n(f),f=m;n(d)},L=(f,d,m,b,_,k,A,C,E)=>{d.type==="svg"?A="svg":d.type==="math"&&(A="mathml"),f==null?N(d,m,b,_,k,A,C,E):be(f,d,_,k,A,C,E)},N=(f,d,m,b,_,k,A,C)=>{let E,S;const{props:M,shapeFlag:R,transition:U,dirs:F}=f;if(E=f.el=o(f.type,k,M&&M.is,M),R&8?c(E,f.children):R&16&&le(f.children,E,null,b,_,Lr(f,k),A,C),F&&xt(f,null,b,"created"),B(E,f,f.scopeId,A,b),M){for(const ee in M)ee!=="value"&&!ms(ee)&&i(E,ee,null,M[ee],k,b);"value"in M&&i(E,"value",null,M.value,k),(S=M.onVnodeBeforeMount)&&Ye(S,b,f)}F&&xt(f,null,b,"beforeMount");const z=mc(_,U);z&&U.beforeEnter(E),r(E,d,m),((S=M&&M.onVnodeMounted)||z||F)&&Pe(()=>{S&&Ye(S,b,f),z&&U.enter(E),F&&xt(f,null,b,"mounted")},_)},B=(f,d,m,b,_)=>{if(m&&g(f,m),b)for(let k=0;k<b.length;k++)g(f,b[k]);if(_){let k=_.subTree;if(d===k||sa(k.type)&&(k.ssContent===d||k.ssFallback===d)){const A=_.vnode;B(f,A,A.scopeId,A.slotScopeIds,_.parent)}}},le=(f,d,m,b,_,k,A,C,E=0)=>{for(let S=E;S<f.length;S++){const M=f[S]=C?mt(f[S]):tt(f[S]);T(null,M,d,m,b,_,k,A,C)}},be=(f,d,m,b,_,k,A)=>{const C=d.el=f.el;let{patchFlag:E,dynamicChildren:S,dirs:M}=d;E|=f.patchFlag&16;const R=f.props||re,U=d.props||re;let F;if(m&&Ct(m,!1),(F=U.onVnodeBeforeUpdate)&&Ye(F,m,d,f),M&&xt(d,f,m,"beforeUpdate"),m&&Ct(m,!0),(R.innerHTML&&U.innerHTML==null||R.textContent&&U.textContent==null)&&c(C,""),S?ae(f.dynamicChildren,S,C,m,b,Lr(d,_),k):A||J(f,d,C,null,m,b,Lr(d,_),k,!1),E>0){if(E&16)Ne(C,R,U,m,_);else if(E&2&&R.class!==U.class&&i(C,"class",null,U.class,_),E&4&&i(C,"style",R.style,U.style,_),E&8){const z=d.dynamicProps;for(let ee=0;ee<z.length;ee++){const X=z[ee],xe=R[X],fe=U[X];(fe!==xe||X==="value")&&i(C,X,xe,fe,_,m)}}E&1&&f.children!==d.children&&c(C,d.children)}else!A&&S==null&&Ne(C,R,U,m,_);((F=U.onVnodeUpdated)||M)&&Pe(()=>{F&&Ye(F,m,d,f),M&&xt(d,f,m,"updated")},b)},ae=(f,d,m,b,_,k,A)=>{for(let C=0;C<d.length;C++){const E=f[C],S=d[C],M=E.el&&(E.type===$e||!us(E,S)||E.shapeFlag&70)?h(E.el):m;T(E,S,M,null,b,_,k,A,!0)}},Ne=(f,d,m,b,_)=>{if(d!==m){if(d!==re)for(const k in d)!ms(k)&&!(k in m)&&i(f,k,d[k],null,_,b);for(const k in m){if(ms(k))continue;const A=m[k],C=d[k];A!==C&&k!=="value"&&i(f,k,C,A,_,b)}"value"in m&&i(f,"value",d.value,m.value,_)}},We=(f,d,m,b,_,k,A,C,E)=>{const S=d.el=f?f.el:a(""),M=d.anchor=f?f.anchor:a("");let{patchFlag:R,dynamicChildren:U,slotScopeIds:F}=d;F&&(C=C?C.concat(F):F),f==null?(r(S,m,b),r(M,m,b),le(d.children||[],m,M,_,k,A,C,E)):R>0&&R&64&&U&&f.dynamicChildren?(ae(f.dynamicChildren,U,m,_,k,A,C),(d.key!=null||_&&d===_.subTree)&&Yo(f,d,!0)):J(f,d,m,M,_,k,A,C,E)},Fe=(f,d,m,b,_,k,A,C,E)=>{d.slotScopeIds=C,f==null?d.shapeFlag&512?_.ctx.activate(d,m,b,A,E):as(d,m,b,_,k,A,E):Ut(f,d,E)},as=(f,d,m,b,_,k,A)=>{const C=f.component=Lc(f,b,_);if(Do(f)&&(C.ctx.renderer=D),Dc(C,!1,A),C.asyncDep){if(_&&_.registerDep(C,ce,A),!f.el){const E=C.subTree=Ee(It);O(null,E,d,m)}}else ce(C,f,d,m,_,k,A)},Ut=(f,d,m)=>{const b=d.component=f.component;if(Ec(f,d,m))if(b.asyncDep&&!b.asyncResolved){Z(b,d,m);return}else b.next=d,b.update();else d.el=f.el,b.vnode=d},ce=(f,d,m,b,_,k,A)=>{const C=()=>{if(f.isMounted){let{next:R,bu:U,u:F,parent:z,vnode:ee}=f;{const Ce=Xo(f);if(Ce){R&&(R.el=ee.el,Z(f,R,A)),Ce.asyncDep.then(()=>{f.isUnmounted||C()});return}}let X=R,xe;Ct(f,!1),R?(R.el=ee.el,Z(f,R,A)):R=ee,U&&Ar(U),(xe=R.props&&R.props.onVnodeBeforeUpdate)&&Ye(xe,z,R,ee),Ct(f,!0);const fe=Dr(f),Be=f.subTree;f.subTree=fe,T(Be,fe,h(Be.el),w(Be),f,_,k),R.el=fe.el,X===null&&xc(f,fe.el),F&&Pe(F,_),(xe=R.props&&R.props.onVnodeUpdated)&&Pe(()=>Ye(xe,z,R,ee),_)}else{let R;const{el:U,props:F}=d,{bm:z,m:ee,parent:X,root:xe,type:fe}=f,Be=vs(d);if(Ct(f,!1),z&&Ar(z),!Be&&(R=F&&F.onVnodeBeforeMount)&&Ye(R,X,d),Ct(f,!0),U&&ne){const Ce=()=>{f.subTree=Dr(f),ne(U,f.subTree,f,_,null)};Be&&fe.__asyncHydrate?fe.__asyncHydrate(U,f,Ce):Ce()}else{xe.ce&&xe.ce._injectChildStyle(fe);const Ce=f.subTree=Dr(f);T(null,Ce,m,b,f,_,k),d.el=Ce.el}if(ee&&Pe(ee,_),!Be&&(R=F&&F.onVnodeMounted)){const Ce=d;Pe(()=>Ye(R,X,Ce),_)}(d.shapeFlag&256||X&&vs(X.vnode)&&X.vnode.shapeFlag&256)&&f.a&&Pe(f.a,_),f.isMounted=!0,d=m=b=null}};f.scope.on();const E=f.effect=new uo(C);f.scope.off();const S=f.update=E.run.bind(E),M=f.job=E.runIfDirty.bind(E);M.i=f,M.id=f.uid,E.scheduler=()=>Rn(M),Ct(f,!0),S()},Z=(f,d,m)=>{d.component=f;const b=f.vnode.props;f.vnode=d,f.next=null,lc(f,d.props,b,m),fc(f,d.children,m),Tt(),Yn(f),St()},J=(f,d,m,b,_,k,A,C,E=!1)=>{const S=f&&f.children,M=f?f.shapeFlag:0,R=d.children,{patchFlag:U,shapeFlag:F}=d;if(U>0){if(U&128){ut(S,R,m,b,_,k,A,C,E);return}else if(U&256){rt(S,R,m,b,_,k,A,C,E);return}}F&8?(M&16&&Ie(S,_,k),R!==S&&c(m,R)):M&16?F&16?ut(S,R,m,b,_,k,A,C,E):Ie(S,_,k,!0):(M&8&&c(m,""),F&16&&le(R,m,b,_,k,A,C,E))},rt=(f,d,m,b,_,k,A,C,E)=>{f=f||Jt,d=d||Jt;const S=f.length,M=d.length,R=Math.min(S,M);let U;for(U=0;U<R;U++){const F=d[U]=E?mt(d[U]):tt(d[U]);T(f[U],F,m,null,_,k,A,C,E)}S>M?Ie(f,_,k,!0,!1,R):le(d,m,b,_,k,A,C,E,R)},ut=(f,d,m,b,_,k,A,C,E)=>{let S=0;const M=d.length;let R=f.length-1,U=M-1;for(;S<=R&&S<=U;){const F=f[S],z=d[S]=E?mt(d[S]):tt(d[S]);if(us(F,z))T(F,z,m,null,_,k,A,C,E);else break;S++}for(;S<=R&&S<=U;){const F=f[R],z=d[U]=E?mt(d[U]):tt(d[U]);if(us(F,z))T(F,z,m,null,_,k,A,C,E);else break;R--,U--}if(S>R){if(S<=U){const F=U+1,z=F<M?d[F].el:b;for(;S<=U;)T(null,d[S]=E?mt(d[S]):tt(d[S]),m,z,_,k,A,C,E),S++}}else if(S>U)for(;S<=R;)ke(f[S],_,k,!0),S++;else{const F=S,z=S,ee=new Map;for(S=z;S<=U;S++){const Ae=d[S]=E?mt(d[S]):tt(d[S]);Ae.key!=null&&ee.set(Ae.key,S)}let X,xe=0;const fe=U-z+1;let Be=!1,Ce=0;const ls=new Array(fe);for(S=0;S<fe;S++)ls[S]=0;for(S=F;S<=R;S++){const Ae=f[S];if(xe>=fe){ke(Ae,_,k,!0);continue}let Qe;if(Ae.key!=null)Qe=ee.get(Ae.key);else for(X=z;X<=U;X++)if(ls[X-z]===0&&us(Ae,d[X])){Qe=X;break}Qe===void 0?ke(Ae,_,k,!0):(ls[Qe-z]=S+1,Qe>=Ce?Ce=Qe:Be=!0,T(Ae,d[Qe],m,null,_,k,A,C,E),xe++)}const zn=Be?_c(ls):Jt;for(X=zn.length-1,S=fe-1;S>=0;S--){const Ae=z+S,Qe=d[Ae],Jn=Ae+1<M?d[Ae+1].el:b;ls[S]===0?T(null,Qe,m,Jn,_,k,A,C,E):Be&&(X<0||S!==zn[X]?Ge(Qe,m,Jn,2):X--)}}},Ge=(f,d,m,b,_=null)=>{const{el:k,type:A,transition:C,children:E,shapeFlag:S}=f;if(S&6){Ge(f.component.subTree,d,m,b);return}if(S&128){f.suspense.move(d,m,b);return}if(S&64){A.move(f,d,m,D);return}if(A===$e){r(k,d,m);for(let R=0;R<E.length;R++)Ge(E[R],d,m,b);r(f.anchor,d,m);return}if(A===Ur){I(f,d,m);return}if(b!==2&&S&1&&C)if(b===0)C.beforeEnter(k),r(k,d,m),Pe(()=>C.enter(k),_);else{const{leave:R,delayLeave:U,afterLeave:F}=C,z=()=>r(k,d,m),ee=()=>{R(k,()=>{z(),F&&F()})};U?U(k,z,ee):ee()}else r(k,d,m)},ke=(f,d,m,b=!1,_=!1)=>{const{type:k,props:A,ref:C,children:E,dynamicChildren:S,shapeFlag:M,patchFlag:R,dirs:U,cacheIndex:F}=f;if(R===-2&&(_=!1),C!=null&&sr(C,null,m,f,!0),F!=null&&(d.renderCache[F]=void 0),M&256){d.ctx.deactivate(f);return}const z=M&1&&U,ee=!vs(f);let X;if(ee&&(X=A&&A.onVnodeBeforeUnmount)&&Ye(X,d,f),M&6)Hs(f.component,m,b);else{if(M&128){f.suspense.unmount(m,b);return}z&&xt(f,null,d,"beforeUnmount"),M&64?f.type.remove(f,d,m,D,b):S&&!S.hasOnce&&(k!==$e||R>0&&R&64)?Ie(S,d,m,!1,!0):(k===$e&&R&384||!_&&M&16)&&Ie(E,d,m),b&&Mt(f)}(ee&&(X=A&&A.onVnodeUnmounted)||z)&&Pe(()=>{X&&Ye(X,d,f),z&&xt(f,null,d,"unmounted")},m)},Mt=f=>{const{type:d,el:m,anchor:b,transition:_}=f;if(d===$e){Nt(m,b);return}if(d===Ur){v(f);return}const k=()=>{n(m),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(f.shapeFlag&1&&_&&!_.persisted){const{leave:A,delayLeave:C}=_,E=()=>A(m,k);C?C(f.el,k,E):E()}else k()},Nt=(f,d)=>{let m;for(;f!==d;)m=p(f),n(f),f=m;n(d)},Hs=(f,d,m)=>{const{bum:b,scope:_,job:k,subTree:A,um:C,m:E,a:S}=f;ni(E),ni(S),b&&Ar(b),_.stop(),k&&(k.flags|=8,ke(A,f,d,m)),C&&Pe(C,d),Pe(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Ie=(f,d,m,b=!1,_=!1,k=0)=>{for(let A=k;A<f.length;A++)ke(f[A],d,m,b,_)},w=f=>{if(f.shapeFlag&6)return w(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=p(f.anchor||f.el),m=d&&d[Ul];return m?p(m):d};let j=!1;const P=(f,d,m)=>{f==null?d._vnode&&ke(d._vnode,null,null,!0):T(d._vnode||null,f,d,null,null,null,m),d._vnode=f,j||(j=!0,Yn(),$o(),j=!1)},D={p:T,um:ke,m:Ge,r:Mt,mt:as,mc:le,pc:J,pbc:ae,n:w,o:t};let W,ne;return e&&([W,ne]=e(D)),{render:P,hydrate:W,createApp:oc(P,W)}}function Lr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ct({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function mc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yo(t,e,s=!1){const r=t.children,n=e.children;if(H(r)&&H(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=mt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Yo(o,a)),a.type===_r&&(a.el=o.el)}}function _c(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Xo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Xo(e)}function ni(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const wc=Symbol.for("v-scx"),vc=()=>ze(wc);function bs(t,e,s){return Zo(t,e,s)}function Zo(t,e,s=re){const{immediate:r,deep:n,flush:i,once:o}=s,a=he({},s),l=e&&r||!e&&i!=="post";let u;if(js){if(i==="sync"){const g=vc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ke,g.resume=Ke,g.pause=Ke,g}}const c=ge;a.call=(g,y,T)=>st(g,c,y,T);let h=!1;i==="post"?a.scheduler=g=>{Pe(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,y)=>{y?g():Rn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=$l(t,e,a);return js&&(u?u.push(p):l&&p()),p}function yc(t,e,s){const r=this.proxy,n=oe(t)?t.includes(".")?ea(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=Ns(this),a=Zo(n,i.bind(r),s);return o(),a}function ea(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const bc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ue(e)}Modifiers`]||t[`${Lt(e)}Modifiers`];function kc(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||re;let n=s;const i=e.startsWith("update:"),o=i&&bc(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>oe(c)?c.trim():c)),o.number&&(n=s.map(Xa)));let a,l=r[a=Cr(e)]||r[a=Cr(Ue(e))];!l&&i&&(l=r[a=Cr(Lt(e))]),l&&st(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,st(u,t,6,n)}}function ta(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=u=>{const c=ta(u,e,!0);c&&(a=!0,he(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ie(t)&&r.set(t,null),null):(H(i)?i.forEach(l=>o[l]=null):he(o,i),ie(t)&&r.set(t,o),o)}function mr(t,e){return!t||!ar(e)?!1:(e=e.slice(2).replace(/Once$/,""),Y(t,e[0].toLowerCase()+e.slice(1))||Y(t,Lt(e))||Y(t,e))}function Dr(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:y,inheritAttrs:T}=t,x=tr(t);let O,$;try{if(s.shapeFlag&4){const v=n||r,L=v;O=tt(u.call(L,v,c,h,g,p,y)),$=a}else{const v=e;O=tt(v.length>1?v(h,{attrs:a,slots:o,emit:l}):v(h,null)),$=e.props?a:Tc(a)}}catch(v){ks.length=0,dr(v,t,1),O=Ee(It)}let I=O;if($&&T!==!1){const v=Object.keys($),{shapeFlag:L}=I;v.length&&L&7&&(i&&v.some(yn)&&($=Sc($,i)),I=es(I,$,!1,!0))}return s.dirs&&(I=es(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&$n(I,s.transition),O=I,tr(x),O}const Tc=t=>{let e;for(const s in t)(s==="class"||s==="style"||ar(s))&&((e||(e={}))[s]=t[s]);return e},Sc=(t,e)=>{const s={};for(const r in t)(!yn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Ec(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?ii(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!mr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ii(r,o,u):!0:!!o;return!1}function ii(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!mr(s,i))return!0}return!1}function xc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const sa=t=>t.__isSuspense;function Cc(t,e){e&&e.pendingBranch?H(t)?e.effects.push(...t):e.effects.push(t):Ll(t)}const $e=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),Ur=Symbol.for("v-stc"),ks=[];let je=null;function Le(t=!1){ks.push(je=t?null:[])}function Ac(){ks.pop(),je=ks[ks.length-1]||null}let $s=1;function oi(t,e=!1){$s+=t,t<0&&je&&e&&(je.hasOnce=!0)}function ra(t){return t.dynamicChildren=$s>0?je||Jt:null,Ac(),$s>0&&je&&je.push(t),t}function Xe(t,e,s,r,n,i){return ra(we(t,e,s,r,n,i,!0))}function na(t,e,s,r,n){return ra(Ee(t,e,s,r,n,!0))}function nr(t){return t?t.__v_isVNode===!0:!1}function us(t,e){return t.type===e.type&&t.key===e.key}const ia=({key:t})=>t!=null?t:null,Ys=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?oe(t)||me(t)||q(t)?{i:qe,r:t,k:e,f:!!s}:t:null);function we(t,e=null,s=null,r=0,n=null,i=t===$e?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ia(e),ref:e&&Ys(e),scopeId:Io,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return a?(Dn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=oe(s)?8:16),$s>0&&!o&&je&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&je.push(l),l}const Ee=Pc;function Pc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Yl)&&(t=It),nr(t)){const a=es(t,e,!0);return s&&Dn(a,s),$s>0&&!i&&je&&(a.shapeFlag&6?je[je.indexOf(t)]=a:je.push(a)),a.patchFlag=-2,a}if(Bc(t)&&(t=t.__vccOpts),e){e=Oc(e);let{class:a,style:l}=e;a&&!oe(a)&&(e.class=As(a)),ie(l)&&(On(l)&&!H(l)&&(l=he({},l)),e.style=Tn(l))}const o=oe(t)?1:sa(t)?128:Ml(t)?64:ie(t)?4:q(t)?2:0;return we(t,e,s,r,n,o,i,!0)}function Oc(t){return t?On(t)||Ko(t)?he({},t):t:null}function es(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?$c(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ia(u),ref:e&&e.ref?s&&i?H(i)?i.concat(Ys(e)):[i,Ys(e)]:Ys(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==$e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&$n(c,l.clone(c)),c}function Ln(t=" ",e=0){return Ee(_r,null,t,e)}function Rc(t="",e=!1){return e?(Le(),na(It,null,t)):Ee(It,null,t)}function tt(t){return t==null||typeof t=="boolean"?Ee(It):H(t)?Ee($e,null,t.slice()):nr(t)?mt(t):Ee(_r,null,String(t))}function mt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function Dn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(H(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Dn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ko(e)?e._ctx=qe:n===3&&qe&&(qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:qe},s=32):(e=String(e),r&64?(s=16,e=[Ln(e)]):s=8);t.children=e,t.shapeFlag|=s}function $c(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=As([e.class,r.class]));else if(n==="style")e.style=Tn([e.style,r.style]);else if(ar(n)){const i=e[n],o=r[n];o&&i!==o&&!(H(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ye(t,e,s,r=null){st(t,e,7,[s,r])}const jc=Bo();let Ic=0;function Lc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||jc,i={uid:Ic++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new il(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zo(r,n),emitsOptions:ta(r,n),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=kc.bind(null,i),t.ce&&t.ce(i),i}let ge=null,ir,on;{const t=Us(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};ir=e("__VUE_INSTANCE_SETTERS__",s=>ge=s),on=e("__VUE_SSR_SETTERS__",s=>js=s)}const Ns=t=>{const e=ge;return ir(t),t.scope.on(),()=>{t.scope.off(),ir(e)}},ai=()=>{ge&&ge.scope.off(),ir(null)};function oa(t){return t.vnode.shapeFlag&4}let js=!1;function Dc(t,e=!1,s=!1){e&&on(e);const{props:r,children:n}=t.vnode,i=oa(t);ac(t,r,i,e),hc(t,n,s);const o=i?Uc(t,e):void 0;return e&&on(!1),o}function Uc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Zl);const{setup:r}=s;if(r){Tt();const n=t.setupContext=r.length>1?Nc(t):null,i=Ns(t),o=Ms(r,t,0,[t.props,n]),a=ro(o);if(St(),i(),(a||t.sp)&&!vs(t)&&Lo(t),a){if(o.then(ai,ai),e)return o.then(l=>{li(t,l,e)}).catch(l=>{dr(l,t,0)});t.asyncDep=o}else li(t,o,e)}else aa(t,e)}function li(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ie(e)&&(t.setupState=Ao(e)),aa(t,s)}let ci;function aa(t,e,s){const r=t.type;if(!t.render){if(!e&&ci&&!r.render){const n=r.template||jn(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=he(he({isCustomElement:i,delimiters:a},o),l);r.render=ci(n,u)}}t.render=r.render||Ke}{const n=Ns(t);Tt();try{ec(t)}finally{St(),n()}}}const Mc={get(t,e){return de(t,"get",""),t[e]}};function Nc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Mc),slots:t.slots,emit:t.emit,expose:e}}function Un(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ao(El(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ys)return ys[s](t)},has(e,s){return s in e||s in ys}})):t.proxy}function Fc(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function Bc(t){return q(t)&&"__vccOpts"in t}const ye=(t,e)=>Ol(t,e,js);function la(t,e,s){const r=arguments.length;return r===2?ie(e)&&!H(e)?nr(e)?Ee(t,null,[e]):Ee(t,e):Ee(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&nr(s)&&(s=[s]),Ee(t,e,s))}const Hc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let an;const ui=typeof window<"u"&&window.trustedTypes;if(ui)try{an=ui.createPolicy("vue",{createHTML:t=>t})}catch{}const ca=an?t=>an.createHTML(t):t=>t,qc="http://www.w3.org/2000/svg",Kc="http://www.w3.org/1998/Math/MathML",ot=typeof document<"u"?document:null,hi=ot&&ot.createElement("template"),Vc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ot.createElementNS(qc,t):e==="mathml"?ot.createElementNS(Kc,t):s?ot.createElement(t,{is:s}):ot.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ot.createTextNode(t),createComment:t=>ot.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ot.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{hi.innerHTML=ca(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=hi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},zc=Symbol("_vtc");function Jc(t,e,s){const r=t[zc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const fi=Symbol("_vod"),Wc=Symbol("_vsh"),Gc=Symbol(""),Qc=/(^|;)\s*display\s*:/;function Yc(t,e,s){const r=t.style,n=oe(s);let i=!1;if(s&&!n){if(e)if(oe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Xs(r,a,"")}else for(const o in e)s[o]==null&&Xs(r,o,"");for(const o in s)o==="display"&&(i=!0),Xs(r,o,s[o])}else if(n){if(e!==s){const o=r[Gc];o&&(s+=";"+o),r.cssText=s,i=Qc.test(s)}}else e&&t.removeAttribute("style");fi in t&&(t[fi]=i?r.display:"",t[Wc]&&(r.display="none"))}const di=/\s*!important$/;function Xs(t,e,s){if(H(s))s.forEach(r=>Xs(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Xc(t,e);di.test(s)?t.setProperty(Lt(r),s.replace(di,""),"important"):t[r]=s}}const pi=["Webkit","Moz","ms"],Mr={};function Xc(t,e){const s=Mr[e];if(s)return s;let r=Ue(e);if(r!=="filter"&&r in t)return Mr[e]=r;r=ur(r);for(let n=0;n<pi.length;n++){const i=pi[n]+r;if(i in t)return Mr[e]=i}return e}const gi="http://www.w3.org/1999/xlink";function mi(t,e,s,r,n,i=nl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(gi,e.slice(6,e.length)):t.setAttributeNS(gi,e,s):s==null||i&&!ao(s)?t.removeAttribute(e):t.setAttribute(e,i?"":kt(s)?String(s):s)}function _i(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?ca(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ao(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Zc(t,e,s,r){t.addEventListener(e,s,r)}function eu(t,e,s,r){t.removeEventListener(e,s,r)}const wi=Symbol("_vei");function tu(t,e,s,r,n=null){const i=t[wi]||(t[wi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=su(e);if(r){const u=i[e]=iu(r,n);Zc(t,a,u,l)}else o&&(eu(t,a,o,l),i[e]=void 0)}}const vi=/(?:Once|Passive|Capture)$/;function su(t){let e;if(vi.test(t)){e={};let r;for(;r=t.match(vi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lt(t.slice(2)),e]}let Nr=0;const ru=Promise.resolve(),nu=()=>Nr||(ru.then(()=>Nr=0),Nr=Date.now());function iu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;st(ou(r,s.value),e,5,[r])};return s.value=t,s.attached=nu(),s}function ou(t,e){if(H(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const yi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,au=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Jc(t,r,o):e==="style"?Yc(t,s,r):ar(e)?yn(e)||tu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lu(t,e,r,o))?(_i(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&mi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!oe(r))?_i(t,Ue(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),mi(t,e,r,o))};function lu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&yi(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return yi(e)&&oe(s)?!1:e in t}const cu=he({patchProp:au},Vc);let bi;function uu(){return bi||(bi=pc(cu))}const hu=(...t)=>{const e=uu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=du(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,fu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function fu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function du(t){return oe(t)?document.querySelector(t):t}const ua=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},pu={},gu={class:"container"};function mu(t,e){const s=Ql("router-view");return Le(),Xe("div",gu,[e[0]||(e[0]=we("h1",null,"Trivia Taiwan",-1)),Ee(s),e[1]||(e[1]=we("footer",{class:"footer"},[Ln("Made with \u2764\uFE0F by a "),we("a",{href:"https://estherj-hsu.github.io/"},"Taiwanese")],-1))])}const _u=ua(pu,[["render",mu],["__scopeId","data-v-cdba6936"]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Vt=typeof document<"u";function ha(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function wu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ha(t.default)}const G=Object.assign;function Fr(t,e){const s={};for(const r in e){const n=e[r];s[r]=Je(n)?n.map(t):t(n)}return s}const Ts=()=>{},Je=Array.isArray,fa=/#/g,vu=/&/g,yu=/\//g,bu=/=/g,ku=/\?/g,da=/\+/g,Tu=/%5B/g,Su=/%5D/g,pa=/%5E/g,Eu=/%60/g,ga=/%7B/g,xu=/%7C/g,ma=/%7D/g,Cu=/%20/g;function Mn(t){return encodeURI(""+t).replace(xu,"|").replace(Tu,"[").replace(Su,"]")}function Au(t){return Mn(t).replace(ga,"{").replace(ma,"}").replace(pa,"^")}function ln(t){return Mn(t).replace(da,"%2B").replace(Cu,"+").replace(fa,"%23").replace(vu,"%26").replace(Eu,"`").replace(ga,"{").replace(ma,"}").replace(pa,"^")}function Pu(t){return ln(t).replace(bu,"%3D")}function Ou(t){return Mn(t).replace(fa,"%23").replace(ku,"%3F")}function Ru(t){return t==null?"":Ou(t).replace(yu,"%2F")}function Is(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const $u=/\/$/,ju=t=>t.replace($u,"");function Br(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Uu(r!=null?r:e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:Is(o)}}function Iu(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ki(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Lu(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&ts(e.matched[r],s.matched[n])&&_a(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ts(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Du(t[s],e[s]))return!1;return!0}function Du(t,e){return Je(t)?Ti(t,e):Je(e)?Ti(e,t):t===e}function Ti(t,e){return Je(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Uu(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const ht={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ls;(function(t){t.pop="pop",t.push="push"})(Ls||(Ls={}));var Ss;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ss||(Ss={}));function Mu(t){if(!t)if(Vt){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ju(t)}const Nu=/^[^#]+#/;function Fu(t,e){return t.replace(Nu,"#")+e}function Bu(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const wr=()=>({left:window.scrollX,top:window.scrollY});function Hu(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Bu(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Si(t,e){return(history.state?history.state.position-e:-1)+t}const cn=new Map;function qu(t,e){cn.set(t,e)}function Ku(t){const e=cn.get(t);return cn.delete(t),e}let Vu=()=>location.protocol+"//"+location.host;function wa(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),ki(l,"")}return ki(s,t)+r+n}function zu(t,e,s,r){let n=[],i=[],o=null;const a=({state:p})=>{const g=wa(t,location),y=s.value,T=e.value;let x=0;if(p){if(s.value=g,e.value=p,o&&o===y){o=null;return}x=T?p.position-T.position:0}else r(g);n.forEach(O=>{O(s.value,y,{delta:x,type:Ls.pop,direction:x?x>0?Ss.forward:Ss.back:Ss.unknown})})};function l(){o=s.value}function u(p){n.push(p);const g=()=>{const y=n.indexOf(p);y>-1&&n.splice(y,1)};return i.push(g),g}function c(){const{history:p}=window;!p.state||p.replaceState(G({},p.state,{scroll:wr()}),"")}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Ei(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?wr():null}}function Ju(t){const{history:e,location:s}=window,r={value:wa(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Vu()+t+l;try{e[c?"replaceState":"pushState"](u,"",p),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](p)}}function o(l,u){const c=G({},e.state,Ei(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=G({},n.value,e.state,{forward:l,scroll:wr()});i(c.current,c,!0);const h=G({},Ei(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Wu(t){t=Mu(t);const e=Ju(t),s=zu(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=G({location:"",base:t,go:r,createHref:Fu.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Gu(t){return typeof t=="string"||t&&typeof t=="object"}function va(t){return typeof t=="string"||typeof t=="symbol"}const ya=Symbol("");var xi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(xi||(xi={}));function ss(t,e){return G(new Error,{type:t,[ya]:!0},e)}function it(t,e){return t instanceof Error&&ya in t&&(e==null||!!(t.type&e))}const Ci="[^/]+?",Qu={sensitive:!1,strict:!1,start:!0,end:!0},Yu=/[.+*?^${}()[\]/\\]/g;function Xu(t,e){const s=G({},Qu,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const p=u[h];let g=40+(s.sensitive?.25:0);if(p.type===0)h||(n+="/"),n+=p.value.replace(Yu,"\\$&"),g+=40;else if(p.type===1){const{value:y,repeatable:T,optional:x,regexp:O}=p;i.push({name:y,repeatable:T,optional:x});const $=O||Ci;if($!==Ci){g+=10;try{new RegExp(`(${$})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${y}" (${$}): `+v.message)}}let I=T?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(I=x&&u.length<2?`(?:/${I})`:"/"+I),x&&(I+="?"),n+=I,g+=20,x&&(g+=-8),T&&(g+=-20),$===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let p=1;p<c.length;p++){const g=c[p]||"",y=i[p-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const p of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of p)if(g.type===0)c+=g.value;else if(g.type===1){const{value:y,repeatable:T,optional:x}=g,O=y in u?u[y]:"";if(Je(O)&&!T)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const $=Je(O)?O.join("/"):O;if(!$)if(x)p.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);c+=$}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Zu(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function ba(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Zu(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Ai(r))return 1;if(Ai(n))return-1}return n.length-r.length}function Ai(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eh={type:0,value:""},th=/[a-zA-Z0-9_]/;function sh(t){if(!t)return[[]];if(t==="/")return[[eh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){!u||(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):p();break;case 4:p(),s=r;break;case 1:l==="("?s=2:th.test(l)?p():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function rh(t,e,s){const r=Xu(sh(t.path),s),n=G(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function nh(t,e){const s=[],r=new Map;e=$i({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,p,g){const y=!g,T=Oi(h);T.aliasOf=g&&g.record;const x=$i(e,h),O=[T];if("alias"in h){const v=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of v)O.push(Oi(G({},T,{components:g?g.record.components:T.components,path:L,aliasOf:g?g.record:T})))}let $,I;for(const v of O){const{path:L}=v;if(p&&L[0]!=="/"){const N=p.record.path,B=N[N.length-1]==="/"?"":"/";v.path=p.record.path+(L&&B+L)}if($=rh(v,p,x),g?g.alias.push($):(I=I||$,I!==$&&I.alias.push($),y&&h.name&&!Ri($)&&o(h.name)),ka($)&&l($),T.children){const N=T.children;for(let B=0;B<N.length;B++)i(N[B],$,g&&g.children[B])}g=g||$}return I?()=>{o(I)}:Ts}function o(h){if(va(h)){const p=r.get(h);p&&(r.delete(h),s.splice(s.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=s.indexOf(h);p>-1&&(s.splice(p,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const p=ah(h,s);s.splice(p,0,h),h.record.name&&!Ri(h)&&r.set(h.record.name,h)}function u(h,p){let g,y={},T,x;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw ss(1,{location:h});x=g.record.name,y=G(Pi(p.params,g.keys.filter(I=>!I.optional).concat(g.parent?g.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),h.params&&Pi(h.params,g.keys.map(I=>I.name))),T=g.stringify(y)}else if(h.path!=null)T=h.path,g=s.find(I=>I.re.test(T)),g&&(y=g.parse(T),x=g.record.name);else{if(g=p.name?r.get(p.name):s.find(I=>I.re.test(p.path)),!g)throw ss(1,{location:h,currentLocation:p});x=g.record.name,y=G({},p.params,h.params),T=g.stringify(y)}const O=[];let $=g;for(;$;)O.unshift($.record),$=$.parent;return{name:x,path:T,params:y,matched:O,meta:oh(O)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Pi(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function Oi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ih(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ih(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function Ri(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function oh(t){return t.reduce((e,s)=>G(e,s.meta),{})}function $i(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function ah(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;ba(t,e[i])<0?r=i:s=i+1}const n=lh(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function lh(t){let e=t;for(;e=e.parent;)if(ka(e)&&ba(t,e)===0)return e}function ka({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ch(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(da," "),o=i.indexOf("="),a=Is(o<0?i:i.slice(0,o)),l=o<0?null:Is(i.slice(o+1));if(a in e){let u=e[a];Je(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ji(t){let e="";for(let s in t){const r=t[s];if(s=Pu(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Je(r)?r.map(i=>i&&ln(i)):[r&&ln(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function uh(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Je(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const hh=Symbol(""),Ii=Symbol(""),vr=Symbol(""),Nn=Symbol(""),un=Symbol("");function hs(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function _t(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=p=>{p===!1?l(ss(4,{from:s,to:e})):p instanceof Error?l(p):Gu(p)?l(ss(2,{from:e,to:p})):(o&&r.enterCallbacks[n]===o&&typeof p=="function"&&o.push(p),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(p=>l(p))})}function Hr(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ha(l)){const c=(l.__vccOpts||l)[e];c&&i.push(_t(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=wu(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&_t(g,s,r,o,a,n)()}))}}return i}function Li(t){const e=ze(vr),s=ze(Nn),r=ye(()=>{const l=Qt(t.to);return e.resolve(l)}),n=ye(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const p=h.findIndex(ts.bind(null,c));if(p>-1)return p;const g=Di(l[u-2]);return u>1&&Di(c)===g&&h[h.length-1].path!==g?h.findIndex(ts.bind(null,l[u-2])):p}),i=ye(()=>n.value>-1&&mh(s.params,r.value.params)),o=ye(()=>n.value>-1&&n.value===s.matched.length-1&&_a(s.params,r.value.params));function a(l={}){if(gh(l)){const u=e[Qt(t.replace)?"replace":"push"](Qt(t.to)).catch(Ts);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ye(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function fh(t){return t.length===1?t[0]:t}const dh=pr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Li,setup(t,{slots:e}){const s=fr(Li(t)),{options:r}=ze(vr),n=ye(()=>({[Ui(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Ui(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&fh(e.default(s));return t.custom?i:la("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),ph=dh;function gh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function mh(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Je(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Di(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ui=(t,e,s)=>t!=null?t:e!=null?e:s,_h=pr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=ze(un),n=ye(()=>t.route||r.value),i=ze(Ii,0),o=ye(()=>{let u=Qt(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ye(()=>n.value.matched[o.value]);Qs(Ii,ye(()=>o.value+1)),Qs(hh,a),Qs(un,n);const l=ds();return bs(()=>[l.value,a.value,t.name],([u,c,h],[p,g,y])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===p&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!ts(c,g)||!p)&&(c.enterCallbacks[h]||[]).forEach(T=>T(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,p=h&&h.components[c];if(!p)return Mi(s.default,{Component:p,route:u});const g=h.props[c],y=g?g===!0?u.params:typeof g=="function"?g(u):g:null,x=la(p,G({},y,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Mi(s.default,{Component:x,route:u})||x}}});function Mi(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const wh=_h;function vh(t){const e=nh(t.routes,t),s=t.parseQuery||ch,r=t.stringifyQuery||ji,n=t.history,i=hs(),o=hs(),a=hs(),l=xl(ht);let u=ht;Vt&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Fr.bind(null,w=>""+w),h=Fr.bind(null,Ru),p=Fr.bind(null,Is);function g(w,j){let P,D;return va(w)?(P=e.getRecordMatcher(w),D=j):D=w,e.addRoute(D,P)}function y(w){const j=e.getRecordMatcher(w);j&&e.removeRoute(j)}function T(){return e.getRoutes().map(w=>w.record)}function x(w){return!!e.getRecordMatcher(w)}function O(w,j){if(j=G({},j||l.value),typeof w=="string"){const d=Br(s,w,j.path),m=e.resolve({path:d.path},j),b=n.createHref(d.fullPath);return G(d,m,{params:p(m.params),hash:Is(d.hash),redirectedFrom:void 0,href:b})}let P;if(w.path!=null)P=G({},w,{path:Br(s,w.path,j.path).path});else{const d=G({},w.params);for(const m in d)d[m]==null&&delete d[m];P=G({},w,{params:h(d)}),j.params=h(j.params)}const D=e.resolve(P,j),W=w.hash||"";D.params=c(p(D.params));const ne=Iu(r,G({},w,{hash:Au(W),path:D.path})),f=n.createHref(ne);return G({fullPath:ne,hash:W,query:r===ji?uh(w.query):w.query||{}},D,{redirectedFrom:void 0,href:f})}function $(w){return typeof w=="string"?Br(s,w,l.value.path):G({},w)}function I(w,j){if(u!==w)return ss(8,{from:j,to:w})}function v(w){return B(w)}function L(w){return v(G($(w),{replace:!0}))}function N(w){const j=w.matched[w.matched.length-1];if(j&&j.redirect){const{redirect:P}=j;let D=typeof P=="function"?P(w):P;return typeof D=="string"&&(D=D.includes("?")||D.includes("#")?D=$(D):{path:D},D.params={}),G({query:w.query,hash:w.hash,params:D.path!=null?{}:w.params},D)}}function B(w,j){const P=u=O(w),D=l.value,W=w.state,ne=w.force,f=w.replace===!0,d=N(P);if(d)return B(G($(d),{state:typeof d=="object"?G({},W,d.state):W,force:ne,replace:f}),j||P);const m=P;m.redirectedFrom=j;let b;return!ne&&Lu(r,D,P)&&(b=ss(16,{to:m,from:D}),Ge(D,D,!0,!1)),(b?Promise.resolve(b):ae(m,D)).catch(_=>it(_)?it(_,2)?_:ut(_):J(_,m,D)).then(_=>{if(_){if(it(_,2))return B(G({replace:f},$(_.to),{state:typeof _.to=="object"?G({},W,_.to.state):W,force:ne}),j||m)}else _=We(m,D,!0,f,W);return Ne(m,D,_),_})}function le(w,j){const P=I(w,j);return P?Promise.reject(P):Promise.resolve()}function be(w){const j=Nt.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(w):w()}function ae(w,j){let P;const[D,W,ne]=yh(w,j);P=Hr(D.reverse(),"beforeRouteLeave",w,j);for(const d of D)d.leaveGuards.forEach(m=>{P.push(_t(m,w,j))});const f=le.bind(null,w,j);return P.push(f),Ie(P).then(()=>{P=[];for(const d of i.list())P.push(_t(d,w,j));return P.push(f),Ie(P)}).then(()=>{P=Hr(W,"beforeRouteUpdate",w,j);for(const d of W)d.updateGuards.forEach(m=>{P.push(_t(m,w,j))});return P.push(f),Ie(P)}).then(()=>{P=[];for(const d of ne)if(d.beforeEnter)if(Je(d.beforeEnter))for(const m of d.beforeEnter)P.push(_t(m,w,j));else P.push(_t(d.beforeEnter,w,j));return P.push(f),Ie(P)}).then(()=>(w.matched.forEach(d=>d.enterCallbacks={}),P=Hr(ne,"beforeRouteEnter",w,j,be),P.push(f),Ie(P))).then(()=>{P=[];for(const d of o.list())P.push(_t(d,w,j));return P.push(f),Ie(P)}).catch(d=>it(d,8)?d:Promise.reject(d))}function Ne(w,j,P){a.list().forEach(D=>be(()=>D(w,j,P)))}function We(w,j,P,D,W){const ne=I(w,j);if(ne)return ne;const f=j===ht,d=Vt?history.state:{};P&&(D||f?n.replace(w.fullPath,G({scroll:f&&d&&d.scroll},W)):n.push(w.fullPath,W)),l.value=w,Ge(w,j,P,f),ut()}let Fe;function as(){Fe||(Fe=n.listen((w,j,P)=>{if(!Hs.listening)return;const D=O(w),W=N(D);if(W){B(G(W,{replace:!0,force:!0}),D).catch(Ts);return}u=D;const ne=l.value;Vt&&qu(Si(ne.fullPath,P.delta),wr()),ae(D,ne).catch(f=>it(f,12)?f:it(f,2)?(B(G($(f.to),{force:!0}),D).then(d=>{it(d,20)&&!P.delta&&P.type===Ls.pop&&n.go(-1,!1)}).catch(Ts),Promise.reject()):(P.delta&&n.go(-P.delta,!1),J(f,D,ne))).then(f=>{f=f||We(D,ne,!1),f&&(P.delta&&!it(f,8)?n.go(-P.delta,!1):P.type===Ls.pop&&it(f,20)&&n.go(-1,!1)),Ne(D,ne,f)}).catch(Ts)}))}let Ut=hs(),ce=hs(),Z;function J(w,j,P){ut(w);const D=ce.list();return D.length?D.forEach(W=>W(w,j,P)):console.error(w),Promise.reject(w)}function rt(){return Z&&l.value!==ht?Promise.resolve():new Promise((w,j)=>{Ut.add([w,j])})}function ut(w){return Z||(Z=!w,as(),Ut.list().forEach(([j,P])=>w?P(w):j()),Ut.reset()),w}function Ge(w,j,P,D){const{scrollBehavior:W}=t;if(!Vt||!W)return Promise.resolve();const ne=!P&&Ku(Si(w.fullPath,0))||(D||!P)&&history.state&&history.state.scroll||null;return Oo().then(()=>W(w,j,ne)).then(f=>f&&Hu(f)).catch(f=>J(f,w,j))}const ke=w=>n.go(w);let Mt;const Nt=new Set,Hs={currentRoute:l,listening:!0,addRoute:g,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:T,resolve:O,options:t,push:v,replace:L,go:ke,back:()=>ke(-1),forward:()=>ke(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:rt,install(w){const j=this;w.component("RouterLink",ph),w.component("RouterView",wh),w.config.globalProperties.$router=j,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>Qt(l)}),Vt&&!Mt&&l.value===ht&&(Mt=!0,v(n.location).catch(W=>{}));const P={};for(const W in ht)Object.defineProperty(P,W,{get:()=>l.value[W],enumerable:!0});w.provide(vr,j),w.provide(Nn,Eo(P)),w.provide(un,l);const D=w.unmount;Nt.add(w),w.unmount=function(){Nt.delete(w),Nt.size<1&&(u=ht,Fe&&Fe(),Fe=null,l.value=ht,Mt=!1,Z=!1),D()}}};function Ie(w){return w.reduce((j,P)=>j.then(()=>be(P)),Promise.resolve())}return Hs}function yh(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>ts(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ts(u,l))||n.push(l))}return[s,r,n]}function bh(){return ze(vr)}function kh(t){return ze(Nn)}const Th="modulepreload",Sh=function(t){return"/trivia-taiwan/"+t},Ni={},rs=function(e,s,r){if(!s||s.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=Sh(i),i in Ni)return;Ni[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=n.length-1;c>=0;c--){const h=n[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Th,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},Eh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>rs(()=>Promise.resolve().then(()=>is),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class Fn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class xh extends Fn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ch extends Fn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ah extends Fn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hn||(hn={}));var Ph=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Oh{constructor(e,{headers:s={},customFetch:r,region:n=hn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Eh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Ph(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(y=>{throw new xh(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Ch(c);if(!c.ok)throw new Ah(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rh(t){var e=t.default;if(typeof e=="function"){var s=function(){return e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Se={},Bn={},yr={},Fs={},br={},kr={},$h=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ns=$h();const jh=ns.fetch,Ta=ns.fetch.bind(ns),Sa=ns.Headers,Ih=ns.Request,Lh=ns.Response,is=Object.freeze(Object.defineProperty({__proto__:null,fetch:jh,default:Ta,Headers:Sa,Request:Ih,Response:Lh},Symbol.toStringTag,{value:"Module"})),Dh=Rh(is);var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});class Uh extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Tr.default=Uh;var Ea=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kr,"__esModule",{value:!0});const Mh=Ea(Dh),Nh=Ea(Tr);class Fh{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Mh.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const O=await i.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=O:c=JSON.parse(O))}const T=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const T=await i.text();try{u=JSON.parse(T),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,g="OK")}catch{i.status===404&&T===""?(p=204,g="No Content"):u={message:T}}if(u&&this.isMaybeSingle&&((l=u==null?void 0:u.details)===null||l===void 0?void 0:l.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new Nh.default(u)}return{error:u,data:c,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}}kr.default=Fh;var Bh=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});const Hh=Bh(kr);class qh extends Hh.default{select(e){let s=!1;const r=(e!=null?e:"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}br.default=qh;var Kh=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fs,"__esModule",{value:!0});const Vh=Kh(br);class zh extends Vh.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}}Fs.default=zh;var Jh=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yr,"__esModule",{value:!0});const fs=Jh(Fs);class Wh{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}yr.default=Wh;var Sr={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.version=void 0;Er.version="0.0.0-automated";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.DEFAULT_HEADERS=void 0;const Gh=Er;Sr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Gh.version}`};var xa=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bn,"__esModule",{value:!0});const Qh=xa(yr),Yh=xa(Fs),Xh=Sr;class Hn{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Xh.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Qh.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Hn(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Yh.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}Bn.default=Hn;var os=Me&&Me.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const Ca=os(Bn);Se.PostgrestClient=Ca.default;const Aa=os(yr);Se.PostgrestQueryBuilder=Aa.default;const Pa=os(Fs);Se.PostgrestFilterBuilder=Pa.default;const Oa=os(br);Se.PostgrestTransformBuilder=Oa.default;const Ra=os(kr);Se.PostgrestBuilder=Ra.default;const $a=os(Tr);Se.PostgrestError=$a.default;var Zh=Se.default={PostgrestClient:Ca.default,PostgrestQueryBuilder:Aa.default,PostgrestFilterBuilder:Pa.default,PostgrestTransformBuilder:Oa.default,PostgrestBuilder:Ra.default,PostgrestError:$a.default};const{PostgrestClient:ef,PostgrestQueryBuilder:rp,PostgrestFilterBuilder:np,PostgrestTransformBuilder:ip,PostgrestBuilder:op,PostgrestError:ap}=Zh,tf="2.11.2",sf={"X-Client-Info":`realtime-js/${tf}`},rf="1.0.0",ja=1e4,nf=1e3;var Zt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zt||(Zt={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var He;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(He||(He={}));var fn;(function(t){t.websocket="websocket"})(fn||(fn={}));var Rt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Rt||(Rt={}));class of{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ia{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const Fi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=af(o,t,e,n),i),{})},af=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?La(i,o):dn(o)},La=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return hf(e,s)}switch(t){case te.bool:return lf(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return cf(e);case te.json:case te.jsonb:return uf(e);case te.timestamp:return ff(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return dn(e);default:return dn(e)}},dn=t=>t,lf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>La(e,a))}return t},ff=t=>typeof t=="string"?t.replace(" ","T"):t,Da=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class qr{constructor(e,s,r={},n=ja){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Bi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Bi||(Bi={}));class Es{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Es.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Es.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Es.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),y=c.filter(x=>g.indexOf(x.presence_ref)<0),T=h.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),T.length>0&&(l[u]=T)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hi||(Hi={}));var qi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qi||(qi={}));var at;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(at||(at={}));class qn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new qr(this,He.join,this.params,this.timeout),this.rejoinTimer=new Ia(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Es(this),this.broadcastEndpointURL=Da(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(at.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(at.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(at.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,y=[];for(let T=0;T<g;T++){const x=p[T],{filter:{event:O,schema:$,table:I,filter:v}}=x,L=c&&c[T];if(L&&L.event===O&&L.schema===$&&L.table===I&&L.filter===v)y.push(Object.assign(Object.assign({},x),{id:L.id}));else{this.unsubscribe(),e==null||e(at.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(at.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(at.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(at.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new qr(this,He.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new qr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=He;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var y,T,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(T=g.filter)===null||T===void 0?void 0:T.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,T,x,O,$,I;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const v=g.id,L=(y=g.filter)===null||y===void 0?void 0:y.event;return v&&((T=s.ids)===null||T===void 0?void 0:T.includes(v))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const v=($=(O=g==null?void 0:g.filter)===null||O===void 0?void 0:O.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return v==="*"||v===((I=s==null?void 0:s.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:T,table:x,commit_timestamp:O,type:$,errors:I}=y;p=Object.assign(Object.assign({},{schema:T,table:x,commit_timestamp:O,eventType:$,new:{},old:{},errors:I}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&qn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Fi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Fi(e.columns,e.old_record)),s}}const df=()=>{},pf=typeof WebSocket<"u",gf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mf{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sf,this.params={},this.timeout=ja,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=df,this.conn=null,this.sendBuffer=[],this.serializer=new of,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>rs(()=>Promise.resolve().then(()=>is),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${fn.websocket}`,this.httpEndpoint=Da(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ia(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(pf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new _f(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),rs(()=>import("./browser.278a5880.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rf}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s!=null?s:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zt.connecting:return Rt.Connecting;case Zt.open:return Rt.Open;case Zt.closing:return Rt.Closing;default:return Rt.Closed}}isConnected(){return this.connectionState()===Rt.Open}channel(e,s={config:{}}){const r=new qn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(He.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(nf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([gf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class _f{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Kn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wf extends Kn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pn extends Kn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var vf=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>rs(()=>Promise.resolve().then(()=>is),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},yf=()=>vf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rs(()=>Promise.resolve().then(()=>is),void 0)).Response:Response}),gn=t=>{if(Array.isArray(t))return t.map(s=>gn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=gn(r)}),e};var Dt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Kr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bf=(t,e,s)=>Dt(void 0,void 0,void 0,function*(){const r=yield yf();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new wf(Kr(n),t.status||500))}).catch(n=>{e(new pn(Kr(n),n))}):e(new pn(Kr(t),t))}),kf=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Bs(t,e,s,r,n,i){return Dt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,kf(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bf(l,a,r))})})}function or(t,e,s,r){return Dt(this,void 0,void 0,function*(){return Bs(t,"GET",e,s,r)})}function wt(t,e,s,r,n){return Dt(this,void 0,void 0,function*(){return Bs(t,"POST",e,r,n,s)})}function Tf(t,e,s,r,n){return Dt(this,void 0,void 0,function*(){return Bs(t,"PUT",e,r,n,s)})}function Sf(t,e,s,r){return Dt(this,void 0,void 0,function*(){return Bs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ma(t,e,s,r,n){return Dt(this,void 0,void 0,function*(){return Bs(t,"DELETE",e,r,n,s)})}var Te=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ef={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ki={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class xf{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Ua(n)}uploadOrUpdate(e,s,r,n){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ki),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ki.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield wt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Kn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}update(e,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Te(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield wt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Te(this,void 0,void 0,function*(){try{const n=yield wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}download(e,s){return Te(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield or(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(e){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield or(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:gn(r),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}exists(e){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Sf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ue(r)&&r instanceof pn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}list(e,s,r){return Te(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ef),s),{prefix:e||""});return{data:yield wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Cf="2.7.1",Af={"X-Client-Info":`storage-js/${Cf}`};var Bt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Pf{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Af),s),this.fetch=Ua(r)}listBuckets(){return Bt(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Bt(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Bt(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield wt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Bt(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}}class Of extends Pf{constructor(e,s={},r){super(e,s,r)}from(e){return new xf(this.url,this.headers,e,this.fetch)}}const Rf="2.49.4";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const $f={"X-Client-Info":`supabase-js-${gs}/${Rf}`},jf={headers:$f},If={schema:"public"},Lf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Df={};var Uf=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Mf=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ta:e=fetch,(...s)=>e(...s)},Nf=()=>typeof Headers>"u"?Sa:Headers,Ff=(t,e,s)=>{const r=Mf(s),n=Nf();return(i,o)=>Uf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Bf=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Hf(t){return t.replace(/\/$/,"")}function qf(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Bf(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Na="2.69.1",zt=30*1e3,mn=3,Vr=mn*zt,Kf="http://localhost:9999",Vf="supabase.auth.token",zf={"X-Client-Info":`gotrue-js/${Na}`},_n="X-Supabase-Api-Version",Fa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wf=6e5;class Vn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Gf extends Vn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Qf(t){return K(t)&&t.name==="AuthApiError"}class Ba extends Vn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Et extends Vn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class dt extends Et{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yf(t){return K(t)&&t.name==="AuthSessionMissingError"}class zr extends Et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Et{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Js extends Et{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xf(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class Vi extends Et{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wn extends Et{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Jr(t){return K(t)&&t.name==="AuthRetryableFetchError"}class zi extends Et{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class xs extends Et{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wi=` 	
\r=`.split(""),Zf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wi.length;e+=1)t[Wi[e].charCodeAt(0)]=-2;for(let e=0;e<Ji.length;e+=1)t[Ji[e].charCodeAt(0)]=e;return t})();function Ha(t,e,s){const r=Zf[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Gi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{sd(o,r,s)};for(let o=0;o<t.length;o+=1)Ha(t.charCodeAt(o),n,i);return e.join("")}function ed(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function td(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}ed(r,e)}}function sd(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function rd(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ha(t.charCodeAt(n),s,r);return new Uint8Array(e)}function nd(t){const e=[];return td(t,s=>e.push(s)),new Uint8Array(e)}function id(t){return Math.round(Date.now()/1e3)+t}function od(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",At={tested:!1,writable:!1},Cs=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(At.tested)return At.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),At.tested=!0,At.writable=!0}catch{At.tested=!0,At.writable=!1}return At.writable};function ad(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const qa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>rs(()=>Promise.resolve().then(()=>is),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},ld=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ka=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ws=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Gs=async(t,e)=>{await t.removeItem(e)};class xr{constructor(){this.promise=new xr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}xr.promiseConstructor=Promise;function Wr(t){const e=t.split(".");if(e.length!==3)throw new xs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Jf.test(e[r]))throw new xs("JWT not in base64url format");return{header:JSON.parse(Gi(e[0])),payload:JSON.parse(Gi(e[1])),signature:rd(e[2]),raw:{header:e[0],payload:e[1]}}}async function cd(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ud(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function hd(t){return("0"+t.toString(16)).substr(-2)}function fd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,hd).join("")}async function dd(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function pd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await dd(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ht(t,e,s=!1){const r=fd();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ka(t,`${e}-code-verifier`,n);const i=await pd(r);return[i,r===i?"plain":"s256"]}const gd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function md(t){const e=t.headers.get(_n);if(!e||!e.match(gd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _d(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wd(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var vd=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Ot=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yd=[502,503,504];async function Qi(t){var e;if(!ld(t))throw new wn(Ot(t),0);if(yd.includes(t.status))throw new wn(Ot(t),t.status);let s;try{s=await t.json()}catch(i){throw new Ba(Ot(i),i)}let r;const n=md(t);if(n&&n.getTime()>=Fa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new zi(Ot(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new dt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zi(Ot(s),t.status,s.weak_password.reasons);throw new Gf(Ot(s),t.status||500,r)}const bd=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function V(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[_n]||(i[_n]=Fa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await kd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function kd(t,e,s,r,n,i){const o=bd(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new wn(Ot(l),0)}if(a.ok||await Qi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Qi(l)}}function pt(t){var e;let s=null;xd(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=id(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Yi(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Td(t){return{data:t,error:null}}function Sd(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=vd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ed(t){return t}function xd(t){return t.access_token&&t.refresh_token&&t.expires_in}var Cd=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Ad{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=qa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:yt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Cd(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Sd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ed});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const T=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=T}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:yt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:yt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Pd={getItem:t=>Cs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{!Cs()||globalThis.localStorage.setItem(t,e)},removeItem:t=>{!Cs()||globalThis.localStorage.removeItem(t)}};function Xi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Od(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qt={debug:!!(globalThis&&Cs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Va extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Rd extends Va{}async function $d(t,e,s){qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),qt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw qt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Rd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Od();const jd={url:Kf,storageKey:Vf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zi(t,e,s){return await s()}class Ds{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ds.nextInstanceID,Ds.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},jd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ad({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=qa(n.fetch),this.lock=n.lock||Zi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ze()&&((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0?void 0:s.locks)?this.lock=$d:this.lock=Zi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Cs()?this.storage=Pd:(this.memoryStorage={},this.storage=Xi(this.memoryStorage)):(this.memoryStorage={},this.storage=Xi(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Na}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=ad(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Xf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return K(s)?{error:s}:{error:new Ba("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ht(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:pt})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yi})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yi})}else throw new zs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ws(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s!=null?s:"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new zr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n!=null?n:null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:pt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ht(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new zs("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ht(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Td})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new dt;const{error:n}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await V(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await V(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zs("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Vr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:yt})})}catch(s){if(K(s))return Yf(s)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new dt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ht(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:yt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=Wr(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new dt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ze())throw new Js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Vi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vi("No code detected.");const{data:$,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Js("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=zt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=p-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:T,error:x}=await this._getUser(i);if(x)throw x;const O={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Qf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=od(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Ht(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ze()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await ud(async n=>(n>0&&await cd(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Jr(i)&&Date.now()+o-r<zt})}catch(r){if(this._debug(s,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ze()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ws(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Vr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Vr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Jr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new xr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return Jr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ka(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ze()&&(window==null?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/zt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${zt}ms, refresh threshold is ${mn} ticks`),n<=mn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Va)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ht(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&((n=l==null?void 0:l.totp)===null||n===void 0?void 0:n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Wr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Wf>Date.now()))return r;const{data:n,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new xs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new xs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Wr(r);if(_d(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=wd(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,nd(`${a}.${l}`)))throw new xs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}Ds.nextInstanceID=0;const Id=Ds;class Ld extends Id{constructor(e){super(e)}}var Dd=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ud{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Hf(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:If,realtime:Df,auth:Object.assign(Object.assign({},Lf),{storageKey:l}),global:jf},c=qf(r!=null?r:{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Ff(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new ef(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Oh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Of(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Dd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ld({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new mf(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Md=(t,e,s)=>new Ud(t,e,s),Nd="https://rfqgxrwervshiyzrsfcb.supabase.co",Fd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmcWd4cndlcnZzaGl5enJzZmNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2NDc0NzMsImV4cCI6MjA1OTIyMzQ3M30.Uu5SdSQy91leGLW8PURxNLzTu69JmhIKRXmCOZ51Iyg",eo=Md(Nd,Fd),Bd=[{id:1,text:"Taiwan is home to TSMC, the world's leading chip manufacturer, producing over 50% of the world's semiconductors and 90% of advanced chips.",category:"Tech",icon:"\u{1F4BB}",source:["https://www.statista.com/statistics/867223/worldwide-semiconductor-foundries-by-market-share/","https://www.wired.com/story/taiwan-makes-the-majority-of-the-worlds-computer-chips-now-its-running-out-of-electricity/?utm_source=chatgpt.com"]},{id:2,text:"Fengjia Night Market in Taichung is one of Taiwan's largest night markets, attracting thousands of visitors daily with its diverse food options.",category:"Culture",icon:"\u{1F319}",source:["https://en.wikipedia.org/wiki/Fengjia_Night_Market"]},{id:3,text:"Taiwan has over 100 peaks above 3,000 meters, including Yushan (Jade Mountain), which is the highest peak in Northeast Asia at 3,952 meters.",category:"Nature",icon:"\u26F0\uFE0F",source:["https://en.wikipedia.org/wiki/List_of_mountains_in_Taiwan","https://www.taiwanhikes.com/blog-posts/100-peaks-jade-mountain.html"]},{id:4,text:"Taiwan was the first country in Asia to legalize same-sex marriage (2019), marking a historic moment for LGBTQ+ rights.",category:"History",icon:"\u{1F3F3}\uFE0F\u200D\u{1F308}",source:["https://www.amnesty.org/en/latest/press-release/2019/05/taiwan-same-sex-marriage-law/","https://www.forbes.com/sites/bonniechiu/2019/05/22/why-taiwan-became-first-in-asia-to-legalize-same-sex-marriage/"]},{id:5,text:"Bubble tea was invented in Taiwan in the 1980s, with Chun Shui Tang in Taichung being one of the first shops to popularize the drink.",category:"Culture",icon:"\u{1F9CB}",source:["https://www.1992sharetea.com/news/bubble-tea-history","https://www.nationalgeographic.com/travel/article/what-is-boba-bubble-tea-taiwan","https://en.wikipedia.org/wiki/Bubble_tea"]},{id:6,text:"EVA Air, Taiwan's major airline, has operated Hello Kitty-themed aircraft and airport lounges, showcasing Taiwan's embrace of kawaii culture.",category:"Culture",icon:"\u2708\uFE0F",source:["https://www.evaair.com/en-global/fly-prepare/flying-with-eva/hello-kitty-jet/"]},{id:7,text:"The Tropic of Cancer runs through Taiwan, giving it a unique climate that supports both tropical and temperate species.",category:"Nature",icon:"\u{1F30D}",source:["https://en.wikipedia.org/wiki/Flora_of_Taiwan","https://www.researchgate.net/figure/Populations-and-geographic-and-climate-features-of-Taiwan-The-Tropic-of-Cancer_fig1_355710643"]},{id:8,text:"During Ghost Month (the seventh lunar month), Taiwanese people perform various rituals and make offerings to honor their ancestors.",category:"Culture",icon:"\u{1F47B}",source:["https://en.wikipedia.org/wiki/Ghost_Festival","https://taiwaninsight.org/2023/08/28/its-time-for-the-ghost-month/"]},{id:9,text:"Taroko Gorge is a spectacular marble canyon in Taiwan, featuring stunning cliffs, waterfalls, and the famous Eternal Spring Shrine.",category:"Nature",icon:"\u{1F3D4}\uFE0F",source:["https://www.rtaiwanr.com/hualien/taroko-gorge"]},{id:10,text:"7-Eleven stores in Taiwan offer various services, including bill payments, package delivery, and ticket purchases, making them essential to daily life.",category:"Culture",icon:"\u{1F3EA}",source:["https://taiwaninsight.org/2022/04/12/at-the-consumers-convenience-what-the-convenience-store-in-taiwan-offers/"]},{id:11,text:"Taiwan was under Japanese rule for 50 years (1895\u20131945), leaving lasting cultural influences in architecture and cuisine.",category:"History",icon:"\u{1F1EF}\u{1F1F5}",source:["https://en.wikipedia.org/wiki/Taiwan_under_Japanese_rule","https://en.wikipedia.org/wiki/Imperial_Crown_Style"]},{id:12,text:"Pineapple cakes are a beloved Taiwanese pastry, originally made with winter melon. The word for pineapple (\u65FA\u4F86 ong-lai) sounds like \u201Cprosperity comes\u201D.",category:"Culture",icon:"\u{1F34D}",source:["https://en.wikipedia.org/wiki/Pineapple_cake","https://www.vice.com/en/article/sunnyhills-pineapple-cake/","https://youtu.be/VrtjlJrdHKY"]},{id:13,text:"Taiwan's High Speed Rail system connects major cities at speeds up to 300 km/h, making it one of Asia's most efficient transportation networks.",category:"Tech",icon:"\u{1F684}",source:["https://www.thsrc.com.tw/en","https://en.wikipedia.org/wiki/Taiwan_High_Speed_Rail"]},{id:14,text:"Taiwan has thousands of temples, many dedicated to various deities and serving as important community centers.",category:"Culture",icon:"\u{1F3EE}",source:["https://www.likeitformosa.com/single-post/get-to-know-the-local-religions-in-taiwan"]},{id:15,text:"Betel nut chewing is a cultural phenomenon in some regions, with distinctive 'betel nut beauties' selling the nuts at roadside stands.",category:"Culture",icon:"\u{1F330}",source:["https://youtu.be/c46Mgjw093I?feature=shared","https://en.wikipedia.org/wiki/Areca_nut"]},{id:16,text:"Taiwan's National Palace Museum houses one of the world's largest collections of Chinese artifacts.",category:"History",icon:"\u{1F3DB}\uFE0F",source:["https://en.wikipedia.org/wiki/National_Palace_Museum","https://www.britannica.com/topic/National-Palace-Museum"]},{id:17,text:"Taiwan is a major producer of computer components, including motherboards.",category:"Tech",icon:"\u{1F527}",source:["https://www.marketdataforecast.com/market-reports/motherboard-market","https://vocus.cc/article/6616d420fd897800014a917b"]},{id:18,text:"Taiwan has numerous hot springs, especially in Beitou and Wulai, making it a popular destination for hot spring tourism.",category:"Nature",icon:"\u2668\uFE0F",source:["https://www.klook.com/en-US/destination/p50338164-wulai-hot-springs/"]},{id:19,text:"Taiwan has one of the highest densities of convenience stores in the world \u2014 with over 10,000 stores nationwide, there's almost one on every corner.",category:"Culture",icon:"\u{1F3AB}",source:["https://focustaiwan.tw/business/202403180011","https://www.taipeitimes.com/News/taiwan/archives/2024/03/19/2003815156"]},{id:20,text:"The Formosan black bear is Taiwan's largest land animal and a symbol of the island's unique wildlife.",category:"Nature",icon:"\u{1F43B}",source:["https://en.wikipedia.org/wiki/Formosan_black_bear","https://animalia.bio/formosan-black-bear?property=77"]},{id:21,text:"The Dutch established their first settlement in Taiwan in 1624, building Fort Zeelandia in Tainan.",category:"History",icon:"\u{1F1F3}\u{1F1F1}",source:["https://en.wikipedia.org/wiki/Fort_Zeelandia_%28Taiwan%29?","https://en.wikipedia.org/wiki/Dutch_Formosa"]},{id:22,text:"The Spanish briefly colonized northern Taiwan from 1626 to 1642, establishing Fort San Salvador in Keelung.",category:"History",icon:"\u{1F1EA}\u{1F1F8}",source:["https://en.wikipedia.org/wiki/Spanish_Formosa"]},{id:23,text:"The Dutch introduced Christianity to Taiwan in the 17th century, building Protestant churches and introducing new farming methods.",category:"History",icon:"\u26EA",source:["https://www.taipeitimes.com/News/feat/archives/2017/12/04/2003683390","https://en.wikipedia.org/wiki/Dutch_Formosa"]},{id:24,text:"The Indigenous Peoples of Taiwan speak Austronesian languages, related to those in Hawaii, New Zealand, and the Philippines.",category:"History",icon:"\u{1F5E3}\uFE0F",source:["https://en.wikipedia.org/wiki/Austronesian_languages","https://en.wikipedia.org/wiki/Austronesian_peoples"]},{id:25,text:"The Amis tribe's harvest festival (Ilisin) is one of Taiwan's most important indigenous celebrations.",category:"Culture",icon:"\u{1F3AD}",source:["https://taiwangods.moi.gov.tw/html/landscape_en/1_0011.aspx?i=94","https://en.wikipedia.org/wiki/Amis_harvest_festivals"]},{id:26,text:"The Bunun people are known for their unique 'eight-part harmony' singing style, recognized as an important cultural heritage.",category:"Culture",icon:"\u{1F3B5}",source:["https://ibmusictc.wordpress.com/introduction-to-the-bunun-pasibutbut/","https://worldmusiccentral.org/2004/06/01/david-darling-records-with-the-wulu-bunun/"]},{id:27,text:"During Ghost Month, Taiwanese people avoid swimming, whistling at night, and hanging clothes outside after dark.",category:"Culture",icon:"\u{1F47B}",source:["https://www.dimsumwarriors.com/blog/hungry-ghost-taiwan/","https://communitycenter.org.tw/ghost-month-2023-a-guide-to-hungry-ghost-month-in-taiwan/"]},{id:28,text:"Taiwan's Spring Scream Festival, held annually in Kenting, is one of the country's oldest and most famous music festivals.",category:"Culture",icon:"\u{1F3B6}",source:["https://en.wikipedia.org/wiki/Spring_Scream","https://www.thechairmansbao.com/blog/are-you-ready-for-spring-scream/"]},{id:29,text:"The Golden Horse Awards, established in 1962, are among the most prestigious Chinese-language film awards.",category:"Culture",icon:"\u{1F3C6}",source:["https://en.wikipedia.org/wiki/Golden_Horse_Film_Festival_and_Awards"]},{id:30,text:"Taipei 101 features a 660-ton tuned mass damper that helps it withstand typhoons and earthquakes.",category:"Tech",icon:"\u{1F3D9}\uFE0F",source:["https://www.atlasobscura.com/places/tuned-mass-damper-of-taipei-101","https://youtu.be/CSyJBh8BB44"]},{id:31,text:"In Chinese culture, the number 4 is considered unlucky because it sounds similar to the word for 'death'.",category:"Culture",icon:"\u{1F522}",source:["https://www.chineselearning.com/chinese-culture/why-chinese-people-do-not-like-the-number-4"]},{id:32,text:"Taiwan has one of the highest densities of convenience stores in the world, with one store per 1,703 people.",category:"Culture",icon:"\u{1F3EA}",source:["https://www.taipeitimes.com/News/taiwan/archives/2024/03/19/2003815156"]},{id:33,text:"Taiwan's garbage trucks play classical music \u2014 like Beethoven or F\xFCr Elise \u2014 to alert residents it's time to bring out the trash.",category:"Culture",icon:"\u{1F69B}",featured:!0,source:["https://www.moc.gov.tw/en/News_Content2.aspx?n=467&s=14287","https://youtu.be/8YOtFyaoqhE?feature=shared"]},{id:34,text:"Xiaoliuqiu (\u5C0F\u7409\u7403) is one of the few places in the world where you can snorkel with sea turtles year-round. The island has a high population of green sea turtles, and they often swim just a few meters from the shore!",category:"Nature",icon:"\u{1F422}",source:["https://taiwantravelblog.com/xiaoliuqiu-snorkeling-guide/","https://www.nickkembel.com/xiaoliuqiu-lambai-island-taiwan/"]},{id:35,text:"Sweet potato leaves are a beloved everyday veggie in Taiwan \u2014 rich in nutrients and often stir-fried with garlic or served in soup.",category:"Culture",icon:"\u{1F360}",source:["https://specialtyproduce.com/produce/Sweet_Potato_Leaves_11487.php","https://www.nutritionadvance.com/sweet-potato-leaves-nutrition/"]},{id:36,text:"Taiwan experiences over 1,000 earthquakes a year, most of them minor \u2014 but major quakes like the 921 Earthquake in 1999 have left a lasting impact.",category:"Nature",featured:!0,icon:"\u{1F30F}",source:["https://scweb.cwa.gov.tw/en-us/guidance/faqdetail/190","https://www.cwa.gov.tw/V8/E/E/index.html"]},{id:37,text:"Taipei has one of the highest scooter densities in the world \u2014 with over 14 million registered scooters across Taiwan!",category:"Culture",icon:"\u{1F6F5}",source:["https://www.taipeitimes.com/News/taiwan/archives/2016/04/06/2003643311","https://www.irenebrination.com/irenebrination_notes_on_a/2023/10/taipei-scooter-culture-helmets.html"]},{id:38,text:"Taiwan has a temple that honors a loyal black dog \u2014 the Shiba Wang Gong Temple in New Taipei is dedicated to a pup remembered for his bravery.",category:"Culture",icon:"\u{1F415}",source:["https://www.northguan-nsa.gov.tw/user/article.aspx?Lang=2&SNo=04002500","https://newtaipei.travel/en/attractions/detail/402847"]},{id:39,text:"Taiwan has active volcanoes \u2014 mostly in the north near Yangmingshan, where geothermal activity powers hot springs and fumaroles.",category:"Nature",icon:"\u{1F30B}",source:["https://en.wikipedia.org/wiki/Geography_of_Taiwan","https://taiwandatastories.com/taiwan-3000-meter-mountains/"]},{id:40,text:"Over 70% of Taiwan is covered by mountains \u2014 with 268 peaks taller than 3,000 meters, it has the highest mountain density in the world.",category:"Nature",icon:"\u{1F3DE}\uFE0F",source:["https://taiwandatastories.com/taiwan-3000-meter-mountains/","https://peakvisor.com/adm/taiwan.html","https://en.wikipedia.org/wiki/List_of_mountains_in_Taiwan"]},{id:41,text:"Taipei holds the Guinness World Record for the longest rainbow ever recorded \u2014 it lasted 8 hours and 58 minutes on Nov 30, 2017.",category:"Nature",featured:!0,icon:"\u{1F308}",source:["https://www.guinnessworldrecords.com/world-records/66553-longest-lasting-rainbow","https://blog.samtec.com/post/new-optics-guide-world-record-rainbows/"]},{id:42,text:"The Yanshui Beehive Fireworks Festival is one of the world\u2019s most dangerous \u2014 people wear helmets while fireworks shoot at the crowd!",category:"Culture",featured:!0,icon:"\u{1F387}",source:["https://www.rtaiwanr.com/blog/yanshui-beehive-fireworks","https://www.twtainan.net/yanshuifireworks/en"]},{id:43,text:"Despite the name, Mongolian barbecue was invented in Taiwan in the 1950s by comedian Wu Zhaonan.",category:"Culture",icon:"\u{1F969}",source:["https://eatyourroots.substack.com/p/tracing-the-roots-of-mongolian-bbq","https://kids.kiddle.co/Mongolian_barbecue"]},{id:44,text:"The world\u2019s first cat caf\xE9 opened in Taipei in 1998 \u2014 starting a global trend of cozy caf\xE9s filled with friendly cats.",category:"Culture",icon:"\u{1F431}",source:["https://www.guinnessworldrecords.com/world-records/463399-oldest-cat-cafe-still-in-existence","https://taiwanderers.com/cat-cafe-kitten-coffee-garden-taipei/","https://www.bbc.co.uk/programmes/w3ct4x7x"]},{id:45,text:"Taiwanese students have some of the longest school days in the world, averaging 9 to 10 hours per day.",category:"Culture",icon:"\u{1F4DA}",source:["https://www.taipeitimes.com/News/taiwan/archives/2025/02/10/2003831627"]},{id:46,text:"Portuguese sailors called Taiwan \u2018Ilha Formosa\u2019 \u2014 meaning \u2018Beautiful Island\u2019 \u2014 for its stunning coastline and lush peaks.",category:"History",icon:"\u{1F5FA}\uFE0F",source:["https://bubbleteaisland.com/2023/05/10/when-was-taiwan-called-formosa/","https://theculturetrip.com/asia/taiwan/articles/taiwan-called-republic-formosa","https://islandfolklore.com/taiwan-names-formosa/"]},{id:47,text:"Taiwan\u2019s Beitou hot spring culture was developed during Japanese rule \u2014 complete with public baths and onsens still in use today.",category:"Culture",icon:"\u2668\uFE0F",source:["https://www.taiwan-panorama.com/en-us/Articles/Details?Guid=7c620f76-aa0f-4120-b498-41aa103c1bac&CatId=10&postname=A+Misty+Wonderland%3A-Beitou+and+Its+Hot+Springs","https://en.wikipedia.org/wiki/Hot_springs_in_Taiwan","https://english.culture.gov.taipei/cp.aspx?n=574A45D36551EF42"]},{id:48,text:"The Taiwanese word for lunchbox, 'biandang' (\u4FBF\u7576), comes from the Japanese word 'bent\u014D' \u2014 a legacy of Japanese rule.",category:"Culture",icon:"\u{1F371}",source:["https://taiwaninsight.org/2025/03/10/tracks-of-influence-how-taiwans-railway-heritage-fuels-soft-power/"]},{id:49,text:"Taiwan\u2019s railway system was originally developed by the Japanese \u2014 many train stations still use Japanese architectural designs.",category:"History",icon:"\u{1F689}",source:["https://www.goteamjosh.com/blog/taiwaneki","https://taiwaninsight.org/2025/03/10/tracks-of-influence-how-taiwans-railway-heritage-fuels-soft-power/"]},{id:50,text:"The Alishan Forest Railway was built by the Japanese in 1912 to transport timber \u2014 today, it's a scenic route famous for mountain views and sunrises.",category:"History",icon:"\u{1F682}",source:["https://taiwaninsight.org/2025/03/10/tracks-of-influence-how-taiwans-railway-heritage-fuels-soft-power/"]},{id:51,text:"In Taiwan, breakfast is a daily ritual \u2014 from soy milk & egg crepes to radish cake & fan tuan, local breakfast shops open before sunrise and are often more loved than Starbucks.",category:"Culture",icon:"\u{1F373}",source:["https://www.justaiwantour.com/blog/?p=310","https://www.comunicaffe.com/taiwan-starbucks-upbeat-on-growth/"]},{id:52,text:"Taiwan has over 20,000 bubble tea shops \u2014 more than there are convenience stores. Some intersections have 3 boba shops side-by-side. That\u2019s how much people love it.",category:"Food",icon:"\u{1F9CB}",source:["https://store.yenchuan.co/blog/how-popular-is-bubble-tea-anyways/","https://www.bubbleteaology.com/best-bubble-tea-shops-taiwan/"]},{id:53,text:"Taiwan is the only place that still uses Zhuyin Fuhao (\u6CE8\u97F3\u7B26\u865F) \u2014 a phonetic system taught in schools to help kids learn Mandarin. Unlike in China, pinyin isn\u2019t used in daily life here \u2014 Zhuyin is how we read, type, and pronounce.",category:"Culture",icon:"\u{1F520}",source:["https://en.wikipedia.org/wiki/Taiwanese_Mandarin","https://en.wikipedia.org/wiki/Languages_of_Taiwan","https://studycli.org/learn-chinese/bopomofo/"]}],Hd=["data-id"],qd={class:"trivia-card-icon","aria-hidden":"true"},Kd={class:"trivia-card-text",id:"trivia-text"},Vd=["href"],zd={class:"trivia-card-reactions"},Jd=["onClick","disabled","aria-label"],Wd={key:0},Gd={key:1},Qd={key:2},Yd={class:"category-list"},Xd=["onClick","aria-pressed"],Zd=pr({__name:"TriviaCard",setup(t){const e=ds(Bd),s=kh(),r=bh(),n=ye(()=>{const v=e.value.map(L=>L.category);return[...new Set(v)]}),i=ds(n.value[c(n.value.length)]),o=ds(0),a=ye(()=>e.value.filter(v=>v.category===i.value)),l=ye(()=>a.value[o.value%a.value.length]),u=ye(()=>e.value.find(v=>v.featured)||e.value[0]);en(()=>{i.value=u.value.category;const v=e.value.filter(L=>L.category===u.value.category);o.value=v.findIndex(L=>L.id===u.value.id),O(u.value.id)});function c(v){return Math.floor(Math.random()*v)}function h(v){i.value=v;const L=a.value.length;o.value=c(L),x.value=null,g()}function p(){var be;const v=e.value,L=(be=l.value)==null?void 0:be.id,N=v.filter(ae=>ae.id!==L),B=N[c(N.length)];i.value=B.category;const le=e.value.filter(ae=>ae.category===B.category);o.value=le.findIndex(ae=>ae.id===B.id),x.value=null,g()}function g(){r.replace({path:`/${l.value.id}`})}function y(){const v=Number(s.params.id);if(!isNaN(v)){const L=e.value.find(N=>N.id===v);if(L){i.value=L.category;const N=e.value.filter(B=>B.category===L.category).findIndex(B=>B.id===v);N!==-1&&(o.value=N)}}}const T=["knew","didntKnow","interesting"],x=ds(null);async function O(v){const L=localStorage.getItem(`trivia-response-${v}`);x.value=L,await $(v)}async function $(v){const{data:L,error:N}=await eo.from("votes").select("reaction").eq("trivia_id",v);if(N){console.error("Error fetching votes:",N);return}const B={knew:0,didntKnow:0,interesting:0};L.forEach(le=>{B[le.reaction]!==void 0&&B[le.reaction]++}),l.value.reactionCounts=B}async function I(v){var N,B;if(!T.includes(v)||x.value)return;const{error:L}=await eo.from("votes").insert({trivia_id:l.value.id,reaction:v});if(L){console.error("Supabase error:",L);return}(B=(N=l.value).reactionCounts)!=null||(N.reactionCounts={knew:0,didntKnow:0,interesting:0}),l.value.reactionCounts[v]++,x.value=v,localStorage.setItem(`trivia-response-${l.value.id}`,v)}return bs(l,v=>{v&&O(v.id)}),en(()=>{y(),l.value&&O(l.value.id)}),(v,L)=>(Le(),Xe($e,null,[we("div",{class:"trivia-card","data-id":l.value.id},[we("div",qd,ft(l.value.icon),1),we("div",Kd,[we("p",null,[Ln(ft(l.value.text)+" ",1),l.value.source&&l.value.source.length?(Le(!0),Xe($e,{key:0},jr(l.value.source,(N,B)=>(Le(),Xe("sup",{key:N},[we("a",{href:N,target:"_blank",rel:"noopener noreferrer"},"["+ft(B+1)+"]",9,Vd)]))),128)):Rc("",!0)])]),we("button",{class:"trivia-card-shuffle-btn",onClick:p,"aria-label":"Shuffle trivia fact","aria-describedby":"trivia-text"},L[0]||(L[0]=[we("i",{class:"ph ph-shuffle","aria-hidden":"true"},null,-1)])),we("div",zd,[(Le(),Xe($e,null,jr(T,N=>{var B,le,be,ae,Ne,We;return we("button",{key:N,class:As(["reaction-btn",{active:x.value===N}]),onClick:Fe=>I(N),disabled:x.value!==null,"aria-label":N==="knew"?"I knew this":N==="didntKnow"?"I didn't know this":"Interesting!"},[N==="knew"?(Le(),Xe("span",Wd," \u{1F44D} Knew! ("+ft((le=(B=l.value.reactionCounts)==null?void 0:B.knew)!=null?le:0)+") ",1)):N==="didntKnow"?(Le(),Xe("span",Gd," \u{1F92F} New! ("+ft((ae=(be=l.value.reactionCounts)==null?void 0:be.didntKnow)!=null?ae:0)+") ",1)):(Le(),Xe("span",Qd," \u{1F60D} Interesting! ("+ft((We=(Ne=l.value.reactionCounts)==null?void 0:Ne.interesting)!=null?We:0)+") ",1))],10,Jd)}),64))])],8,Hd),we("div",Yd,[(Le(!0),Xe($e,null,jr(n.value,N=>(Le(),Xe("button",{key:N,onClick:B=>h(N),class:As(["category-btn",{selected:i.value===N}]),"aria-pressed":i.value===N},ft(N),11,Xd))),128))])],64))}});const ep=ua(Zd,[["__scopeId","data-v-980007f3"]]),to=pr({__name:"Home",setup(t){return(e,s)=>(Le(),na(ep))}}),tp=[{path:"/",name:"Home",component:to},{path:"/:id(\\d+)",name:"TriviaById",component:to}],sp=vh({history:Wu("/trivia-taiwan/"),routes:tp});const za=hu(_u);za.use(sp);za.mount("#app");
