(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const z={},kt=[],xe=()=>{},Uo=()=>!1,Ds=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Fr=t=>t.startsWith("onUpdate:"),Z=Object.assign,Nr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Mo=Object.prototype.hasOwnProperty,H=(t,e)=>Mo.call(t,e),I=Array.isArray,xt=t=>Us(t)==="[object Map]",nn=t=>Us(t)==="[object Set]",D=t=>typeof t=="function",Q=t=>typeof t=="string",Ze=t=>typeof t=="symbol",Y=t=>t!==null&&typeof t=="object",on=t=>(Y(t)||D(t))&&D(t.then)&&D(t.catch),an=Object.prototype.toString,Us=t=>an.call(t),Fo=t=>Us(t).slice(8,-1),ln=t=>Us(t)==="[object Object]",Br=t=>Q(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qt=Mr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},No=/-(\w)/g,Xe=Ms(t=>t.replace(No,(e,s)=>s?s.toUpperCase():"")),Bo=/\B([A-Z])/g,gt=Ms(t=>t.replace(Bo,"-$1").toLowerCase()),cn=Ms(t=>t.charAt(0).toUpperCase()+t.slice(1)),tr=Ms(t=>t?`on${cn(t)}`:""),Ye=(t,e)=>!Object.is(t,e),sr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},un=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Ho=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pi;const os=()=>pi||(pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hr(t){if(I(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],i=Q(r)?Jo(r):Hr(r);if(i)for(const n in i)e[n]=i[n]}return e}else if(Q(t)||Y(t))return t}const qo=/;(?![^(]*\))/g,Ko=/:([^]+)/,Vo=/\/\*[^]*?\*\//g;function Jo(t){const e={};return t.replace(Vo,"").split(qo).forEach(s=>{if(s){const r=s.split(Ko);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Xt(t){let e="";if(Q(t))e=t;else if(I(t))for(let s=0;s<t.length;s++){const r=Xt(t[s]);r&&(e+=r+" ")}else if(Y(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Wo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zo=Mr(Wo);function hn(t){return!!t||t===""}const dn=t=>!!(t&&t.__v_isRef===!0),ct=t=>Q(t)?t:t==null?"":I(t)||Y(t)&&(t.toString===an||!D(t.toString))?dn(t)?ct(t.value):JSON.stringify(t,fn,2):String(t),fn=(t,e)=>dn(e)?fn(t,e.value):xt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,i],n)=>(s[rr(r,n)+" =>"]=i,s),{})}:nn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>rr(s))}:Ze(e)?rr(e):Y(e)&&!I(e)&&!ln(e)?String(e):e,rr=(t,e="")=>{var s;return Ze(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _e;class Go{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_e,!e&&_e&&(this.index=(_e.scopes||(_e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=_e;try{return _e=this,e()}finally{_e=s}}}on(){_e=this}off(){_e=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Yo(){return _e}let W;const ir=new WeakSet;class pn{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_e&&_e.active&&_e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ir.has(this)&&(ir.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_n(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gi(this),vn(this);const e=W,s=Ee;W=this,Ee=!0;try{return this.fn()}finally{mn(this),W=e,Ee=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Vr(e);this.deps=this.depsTail=void 0,gi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ir.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yr(this)&&this.run()}get dirty(){return yr(this)}}let gn=0,Kt,Vt;function _n(t,e=!1){if(t.flags|=8,e){t.next=Vt,Vt=t;return}t.next=Kt,Kt=t}function qr(){gn++}function Kr(){if(--gn>0)return;if(Vt){let e=Vt;for(Vt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Kt;){let e=Kt;for(Kt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function vn(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mn(t){let e,s=t.depsTail,r=s;for(;r;){const i=r.prevDep;r.version===-1?(r===s&&(s=i),Vr(r),Qo(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=s}function yr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yn(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function yn(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Zt))return;t.globalVersion=Zt;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!yr(t)){t.flags&=-3;return}const s=W,r=Ee;W=t,Ee=!0;try{vn(t);const i=t.fn(t._value);(e.version===0||Ye(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{W=s,Ee=r,mn(t),t.flags&=-3}}function Vr(t,e=!1){const{dep:s,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let n=s.computed.deps;n;n=n.nextDep)Vr(n,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Qo(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ee=!0;const wn=[];function et(){wn.push(Ee),Ee=!1}function tt(){const t=wn.pop();Ee=t===void 0?!0:t}function gi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=W;W=void 0;try{e()}finally{W=s}}}let Zt=0;class Xo{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!W||!Ee||W===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==W)s=this.activeLink=new Xo(W,this),W.deps?(s.prevDep=W.depsTail,W.depsTail.nextDep=s,W.depsTail=s):W.deps=W.depsTail=s,bn(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=W.depsTail,s.nextDep=void 0,W.depsTail.nextDep=s,W.depsTail=s,W.deps===s&&(W.deps=r)}return s}trigger(e){this.version++,Zt++,this.notify(e)}notify(e){qr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Kr()}}}function bn(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)bn(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const wr=new WeakMap,ft=Symbol(""),br=Symbol(""),es=Symbol("");function te(t,e,s){if(Ee&&W){let r=wr.get(t);r||wr.set(t,r=new Map);let i=r.get(s);i||(r.set(s,i=new Jr),i.map=r,i.key=s),i.track()}}function Fe(t,e,s,r,i,n){const o=wr.get(t);if(!o){Zt++;return}const a=l=>{l&&l.trigger()};if(qr(),e==="clear")o.forEach(a);else{const l=I(t),u=l&&Br(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,p)=>{(p==="length"||p===es||!Ze(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(es)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ft)),xt(t)&&a(o.get(br)));break;case"delete":l||(a(o.get(ft)),xt(t)&&a(o.get(br)));break;case"set":xt(t)&&a(o.get(ft));break}}Kr()}function mt(t){const e=B(t);return e===t?e:(te(e,"iterate",es),we(t)?e:e.map(se))}function Fs(t){return te(t=B(t),"iterate",es),t}const Zo={__proto__:null,[Symbol.iterator](){return nr(this,Symbol.iterator,se)},concat(...t){return mt(this).concat(...t.map(e=>I(e)?mt(e):e))},entries(){return nr(this,"entries",t=>(t[1]=se(t[1]),t))},every(t,e){return De(this,"every",t,e,void 0,arguments)},filter(t,e){return De(this,"filter",t,e,s=>s.map(se),arguments)},find(t,e){return De(this,"find",t,e,se,arguments)},findIndex(t,e){return De(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return De(this,"findLast",t,e,se,arguments)},findLastIndex(t,e){return De(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return De(this,"forEach",t,e,void 0,arguments)},includes(...t){return or(this,"includes",t)},indexOf(...t){return or(this,"indexOf",t)},join(t){return mt(this).join(t)},lastIndexOf(...t){return or(this,"lastIndexOf",t)},map(t,e){return De(this,"map",t,e,void 0,arguments)},pop(){return Mt(this,"pop")},push(...t){return Mt(this,"push",t)},reduce(t,...e){return _i(this,"reduce",t,e)},reduceRight(t,...e){return _i(this,"reduceRight",t,e)},shift(){return Mt(this,"shift")},some(t,e){return De(this,"some",t,e,void 0,arguments)},splice(...t){return Mt(this,"splice",t)},toReversed(){return mt(this).toReversed()},toSorted(t){return mt(this).toSorted(t)},toSpliced(...t){return mt(this).toSpliced(...t)},unshift(...t){return Mt(this,"unshift",t)},values(){return nr(this,"values",se)}};function nr(t,e,s){const r=Fs(t),i=r[e]();return r!==t&&!we(t)&&(i._next=i.next,i.next=()=>{const n=i._next();return n.value&&(n.value=s(n.value)),n}),i}const ea=Array.prototype;function De(t,e,s,r,i,n){const o=Fs(t),a=o!==t&&!we(t),l=o[e];if(l!==ea[e]){const d=l.apply(t,n);return a?se(d):d}let u=s;o!==t&&(a?u=function(d,p){return s.call(this,se(d),p,t)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function _i(t,e,s,r){const i=Fs(t);let n=s;return i!==t&&(we(t)?s.length>3&&(n=function(o,a,l){return s.call(this,o,a,l,t)}):n=function(o,a,l){return s.call(this,o,se(a),l,t)}),i[e](n,...r)}function or(t,e,s){const r=B(t);te(r,"iterate",es);const i=r[e](...s);return(i===-1||i===!1)&&Yr(s[0])?(s[0]=B(s[0]),r[e](...s)):i}function Mt(t,e,s=[]){et(),qr();const r=B(t)[e].apply(t,s);return Kr(),tt(),r}const ta=Mr("__proto__,__v_isRef,__isVue"),Tn=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ze));function sa(t){Ze(t)||(t=String(t));const e=B(this);return te(e,"has",t),e.hasOwnProperty(t)}class Sn{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,n=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return n;if(s==="__v_raw")return r===(i?n?da:On:n?En:xn).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=I(e);if(!i){let l;if(o&&(l=Zo[s]))return l;if(s==="hasOwnProperty")return sa}const a=Reflect.get(e,s,re(e)?e:r);return(Ze(s)?Tn.has(s):ta(s))||(i||te(e,"get",s),n)?a:re(a)?o&&Br(s)?a:a.value:Y(a)?i?An(a):zr(a):a}}class kn extends Sn{constructor(e=!1){super(!1,e)}set(e,s,r,i){let n=e[s];if(!this._isShallow){const l=pt(n);if(!we(r)&&!pt(r)&&(n=B(n),r=B(r)),!I(e)&&re(n)&&!re(r))return l?!1:(n.value=r,!0)}const o=I(e)&&Br(s)?Number(s)<e.length:H(e,s),a=Reflect.set(e,s,r,re(e)?e:i);return e===B(i)&&(o?Ye(r,n)&&Fe(e,"set",s,r):Fe(e,"add",s,r)),a}deleteProperty(e,s){const r=H(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&r&&Fe(e,"delete",s,void 0),i}has(e,s){const r=Reflect.has(e,s);return(!Ze(s)||!Tn.has(s))&&te(e,"has",s),r}ownKeys(e){return te(e,"iterate",I(e)?"length":ft),Reflect.ownKeys(e)}}class ra extends Sn{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ia=new kn,na=new ra,oa=new kn(!0);const Tr=t=>t,_s=t=>Reflect.getPrototypeOf(t);function aa(t,e,s){return function(...r){const i=this.__v_raw,n=B(i),o=xt(n),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=s?Tr:e?Sr:se;return!e&&te(n,"iterate",l?br:ft),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function vs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function la(t,e){const s={get(i){const n=this.__v_raw,o=B(n),a=B(i);t||(Ye(i,a)&&te(o,"get",i),te(o,"get",a));const{has:l}=_s(o),u=e?Tr:t?Sr:se;if(l.call(o,i))return u(n.get(i));if(l.call(o,a))return u(n.get(a));n!==o&&n.get(i)},get size(){const i=this.__v_raw;return!t&&te(B(i),"iterate",ft),Reflect.get(i,"size",i)},has(i){const n=this.__v_raw,o=B(n),a=B(i);return t||(Ye(i,a)&&te(o,"has",i),te(o,"has",a)),i===a?n.has(i):n.has(i)||n.has(a)},forEach(i,n){const o=this,a=o.__v_raw,l=B(a),u=e?Tr:t?Sr:se;return!t&&te(l,"iterate",ft),a.forEach((c,d)=>i.call(n,u(c),u(d),o))}};return Z(s,t?{add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear")}:{add(i){!e&&!we(i)&&!pt(i)&&(i=B(i));const n=B(this);return _s(n).has.call(n,i)||(n.add(i),Fe(n,"add",i,i)),this},set(i,n){!e&&!we(n)&&!pt(n)&&(n=B(n));const o=B(this),{has:a,get:l}=_s(o);let u=a.call(o,i);u||(i=B(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,n),u?Ye(n,c)&&Fe(o,"set",i,n):Fe(o,"add",i,n),this},delete(i){const n=B(this),{has:o,get:a}=_s(n);let l=o.call(n,i);l||(i=B(i),l=o.call(n,i)),a&&a.call(n,i);const u=n.delete(i);return l&&Fe(n,"delete",i,void 0),u},clear(){const i=B(this),n=i.size!==0,o=i.clear();return n&&Fe(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=aa(i,t,e)}),s}function Wr(t,e){const s=la(t,e);return(r,i,n)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(H(s,i)&&i in r?s:r,i,n)}const ca={get:Wr(!1,!1)},ua={get:Wr(!1,!0)},ha={get:Wr(!0,!1)};const xn=new WeakMap,En=new WeakMap,On=new WeakMap,da=new WeakMap;function fa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pa(t){return t.__v_skip||!Object.isExtensible(t)?0:fa(Fo(t))}function zr(t){return pt(t)?t:Gr(t,!1,ia,ca,xn)}function ga(t){return Gr(t,!1,oa,ua,En)}function An(t){return Gr(t,!0,na,ha,On)}function Gr(t,e,s,r,i){if(!Y(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const n=i.get(t);if(n)return n;const o=pa(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return i.set(t,a),a}function Et(t){return pt(t)?Et(t.__v_raw):!!(t&&t.__v_isReactive)}function pt(t){return!!(t&&t.__v_isReadonly)}function we(t){return!!(t&&t.__v_isShallow)}function Yr(t){return t?!!t.__v_raw:!1}function B(t){const e=t&&t.__v_raw;return e?B(e):t}function _a(t){return!H(t,"__v_skip")&&Object.isExtensible(t)&&un(t,"__v_skip",!0),t}const se=t=>Y(t)?zr(t):t,Sr=t=>Y(t)?An(t):t;function re(t){return t?t.__v_isRef===!0:!1}function ms(t){return va(t,!1)}function va(t,e){return re(t)?t:new ma(t,e)}class ma{constructor(e,s){this.dep=new Jr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:B(e),this._value=s?e:se(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||we(e)||pt(e);e=r?e:B(e),Ye(e,s)&&(this._rawValue=e,this._value=r?e:se(e),this.dep.trigger())}}function ya(t){return re(t)?t.value:t}const wa={get:(t,e,s)=>e==="__v_raw"?t:ya(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const i=t[e];return re(i)&&!re(s)?(i.value=s,!0):Reflect.set(t,e,s,r)}};function Cn(t){return Et(t)?t:new Proxy(t,wa)}class ba{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Jr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&W!==this)return _n(this,!0),!0}get value(){const e=this.dep.track();return yn(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ta(t,e,s=!1){let r,i;return D(t)?r=t:(r=t.get,i=t.set),new ba(r,i,s)}const ys={},Cs=new WeakMap;let ut;function Sa(t,e=!1,s=ut){if(s){let r=Cs.get(s);r||Cs.set(s,r=[]),r.push(t)}}function ka(t,e,s=z){const{immediate:r,deep:i,once:n,scheduler:o,augmentJob:a,call:l}=s,u=C=>i?C:we(C)||i===!1||i===0?ze(C,1):ze(C);let c,d,p,_,E=!1,b=!1;if(re(t)?(d=()=>t.value,E=we(t)):Et(t)?(d=()=>u(t),E=!0):I(t)?(b=!0,E=t.some(C=>Et(C)||we(C)),d=()=>t.map(C=>{if(re(C))return C.value;if(Et(C))return u(C);if(D(C))return l?l(C,2):C()})):D(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){et();try{p()}finally{tt()}}const C=ut;ut=c;try{return l?l(t,3,[_]):t(_)}finally{ut=C}}:d=xe,e&&i){const C=d,F=i===!0?1/0:i;d=()=>ze(C(),F)}const O=Yo(),A=()=>{c.stop(),O&&O.active&&Nr(O.effects,c)};if(n&&e){const C=e;e=(...F)=>{C(...F),A()}}let $=b?new Array(t.length).fill(ys):ys;const U=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(e){const F=c.run();if(i||E||(b?F.some((Te,ue)=>Ye(Te,$[ue])):Ye(F,$))){p&&p();const Te=ut;ut=c;try{const ue=[F,$===ys?void 0:b&&$[0]===ys?[]:$,_];l?l(e,3,ue):e(...ue),$=F}finally{ut=Te}}}else c.run()};return a&&a(U),c=new pn(d),c.scheduler=o?()=>o(U,!1):U,_=C=>Sa(C,!1,c),p=c.onStop=()=>{const C=Cs.get(c);if(C){if(l)l(C,4);else for(const F of C)F();Cs.delete(c)}},e?r?U(!0):$=c.run():o?o(U.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function ze(t,e=1/0,s){if(e<=0||!Y(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,re(t))ze(t.value,e,s);else if(I(t))for(let r=0;r<t.length;r++)ze(t[r],e,s);else if(nn(t)||xt(t))t.forEach(r=>{ze(r,e,s)});else if(ln(t)){for(const r in t)ze(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ze(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function as(t,e,s,r){try{return r?t(...r):t()}catch(i){Ns(i,e,s)}}function Ie(t,e,s,r){if(D(t)){const i=as(t,e,s,r);return i&&on(i)&&i.catch(n=>{Ns(n,e,s)}),i}if(I(t)){const i=[];for(let n=0;n<t.length;n++)i.push(Ie(t[n],e,s,r));return i}}function Ns(t,e,s,r=!0){const i=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||z;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(n){et(),as(n,null,10,[t,l,u]),tt();return}}xa(t,s,i,r,o)}function xa(t,e,s,r=!0,i=!1){if(i)throw t;console.error(t)}const oe=[];let je=-1;const Ot=[];let Ve=null,Tt=0;const Pn=Promise.resolve();let Ps=null;function Ea(t){const e=Ps||Pn;return t?e.then(this?t.bind(this):t):e}function Oa(t){let e=je+1,s=oe.length;for(;e<s;){const r=e+s>>>1,i=oe[r],n=ts(i);n<t||n===t&&i.flags&2?e=r+1:s=r}return e}function Qr(t){if(!(t.flags&1)){const e=ts(t),s=oe[oe.length-1];!s||!(t.flags&2)&&e>=ts(s)?oe.push(t):oe.splice(Oa(e),0,t),t.flags|=1,jn()}}function jn(){Ps||(Ps=Pn.then(Rn))}function Aa(t){I(t)?Ot.push(...t):Ve&&t.id===-1?Ve.splice(Tt+1,0,t):t.flags&1||(Ot.push(t),t.flags|=1),jn()}function vi(t,e,s=je+1){for(;s<oe.length;s++){const r=oe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;oe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function $n(t){if(Ot.length){const e=[...new Set(Ot)].sort((s,r)=>ts(s)-ts(r));if(Ot.length=0,Ve){Ve.push(...e);return}for(Ve=e,Tt=0;Tt<Ve.length;Tt++){const s=Ve[Tt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ve=null,Tt=0}}const ts=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Rn(t){const e=xe;try{for(je=0;je<oe.length;je++){const s=oe[je];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),as(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;je<oe.length;je++){const s=oe[je];s&&(s.flags&=-2)}je=-1,oe.length=0,$n(),Ps=null,(oe.length||Ot.length)&&Rn()}}let Re=null,In=null;function js(t){const e=Re;return Re=t,In=t&&t.type.__scopeId||null,e}function Ca(t,e=Re,s){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ei(-1);const n=js(e);let o;try{o=t(...i)}finally{js(n),r._d&&Ei(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ot(t,e,s,r){const i=t.dirs,n=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(et(),Ie(l,s,8,[t.el,a,t,e]),tt())}}const Pa=Symbol("_vte"),ja=t=>t.__isTeleport;function Xr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Xr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ln(t,e){return D(t)?(()=>Z({name:t.name},e,{setup:t}))():t}function Dn(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function $s(t,e,s,r,i=!1){if(I(t)){t.forEach((E,b)=>$s(E,e&&(I(e)?e[b]:e),s,r,i));return}if(Jt(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$s(t,e,s,r.component.subTree);return}const n=r.shapeFlag&4?si(r.component):r.el,o=i?null:n,{i:a,r:l}=t,u=e&&e.r,c=a.refs===z?a.refs={}:a.refs,d=a.setupState,p=B(d),_=d===z?()=>!1:E=>H(p,E);if(u!=null&&u!==l&&(Q(u)?(c[u]=null,_(u)&&(d[u]=null)):re(u)&&(u.value=null)),D(l))as(l,a,12,[o,c]);else{const E=Q(l),b=re(l);if(E||b){const O=()=>{if(t.f){const A=E?_(l)?d[l]:c[l]:l.value;i?I(A)&&Nr(A,n):I(A)?A.includes(n)||A.push(n):E?(c[l]=[n],_(l)&&(d[l]=c[l])):(l.value=[n],t.k&&(c[t.k]=l.value))}else E?(c[l]=o,_(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(O.id=-1,pe(O,s)):O()}}}os().requestIdleCallback;os().cancelIdleCallback;const Jt=t=>!!t.type.__asyncLoader,Un=t=>t.type.__isKeepAlive;function $a(t,e){Mn(t,"a",e)}function Ra(t,e){Mn(t,"da",e)}function Mn(t,e,s=ae){const r=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Bs(e,r,s),s){let i=s.parent;for(;i&&i.parent;)Un(i.parent.vnode)&&Ia(r,e,s,i),i=i.parent}}function Ia(t,e,s,r){const i=Bs(e,t,r,!0);Nn(()=>{Nr(r[e],i)},s)}function Bs(t,e,s=ae,r=!1){if(s){const i=s[t]||(s[t]=[]),n=e.__weh||(e.__weh=(...o)=>{et();const a=ls(s),l=Ie(e,s,t,o);return a(),tt(),l});return r?i.unshift(n):i.push(n),n}}const Ne=t=>(e,s=ae)=>{(!is||t==="sp")&&Bs(t,(...r)=>e(...r),s)},La=Ne("bm"),Fn=Ne("m"),Da=Ne("bu"),Ua=Ne("u"),Ma=Ne("bum"),Nn=Ne("um"),Fa=Ne("sp"),Na=Ne("rtg"),Ba=Ne("rtc");function Ha(t,e=ae){Bs("ec",t,e)}const qa=Symbol.for("v-ndc");function mi(t,e,s,r){let i;const n=s&&s[r],o=I(t);if(o||Q(t)){const a=o&&Et(t);let l=!1;a&&(l=!we(t),t=Fs(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?se(t[u]):t[u],u,void 0,n&&n[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,n&&n[a])}else if(Y(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,n&&n[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,n&&n[l])}}else i=[];return s&&(s[r]=i),i}const kr=t=>t?ao(t)?si(t):kr(t.parent):null,Wt=Z(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kr(t.parent),$root:t=>kr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zr(t),$forceUpdate:t=>t.f||(t.f=()=>{Qr(t.update)}),$nextTick:t=>t.n||(t.n=Ea.bind(t.proxy)),$watch:t=>dl.bind(t)}),ar=(t,e)=>t!==z&&!t.__isScriptSetup&&H(t,e),Ka={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:i,props:n,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return i[e];case 4:return s[e];case 3:return n[e]}else{if(ar(r,e))return o[e]=1,r[e];if(i!==z&&H(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&H(u,e))return o[e]=3,n[e];if(s!==z&&H(s,e))return o[e]=4,s[e];xr&&(o[e]=0)}}const c=Wt[e];let d,p;if(c)return e==="$attrs"&&te(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==z&&H(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,H(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:i,ctx:n}=t;return ar(i,e)?(i[e]=s,!0):r!==z&&H(r,e)?(r[e]=s,!0):H(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(n[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:i,propsOptions:n}},o){let a;return!!s[o]||t!==z&&H(t,o)||ar(e,o)||(a=n[0])&&H(a,o)||H(r,o)||H(Wt,o)||H(i.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:H(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function yi(t){return I(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let xr=!0;function Va(t){const e=Zr(t),s=t.proxy,r=t.ctx;xr=!1,e.beforeCreate&&wi(e.beforeCreate,t,"bc");const{data:i,computed:n,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:_,updated:E,activated:b,deactivated:O,beforeDestroy:A,beforeUnmount:$,destroyed:U,unmounted:C,render:F,renderTracked:Te,renderTriggered:ue,errorCaptured:Le,serverPrefetch:hs,expose:rt,inheritAttrs:Lt,components:ds,directives:fs,filters:Qs}=e;if(u&&Ja(u,r,null),o)for(const G in o){const K=o[G];D(K)&&(r[G]=K.bind(s))}if(i){const G=i.call(s,s);Y(G)&&(t.data=zr(G))}if(xr=!0,n)for(const G in n){const K=n[G],it=D(K)?K.bind(s,s):D(K.get)?K.get.bind(s,s):xe,ps=!D(K)&&D(K.set)?K.set.bind(s):xe,nt=Os({get:it,set:ps});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Oe=>nt.value=Oe})}if(a)for(const G in a)Bn(a[G],r,s,G);if(l){const G=D(l)?l.call(s):l;Reflect.ownKeys(G).forEach(K=>{Xa(K,G[K])})}c&&wi(c,t,"c");function ie(G,K){I(K)?K.forEach(it=>G(it.bind(s))):K&&G(K.bind(s))}if(ie(La,d),ie(Fn,p),ie(Da,_),ie(Ua,E),ie($a,b),ie(Ra,O),ie(Ha,Le),ie(Ba,Te),ie(Na,ue),ie(Ma,$),ie(Nn,C),ie(Fa,hs),I(rt))if(rt.length){const G=t.exposed||(t.exposed={});rt.forEach(K=>{Object.defineProperty(G,K,{get:()=>s[K],set:it=>s[K]=it})})}else t.exposed||(t.exposed={});F&&t.render===xe&&(t.render=F),Lt!=null&&(t.inheritAttrs=Lt),ds&&(t.components=ds),fs&&(t.directives=fs),hs&&Dn(t)}function Ja(t,e,s=xe){I(t)&&(t=Er(t));for(const r in t){const i=t[r];let n;Y(i)?"default"in i?n=ks(i.from||r,i.default,!0):n=ks(i.from||r):n=ks(i),re(n)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):e[r]=n}}function wi(t,e,s){Ie(I(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Bn(t,e,s,r){let i=r.includes(".")?to(s,r):()=>s[r];if(Q(t)){const n=e[t];D(n)&&xs(i,n)}else if(D(t))xs(i,t.bind(s));else if(Y(t))if(I(t))t.forEach(n=>Bn(n,e,s,r));else{const n=D(t.handler)?t.handler.bind(s):e[t.handler];D(n)&&xs(i,n,t)}}function Zr(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:i,optionsCache:n,config:{optionMergeStrategies:o}}=t.appContext,a=n.get(e);let l;return a?l=a:!i.length&&!s&&!r?l=e:(l={},i.length&&i.forEach(u=>Rs(l,u,o,!0)),Rs(l,e,o)),Y(e)&&n.set(e,l),l}function Rs(t,e,s,r=!1){const{mixins:i,extends:n}=e;n&&Rs(t,n,s,!0),i&&i.forEach(o=>Rs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Wa[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Wa={data:bi,props:Ti,emits:Ti,methods:Bt,computed:Bt,beforeCreate:ne,created:ne,beforeMount:ne,mounted:ne,beforeUpdate:ne,updated:ne,beforeDestroy:ne,beforeUnmount:ne,destroyed:ne,unmounted:ne,activated:ne,deactivated:ne,errorCaptured:ne,serverPrefetch:ne,components:Bt,directives:Bt,watch:Ga,provide:bi,inject:za};function bi(t,e){return e?t?function(){return Z(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function za(t,e){return Bt(Er(t),Er(e))}function Er(t){if(I(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ne(t,e){return t?[...new Set([].concat(t,e))]:e}function Bt(t,e){return t?Z(Object.create(null),t,e):e}function Ti(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:Z(Object.create(null),yi(t),yi(e!=null?e:{})):e}function Ga(t,e){if(!t)return e;if(!e)return t;const s=Z(Object.create(null),t);for(const r in e)s[r]=ne(t[r],e[r]);return s}function Hn(){return{app:null,config:{isNativeTag:Uo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ya=0;function Qa(t,e){return function(r,i=null){D(r)||(r=Z({},r)),i!=null&&!Y(i)&&(i=null);const n=Hn(),o=new WeakSet,a=[];let l=!1;const u=n.app={_uid:Ya++,_component:r,_props:i,_container:null,_context:n,_instance:null,version:Rl,get config(){return n.config},set config(c){},use(c,...d){return o.has(c)||(c&&D(c.install)?(o.add(c),c.install(u,...d)):D(c)&&(o.add(c),c(u,...d))),u},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),u},component(c,d){return d?(n.components[c]=d,u):n.components[c]},directive(c,d){return d?(n.directives[c]=d,u):n.directives[c]},mount(c,d,p){if(!l){const _=u._ceVNode||Qe(r,i);return _.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&e?e(_,c):t(_,c,p),l=!0,u._container=c,c.__vue_app__=u,si(_.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ie(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return n.provides[c]=d,u},runWithContext(c){const d=At;At=u;try{return c()}finally{At=d}}};return u}}let At=null;function Xa(t,e){if(ae){let s=ae.provides;const r=ae.parent&&ae.parent.provides;r===s&&(s=ae.provides=Object.create(r)),s[t]=e}}function ks(t,e,s=!1){const r=ae||Re;if(r||At){const i=At?At._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&D(e)?e.call(r&&r.proxy):e}}const qn={},Kn=()=>Object.create(qn),Vn=t=>Object.getPrototypeOf(t)===qn;function Za(t,e,s,r=!1){const i={},n=Kn();t.propsDefaults=Object.create(null),Jn(t,e,i,n);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=r?i:ga(i):t.type.props?t.props=i:t.props=n,t.attrs=n}function el(t,e,s,r){const{props:i,attrs:n,vnode:{patchFlag:o}}=t,a=B(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(Hs(t.emitsOptions,p))continue;const _=e[p];if(l)if(H(n,p))_!==n[p]&&(n[p]=_,u=!0);else{const E=Xe(p);i[E]=Or(l,a,E,_,t,!1)}else _!==n[p]&&(n[p]=_,u=!0)}}}else{Jn(t,e,i,n)&&(u=!0);let c;for(const d in a)(!e||!H(e,d)&&((c=gt(d))===d||!H(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(i[d]=Or(l,a,d,void 0,t,!0)):delete i[d]);if(n!==a)for(const d in n)(!e||!H(e,d)&&!0)&&(delete n[d],u=!0)}u&&Fe(t.attrs,"set","")}function Jn(t,e,s,r){const[i,n]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(qt(l))continue;const u=e[l];let c;i&&H(i,c=Xe(l))?!n||!n.includes(c)?s[c]=u:(a||(a={}))[c]=u:Hs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(n){const l=B(s),u=a||z;for(let c=0;c<n.length;c++){const d=n[c];s[d]=Or(i,l,d,u[d],t,!H(u,d))}}return o}function Or(t,e,s,r,i,n){const o=t[s];if(o!=null){const a=H(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&D(l)){const{propsDefaults:u}=i;if(s in u)r=u[s];else{const c=ls(i);r=u[s]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(s,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===gt(s))&&(r=!0))}return r}const tl=new WeakMap;function Wn(t,e,s=!1){const r=s?tl:e.propsCache,i=r.get(t);if(i)return i;const n=t.props,o={},a=[];let l=!1;if(!D(t)){const c=d=>{l=!0;const[p,_]=Wn(d,e,!0);Z(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!n&&!l)return Y(t)&&r.set(t,kt),kt;if(I(n))for(let c=0;c<n.length;c++){const d=Xe(n[c]);Si(d)&&(o[d]=z)}else if(n)for(const c in n){const d=Xe(c);if(Si(d)){const p=n[c],_=o[d]=I(p)||D(p)?{type:p}:Z({},p),E=_.type;let b=!1,O=!0;if(I(E))for(let A=0;A<E.length;++A){const $=E[A],U=D($)&&$.name;if(U==="Boolean"){b=!0;break}else U==="String"&&(O=!1)}else b=D(E)&&E.name==="Boolean";_[0]=b,_[1]=O,(b||H(_,"default"))&&a.push(d)}}const u=[o,a];return Y(t)&&r.set(t,u),u}function Si(t){return t[0]!=="$"&&!qt(t)}const zn=t=>t[0]==="_"||t==="$stable",ei=t=>I(t)?t.map($e):[$e(t)],sl=(t,e,s)=>{if(e._n)return e;const r=Ca((...i)=>ei(e(...i)),s);return r._c=!1,r},Gn=(t,e,s)=>{const r=t._ctx;for(const i in t){if(zn(i))continue;const n=t[i];if(D(n))e[i]=sl(i,n,r);else if(n!=null){const o=ei(n);e[i]=()=>o}}},Yn=(t,e)=>{const s=ei(e);t.slots.default=()=>s},Qn=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},rl=(t,e,s)=>{const r=t.slots=Kn();if(t.vnode.shapeFlag&32){const i=e._;i?(Qn(r,e,s),s&&un(r,"_",i,!0)):Gn(e,r)}else e&&Yn(t,e)},il=(t,e,s)=>{const{vnode:r,slots:i}=t;let n=!0,o=z;if(r.shapeFlag&32){const a=e._;a?s&&a===1?n=!1:Qn(i,e,s):(n=!e.$stable,Gn(e,i)),o=e}else e&&(Yn(t,e),o={default:1});if(n)for(const a in i)!zn(a)&&o[a]==null&&delete i[a]};function nl(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(os().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const pe=yl;function ol(t){return al(t)}function al(t,e){nl();const s=os();s.__VUE__=!0;const{insert:r,remove:i,patchProp:n,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:_=xe,insertStaticContent:E}=t,b=(h,f,g,y=null,v=null,m=null,k=void 0,S=null,T=!!f.dynamicChildren)=>{if(h===f)return;h&&!Ft(h,f)&&(y=gs(h),Oe(h,v,m,!0),h=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:w,ref:j,shapeFlag:x}=f;switch(w){case qs:O(h,f,g,y);break;case ss:A(h,f,g,y);break;case ur:h==null&&$(f,g,y,k);break;case ye:ds(h,f,g,y,v,m,k,S,T);break;default:x&1?F(h,f,g,y,v,m,k,S,T):x&6?fs(h,f,g,y,v,m,k,S,T):(x&64||x&128)&&w.process(h,f,g,y,v,m,k,S,T,vt)}j!=null&&v&&$s(j,h&&h.ref,m,f||h,!f)},O=(h,f,g,y)=>{if(h==null)r(f.el=a(f.children),g,y);else{const v=f.el=h.el;f.children!==h.children&&u(v,f.children)}},A=(h,f,g,y)=>{h==null?r(f.el=l(f.children||""),g,y):f.el=h.el},$=(h,f,g,y)=>{[h.el,h.anchor]=E(h.children,f,g,y,h.el,h.anchor)},U=({el:h,anchor:f},g,y)=>{let v;for(;h&&h!==f;)v=p(h),r(h,g,y),h=v;r(f,g,y)},C=({el:h,anchor:f})=>{let g;for(;h&&h!==f;)g=p(h),i(h),h=g;i(f)},F=(h,f,g,y,v,m,k,S,T)=>{f.type==="svg"?k="svg":f.type==="math"&&(k="mathml"),h==null?Te(f,g,y,v,m,k,S,T):hs(h,f,v,m,k,S,T)},Te=(h,f,g,y,v,m,k,S)=>{let T,w;const{props:j,shapeFlag:x,transition:P,dirs:R}=h;if(T=h.el=o(h.type,m,j&&j.is,j),x&8?c(T,h.children):x&16&&Le(h.children,T,null,y,v,lr(h,m),k,S),R&&ot(h,null,y,"created"),ue(T,h,h.scopeId,k,y),j){for(const V in j)V!=="value"&&!qt(V)&&n(T,V,null,j[V],m,y);"value"in j&&n(T,"value",null,j.value,m),(w=j.onVnodeBeforeMount)&&Ce(w,y,h)}R&&ot(h,null,y,"beforeMount");const N=ll(v,P);N&&P.beforeEnter(T),r(T,f,g),((w=j&&j.onVnodeMounted)||N||R)&&pe(()=>{w&&Ce(w,y,h),N&&P.enter(T),R&&ot(h,null,y,"mounted")},v)},ue=(h,f,g,y,v)=>{if(g&&_(h,g),y)for(let m=0;m<y.length;m++)_(h,y[m]);if(v){let m=v.subTree;if(f===m||ro(m.type)&&(m.ssContent===f||m.ssFallback===f)){const k=v.vnode;ue(h,k,k.scopeId,k.slotScopeIds,v.parent)}}},Le=(h,f,g,y,v,m,k,S,T=0)=>{for(let w=T;w<h.length;w++){const j=h[w]=S?Je(h[w]):$e(h[w]);b(null,j,f,g,y,v,m,k,S)}},hs=(h,f,g,y,v,m,k)=>{const S=f.el=h.el;let{patchFlag:T,dynamicChildren:w,dirs:j}=f;T|=h.patchFlag&16;const x=h.props||z,P=f.props||z;let R;if(g&&at(g,!1),(R=P.onVnodeBeforeUpdate)&&Ce(R,g,f,h),j&&ot(f,h,g,"beforeUpdate"),g&&at(g,!0),(x.innerHTML&&P.innerHTML==null||x.textContent&&P.textContent==null)&&c(S,""),w?rt(h.dynamicChildren,w,S,g,y,lr(f,v),m):k||K(h,f,S,null,g,y,lr(f,v),m,!1),T>0){if(T&16)Lt(S,x,P,g,v);else if(T&2&&x.class!==P.class&&n(S,"class",null,P.class,v),T&4&&n(S,"style",x.style,P.style,v),T&8){const N=f.dynamicProps;for(let V=0;V<N.length;V++){const q=N[V],he=x[q],ee=P[q];(ee!==he||q==="value")&&n(S,q,he,ee,v,g)}}T&1&&h.children!==f.children&&c(S,f.children)}else!k&&w==null&&Lt(S,x,P,g,v);((R=P.onVnodeUpdated)||j)&&pe(()=>{R&&Ce(R,g,f,h),j&&ot(f,h,g,"updated")},y)},rt=(h,f,g,y,v,m,k)=>{for(let S=0;S<f.length;S++){const T=h[S],w=f[S],j=T.el&&(T.type===ye||!Ft(T,w)||T.shapeFlag&70)?d(T.el):g;b(T,w,j,null,y,v,m,k,!0)}},Lt=(h,f,g,y,v)=>{if(f!==g){if(f!==z)for(const m in f)!qt(m)&&!(m in g)&&n(h,m,f[m],null,v,y);for(const m in g){if(qt(m))continue;const k=g[m],S=f[m];k!==S&&m!=="value"&&n(h,m,S,k,v,y)}"value"in g&&n(h,"value",f.value,g.value,v)}},ds=(h,f,g,y,v,m,k,S,T)=>{const w=f.el=h?h.el:a(""),j=f.anchor=h?h.anchor:a("");let{patchFlag:x,dynamicChildren:P,slotScopeIds:R}=f;R&&(S=S?S.concat(R):R),h==null?(r(w,g,y),r(j,g,y),Le(f.children||[],g,j,v,m,k,S,T)):x>0&&x&64&&P&&h.dynamicChildren?(rt(h.dynamicChildren,P,g,v,m,k,S),(f.key!=null||v&&f===v.subTree)&&Xn(h,f,!0)):K(h,f,g,j,v,m,k,S,T)},fs=(h,f,g,y,v,m,k,S,T)=>{f.slotScopeIds=S,h==null?f.shapeFlag&512?v.ctx.activate(f,g,y,k,T):Qs(f,g,y,v,m,k,T):ci(h,f,T)},Qs=(h,f,g,y,v,m,k)=>{const S=h.component=Ol(h,y,v);if(Un(h)&&(S.ctx.renderer=vt),Al(S,!1,k),S.asyncDep){if(v&&v.registerDep(S,ie,k),!h.el){const T=S.subTree=Qe(ss);A(null,T,f,g)}}else ie(S,h,f,g,v,m,k)},ci=(h,f,g)=>{const y=f.component=h.component;if(vl(h,f,g))if(y.asyncDep&&!y.asyncResolved){G(y,f,g);return}else y.next=f,y.update();else f.el=h.el,y.vnode=f},ie=(h,f,g,y,v,m,k)=>{const S=()=>{if(h.isMounted){let{next:x,bu:P,u:R,parent:N,vnode:V}=h;{const de=Zn(h);if(de){x&&(x.el=V.el,G(h,x,k)),de.asyncDep.then(()=>{h.isUnmounted||S()});return}}let q=x,he;at(h,!1),x?(x.el=V.el,G(h,x,k)):x=V,P&&sr(P),(he=x.props&&x.props.onVnodeBeforeUpdate)&&Ce(he,N,x,V),at(h,!0);const ee=cr(h),Se=h.subTree;h.subTree=ee,b(Se,ee,d(Se.el),gs(Se),h,v,m),x.el=ee.el,q===null&&ml(h,ee.el),R&&pe(R,v),(he=x.props&&x.props.onVnodeUpdated)&&pe(()=>Ce(he,N,x,V),v)}else{let x;const{el:P,props:R}=f,{bm:N,m:V,parent:q,root:he,type:ee}=h,Se=Jt(f);if(at(h,!1),N&&sr(N),!Se&&(x=R&&R.onVnodeBeforeMount)&&Ce(x,q,f),at(h,!0),P&&er){const de=()=>{h.subTree=cr(h),er(P,h.subTree,h,v,null)};Se&&ee.__asyncHydrate?ee.__asyncHydrate(P,h,de):de()}else{he.ce&&he.ce._injectChildStyle(ee);const de=h.subTree=cr(h);b(null,de,g,y,h,v,m),f.el=de.el}if(V&&pe(V,v),!Se&&(x=R&&R.onVnodeMounted)){const de=f;pe(()=>Ce(x,q,de),v)}(f.shapeFlag&256||q&&Jt(q.vnode)&&q.vnode.shapeFlag&256)&&h.a&&pe(h.a,v),h.isMounted=!0,f=g=y=null}};h.scope.on();const T=h.effect=new pn(S);h.scope.off();const w=h.update=T.run.bind(T),j=h.job=T.runIfDirty.bind(T);j.i=h,j.id=h.uid,T.scheduler=()=>Qr(j),at(h,!0),w()},G=(h,f,g)=>{f.component=h;const y=h.vnode.props;h.vnode=f,h.next=null,el(h,f.props,y,g),il(h,f.children,g),et(),vi(h),tt()},K=(h,f,g,y,v,m,k,S,T=!1)=>{const w=h&&h.children,j=h?h.shapeFlag:0,x=f.children,{patchFlag:P,shapeFlag:R}=f;if(P>0){if(P&128){ps(w,x,g,y,v,m,k,S,T);return}else if(P&256){it(w,x,g,y,v,m,k,S,T);return}}R&8?(j&16&&Dt(w,v,m),x!==w&&c(g,x)):j&16?R&16?ps(w,x,g,y,v,m,k,S,T):Dt(w,v,m,!0):(j&8&&c(g,""),R&16&&Le(x,g,y,v,m,k,S,T))},it=(h,f,g,y,v,m,k,S,T)=>{h=h||kt,f=f||kt;const w=h.length,j=f.length,x=Math.min(w,j);let P;for(P=0;P<x;P++){const R=f[P]=T?Je(f[P]):$e(f[P]);b(h[P],R,g,null,v,m,k,S,T)}w>j?Dt(h,v,m,!0,!1,x):Le(f,g,y,v,m,k,S,T,x)},ps=(h,f,g,y,v,m,k,S,T)=>{let w=0;const j=f.length;let x=h.length-1,P=j-1;for(;w<=x&&w<=P;){const R=h[w],N=f[w]=T?Je(f[w]):$e(f[w]);if(Ft(R,N))b(R,N,g,null,v,m,k,S,T);else break;w++}for(;w<=x&&w<=P;){const R=h[x],N=f[P]=T?Je(f[P]):$e(f[P]);if(Ft(R,N))b(R,N,g,null,v,m,k,S,T);else break;x--,P--}if(w>x){if(w<=P){const R=P+1,N=R<j?f[R].el:y;for(;w<=P;)b(null,f[w]=T?Je(f[w]):$e(f[w]),g,N,v,m,k,S,T),w++}}else if(w>P)for(;w<=x;)Oe(h[w],v,m,!0),w++;else{const R=w,N=w,V=new Map;for(w=N;w<=P;w++){const fe=f[w]=T?Je(f[w]):$e(f[w]);fe.key!=null&&V.set(fe.key,w)}let q,he=0;const ee=P-N+1;let Se=!1,de=0;const Ut=new Array(ee);for(w=0;w<ee;w++)Ut[w]=0;for(w=R;w<=x;w++){const fe=h[w];if(he>=ee){Oe(fe,v,m,!0);continue}let Ae;if(fe.key!=null)Ae=V.get(fe.key);else for(q=N;q<=P;q++)if(Ut[q-N]===0&&Ft(fe,f[q])){Ae=q;break}Ae===void 0?Oe(fe,v,m,!0):(Ut[Ae-N]=w+1,Ae>=de?de=Ae:Se=!0,b(fe,f[Ae],g,null,v,m,k,S,T),he++)}const di=Se?cl(Ut):kt;for(q=di.length-1,w=ee-1;w>=0;w--){const fe=N+w,Ae=f[fe],fi=fe+1<j?f[fe+1].el:y;Ut[w]===0?b(null,Ae,g,fi,v,m,k,S,T):Se&&(q<0||w!==di[q]?nt(Ae,g,fi,2):q--)}}},nt=(h,f,g,y,v=null)=>{const{el:m,type:k,transition:S,children:T,shapeFlag:w}=h;if(w&6){nt(h.component.subTree,f,g,y);return}if(w&128){h.suspense.move(f,g,y);return}if(w&64){k.move(h,f,g,vt);return}if(k===ye){r(m,f,g);for(let x=0;x<T.length;x++)nt(T[x],f,g,y);r(h.anchor,f,g);return}if(k===ur){U(h,f,g);return}if(y!==2&&w&1&&S)if(y===0)S.beforeEnter(m),r(m,f,g),pe(()=>S.enter(m),v);else{const{leave:x,delayLeave:P,afterLeave:R}=S,N=()=>r(m,f,g),V=()=>{x(m,()=>{N(),R&&R()})};P?P(m,N,V):V()}else r(m,f,g)},Oe=(h,f,g,y=!1,v=!1)=>{const{type:m,props:k,ref:S,children:T,dynamicChildren:w,shapeFlag:j,patchFlag:x,dirs:P,cacheIndex:R}=h;if(x===-2&&(v=!1),S!=null&&$s(S,null,g,h,!0),R!=null&&(f.renderCache[R]=void 0),j&256){f.ctx.deactivate(h);return}const N=j&1&&P,V=!Jt(h);let q;if(V&&(q=k&&k.onVnodeBeforeUnmount)&&Ce(q,f,h),j&6)Do(h.component,g,y);else{if(j&128){h.suspense.unmount(g,y);return}N&&ot(h,null,f,"beforeUnmount"),j&64?h.type.remove(h,f,g,vt,y):w&&!w.hasOnce&&(m!==ye||x>0&&x&64)?Dt(w,f,g,!1,!0):(m===ye&&x&384||!v&&j&16)&&Dt(T,f,g),y&&ui(h)}(V&&(q=k&&k.onVnodeUnmounted)||N)&&pe(()=>{q&&Ce(q,f,h),N&&ot(h,null,f,"unmounted")},g)},ui=h=>{const{type:f,el:g,anchor:y,transition:v}=h;if(f===ye){Lo(g,y);return}if(f===ur){C(h);return}const m=()=>{i(g),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(h.shapeFlag&1&&v&&!v.persisted){const{leave:k,delayLeave:S}=v,T=()=>k(g,m);S?S(h.el,m,T):T()}else m()},Lo=(h,f)=>{let g;for(;h!==f;)g=p(h),i(h),h=g;i(f)},Do=(h,f,g)=>{const{bum:y,scope:v,job:m,subTree:k,um:S,m:T,a:w}=h;ki(T),ki(w),y&&sr(y),v.stop(),m&&(m.flags|=8,Oe(k,h,f,g)),S&&pe(S,f),pe(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Dt=(h,f,g,y=!1,v=!1,m=0)=>{for(let k=m;k<h.length;k++)Oe(h[k],f,g,y,v)},gs=h=>{if(h.shapeFlag&6)return gs(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),g=f&&f[Pa];return g?p(g):f};let Xs=!1;const hi=(h,f,g)=>{h==null?f._vnode&&Oe(f._vnode,null,null,!0):b(f._vnode||null,h,f,null,null,null,g),f._vnode=h,Xs||(Xs=!0,vi(),$n(),Xs=!1)},vt={p:b,um:Oe,m:nt,r:ui,mt:Qs,mc:Le,pc:K,pbc:rt,n:gs,o:t};let Zs,er;return e&&([Zs,er]=e(vt)),{render:hi,hydrate:Zs,createApp:Qa(hi,Zs)}}function lr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function at({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ll(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Xn(t,e,s=!1){const r=t.children,i=e.children;if(I(r)&&I(i))for(let n=0;n<r.length;n++){const o=r[n];let a=i[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[n]=Je(i[n]),a.el=o.el),!s&&a.patchFlag!==-2&&Xn(o,a)),a.type===qs&&(a.el=o.el)}}function cl(t){const e=t.slice(),s=[0];let r,i,n,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=s[s.length-1],t[i]<u){e[r]=i,s.push(r);continue}for(n=0,o=s.length-1;n<o;)a=n+o>>1,t[s[a]]<u?n=a+1:o=a;u<t[s[n]]&&(n>0&&(e[r]=s[n-1]),s[n]=r)}}for(n=s.length,o=s[n-1];n-- >0;)s[n]=o,o=e[o];return s}function Zn(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Zn(e)}function ki(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ul=Symbol.for("v-scx"),hl=()=>ks(ul);function xs(t,e,s){return eo(t,e,s)}function eo(t,e,s=z){const{immediate:r,deep:i,flush:n,once:o}=s,a=Z({},s),l=e&&r||!e&&n!=="post";let u;if(is){if(n==="sync"){const _=hl();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!l){const _=()=>{};return _.stop=xe,_.resume=xe,_.pause=xe,_}}const c=ae;a.call=(_,E,b)=>Ie(_,c,E,b);let d=!1;n==="post"?a.scheduler=_=>{pe(_,c&&c.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(_,E)=>{E?_():Qr(_)}),a.augmentJob=_=>{e&&(_.flags|=4),d&&(_.flags|=2,c&&(_.id=c.uid,_.i=c))};const p=ka(t,e,a);return is&&(u?u.push(p):l&&p()),p}function dl(t,e,s){const r=this.proxy,i=Q(t)?t.includes(".")?to(r,t):()=>r[t]:t.bind(r,r);let n;D(e)?n=e:(n=e.handler,s=e);const o=ls(this),a=eo(i,n.bind(r),s);return o(),a}function to(t,e){const s=e.split(".");return()=>{let r=t;for(let i=0;i<s.length&&r;i++)r=r[s[i]];return r}}const fl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xe(e)}Modifiers`]||t[`${gt(e)}Modifiers`];function pl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||z;let i=s;const n=e.startsWith("update:"),o=n&&fl(r,e.slice(7));o&&(o.trim&&(i=s.map(c=>Q(c)?c.trim():c)),o.number&&(i=s.map(Ho)));let a,l=r[a=tr(e)]||r[a=tr(Xe(e))];!l&&n&&(l=r[a=tr(gt(e))]),l&&Ie(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ie(u,t,6,i)}}function so(t,e,s=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const n=t.emits;let o={},a=!1;if(!D(t)){const l=u=>{const c=so(u,e,!0);c&&(a=!0,Z(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!n&&!a?(Y(t)&&r.set(t,null),null):(I(n)?n.forEach(l=>o[l]=null):Z(o,n),Y(t)&&r.set(t,o),o)}function Hs(t,e){return!t||!Ds(e)?!1:(e=e.slice(2).replace(/Once$/,""),H(t,e[0].toLowerCase()+e.slice(1))||H(t,gt(e))||H(t,e))}function cr(t){const{type:e,vnode:s,proxy:r,withProxy:i,propsOptions:[n],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:_,ctx:E,inheritAttrs:b}=t,O=js(t);let A,$;try{if(s.shapeFlag&4){const C=i||r,F=C;A=$e(u.call(F,C,c,d,_,p,E)),$=a}else{const C=e;A=$e(C.length>1?C(d,{attrs:a,slots:o,emit:l}):C(d,null)),$=e.props?a:gl(a)}}catch(C){zt.length=0,Ns(C,t,1),A=Qe(ss)}let U=A;if($&&b!==!1){const C=Object.keys($),{shapeFlag:F}=U;C.length&&F&7&&(n&&C.some(Fr)&&($=_l($,n)),U=Pt(U,$,!1,!0))}return s.dirs&&(U=Pt(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&Xr(U,s.transition),A=U,js(O),A}const gl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Ds(s))&&((e||(e={}))[s]=t[s]);return e},_l=(t,e)=>{const s={};for(const r in t)(!Fr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function vl(t,e,s){const{props:r,children:i,component:n}=t,{props:o,children:a,patchFlag:l}=e,u=n.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?xi(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==r[p]&&!Hs(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xi(r,o,u):!0:!!o;return!1}function xi(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const n=r[i];if(e[n]!==t[n]&&!Hs(s,n))return!0}return!1}function ml({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const ro=t=>t.__isSuspense;function yl(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Aa(t)}const ye=Symbol.for("v-fgt"),qs=Symbol.for("v-txt"),ss=Symbol.for("v-cmt"),ur=Symbol.for("v-stc"),zt=[];let me=null;function Be(t=!1){zt.push(me=t?null:[])}function wl(){zt.pop(),me=zt[zt.length-1]||null}let rs=1;function Ei(t,e=!1){rs+=t,t<0&&me&&e&&(me.hasOnce=!0)}function bl(t){return t.dynamicChildren=rs>0?me||kt:null,wl(),rs>0&&me&&me.push(t),t}function He(t,e,s,r,i,n){return bl(ve(t,e,s,r,i,n,!0))}function io(t){return t?t.__v_isVNode===!0:!1}function Ft(t,e){return t.type===e.type&&t.key===e.key}const no=({key:t})=>t!=null?t:null,Es=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Q(t)||re(t)||D(t)?{i:Re,r:t,k:e,f:!!s}:t:null);function ve(t,e=null,s=null,r=0,i=null,n=t===ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&no(e),ref:e&&Es(e),scopeId:In,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Re};return a?(ti(l,s),n&128&&t.normalize(l)):s&&(l.shapeFlag|=Q(s)?8:16),rs>0&&!o&&me&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&me.push(l),l}const Qe=Tl;function Tl(t,e=null,s=null,r=0,i=null,n=!1){if((!t||t===qa)&&(t=ss),io(t)){const a=Pt(t,e,!0);return s&&ti(a,s),rs>0&&!n&&me&&(a.shapeFlag&6?me[me.indexOf(t)]=a:me.push(a)),a.patchFlag=-2,a}if($l(t)&&(t=t.__vccOpts),e){e=Sl(e);let{class:a,style:l}=e;a&&!Q(a)&&(e.class=Xt(a)),Y(l)&&(Yr(l)&&!I(l)&&(l=Z({},l)),e.style=Hr(l))}const o=Q(t)?1:ro(t)?128:ja(t)?64:Y(t)?4:D(t)?2:0;return ve(t,e,s,r,i,o,n,!0)}function Sl(t){return t?Yr(t)||Vn(t)?Z({},t):t:null}function Pt(t,e,s=!1,r=!1){const{props:i,ref:n,patchFlag:o,children:a,transition:l}=t,u=e?kl(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&no(u),ref:e&&e.ref?s&&n?I(n)?n.concat(Es(e)):[n,Es(e)]:Es(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ye?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pt(t.ssContent),ssFallback:t.ssFallback&&Pt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Xr(c,l.clone(c)),c}function oo(t=" ",e=0){return Qe(qs,null,t,e)}function $e(t){return t==null||typeof t=="boolean"?Qe(ss):I(t)?Qe(ye,null,t.slice()):io(t)?Je(t):Qe(qs,null,String(t))}function Je(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pt(t)}function ti(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(I(e))s=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),ti(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!Vn(e)?e._ctx=Re:i===3&&Re&&(Re.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else D(e)?(e={default:e,_ctx:Re},s=32):(e=String(e),r&64?(s=16,e=[oo(e)]):s=8);t.children=e,t.shapeFlag|=s}function kl(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Xt([e.class,r.class]));else if(i==="style")e.style=Hr([e.style,r.style]);else if(Ds(i)){const n=e[i],o=r[i];o&&n!==o&&!(I(n)&&n.includes(o))&&(e[i]=n?[].concat(n,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ce(t,e,s,r=null){Ie(t,e,7,[s,r])}const xl=Hn();let El=0;function Ol(t,e,s){const r=t.type,i=(e?e.appContext:t.appContext)||xl,n={uid:El++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Go(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wn(r,i),emitsOptions:so(r,i),emit:null,emitted:null,propsDefaults:z,inheritAttrs:r.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=pl.bind(null,n),t.ce&&t.ce(n),n}let ae=null,Is,Ar;{const t=os(),e=(s,r)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(r),n=>{i.length>1?i.forEach(o=>o(n)):i[0](n)}};Is=e("__VUE_INSTANCE_SETTERS__",s=>ae=s),Ar=e("__VUE_SSR_SETTERS__",s=>is=s)}const ls=t=>{const e=ae;return Is(t),t.scope.on(),()=>{t.scope.off(),Is(e)}},Oi=()=>{ae&&ae.scope.off(),Is(null)};function ao(t){return t.vnode.shapeFlag&4}let is=!1;function Al(t,e=!1,s=!1){e&&Ar(e);const{props:r,children:i}=t.vnode,n=ao(t);Za(t,r,n,e),rl(t,i,s);const o=n?Cl(t,e):void 0;return e&&Ar(!1),o}function Cl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ka);const{setup:r}=s;if(r){et();const i=t.setupContext=r.length>1?jl(t):null,n=ls(t),o=as(r,t,0,[t.props,i]),a=on(o);if(tt(),n(),(a||t.sp)&&!Jt(t)&&Dn(t),a){if(o.then(Oi,Oi),e)return o.then(l=>{Ai(t,l,e)}).catch(l=>{Ns(l,t,0)});t.asyncDep=o}else Ai(t,o,e)}else lo(t,e)}function Ai(t,e,s){D(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Y(e)&&(t.setupState=Cn(e)),lo(t,s)}let Ci;function lo(t,e,s){const r=t.type;if(!t.render){if(!e&&Ci&&!r.render){const i=r.template||Zr(t).template;if(i){const{isCustomElement:n,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Z(Z({isCustomElement:n,delimiters:a},o),l);r.render=Ci(i,u)}}t.render=r.render||xe}{const i=ls(t);et();try{Va(t)}finally{tt(),i()}}}const Pl={get(t,e){return te(t,"get",""),t[e]}};function jl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Pl),slots:t.slots,emit:t.emit,expose:e}}function si(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Cn(_a(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Wt)return Wt[s](t)},has(e,s){return s in e||s in Wt}})):t.proxy}function $l(t){return D(t)&&"__vccOpts"in t}const Os=(t,e)=>Ta(t,e,is),Rl="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cr;const Pi=typeof window<"u"&&window.trustedTypes;if(Pi)try{Cr=Pi.createPolicy("vue",{createHTML:t=>t})}catch{}const co=Cr?t=>Cr.createHTML(t):t=>t,Il="http://www.w3.org/2000/svg",Ll="http://www.w3.org/1998/Math/MathML",Ue=typeof document<"u"?document:null,ji=Ue&&Ue.createElement("template"),Dl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const i=e==="svg"?Ue.createElementNS(Il,t):e==="mathml"?Ue.createElementNS(Ll,t):s?Ue.createElement(t,{is:s}):Ue.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ue.createTextNode(t),createComment:t=>Ue.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ue.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,i,n){const o=s?s.previousSibling:e.lastChild;if(i&&(i===n||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===n||!(i=i.nextSibling)););else{ji.innerHTML=co(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ji.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ul=Symbol("_vtc");function Ml(t,e,s){const r=t[Ul];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const $i=Symbol("_vod"),Fl=Symbol("_vsh"),Nl=Symbol(""),Bl=/(^|;)\s*display\s*:/;function Hl(t,e,s){const r=t.style,i=Q(s);let n=!1;if(s&&!i){if(e)if(Q(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&As(r,a,"")}else for(const o in e)s[o]==null&&As(r,o,"");for(const o in s)o==="display"&&(n=!0),As(r,o,s[o])}else if(i){if(e!==s){const o=r[Nl];o&&(s+=";"+o),r.cssText=s,n=Bl.test(s)}}else e&&t.removeAttribute("style");$i in t&&(t[$i]=n?r.display:"",t[Fl]&&(r.display="none"))}const Ri=/\s*!important$/;function As(t,e,s){if(I(s))s.forEach(r=>As(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=ql(t,e);Ri.test(s)?t.setProperty(gt(r),s.replace(Ri,""),"important"):t[r]=s}}const Ii=["Webkit","Moz","ms"],hr={};function ql(t,e){const s=hr[e];if(s)return s;let r=Xe(e);if(r!=="filter"&&r in t)return hr[e]=r;r=cn(r);for(let i=0;i<Ii.length;i++){const n=Ii[i]+r;if(n in t)return hr[e]=n}return e}const Li="http://www.w3.org/1999/xlink";function Di(t,e,s,r,i,n=zo(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Li,e.slice(6,e.length)):t.setAttributeNS(Li,e,s):s==null||n&&!hn(s)?t.removeAttribute(e):t.setAttribute(e,n?"":Ze(s)?String(s):s)}function Ui(t,e,s,r,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?co(s):s);return}const n=t.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=hn(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function Kl(t,e,s,r){t.addEventListener(e,s,r)}function Vl(t,e,s,r){t.removeEventListener(e,s,r)}const Mi=Symbol("_vei");function Jl(t,e,s,r,i=null){const n=t[Mi]||(t[Mi]={}),o=n[e];if(r&&o)o.value=r;else{const[a,l]=Wl(e);if(r){const u=n[e]=Yl(r,i);Kl(t,a,u,l)}else o&&(Vl(t,a,o,l),n[e]=void 0)}}const Fi=/(?:Once|Passive|Capture)$/;function Wl(t){let e;if(Fi.test(t)){e={};let r;for(;r=t.match(Fi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gt(t.slice(2)),e]}let dr=0;const zl=Promise.resolve(),Gl=()=>dr||(zl.then(()=>dr=0),dr=Date.now());function Yl(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ie(Ql(r,s.value),e,5,[r])};return s.value=t,s.attached=Gl(),s}function Ql(t,e){if(I(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ni=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Xl=(t,e,s,r,i,n)=>{const o=i==="svg";e==="class"?Ml(t,r,o):e==="style"?Hl(t,s,r):Ds(e)?Fr(e)||Jl(t,e,s,r,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Zl(t,e,r,o))?(Ui(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Di(t,e,r,o,n,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Q(r))?Ui(t,Xe(e),r,n,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Di(t,e,r,o))};function Zl(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ni(e)&&D(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ni(e)&&Q(s)?!1:e in t}const ec=Z({patchProp:Xl},Dl);let Bi;function tc(){return Bi||(Bi=ol(ec))}const sc=(...t)=>{const e=tc().createApp(...t),{mount:s}=e;return e.mount=r=>{const i=ic(r);if(!i)return;const n=e._component;!D(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,rc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function rc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ic(t){return Q(t)?document.querySelector(t):t}const nc="modulepreload",oc=function(t){return"/trivia-taiwan/"+t},Hi={},jt=function(e,s,r){if(!s||s.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(s.map(n=>{if(n=oc(n),n in Hi)return;Hi[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===n&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":nc,o||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())},ac=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>jt(()=>Promise.resolve().then(()=>Rt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ri extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class lc extends ri{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cc extends ri{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uc extends ri{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Pr||(Pr={}));var hc=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class dc{constructor(e,{headers:s={},customFetch:r,region:i=Pr.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=ac(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return hc(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(E=>{throw new lc(E)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new cc(c);if(!c.ok)throw new uc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield c.json():p==="application/octet-stream"?_=yield c.blob():p==="text/event-stream"?_=c:p==="multipart/form-data"?_=yield c.formData():_=yield c.text(),{data:_,error:null}}catch(i){return{data:null,error:i}}})}}var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fc(t){var e=t.default;if(typeof e=="function"){var s=function(){return e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),s}var ce={},ii={},Ks={},cs={},Vs={},Js={},pc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$t=pc();const gc=$t.fetch,uo=$t.fetch.bind($t),ho=$t.Headers,_c=$t.Request,vc=$t.Response,Rt=Object.freeze(Object.defineProperty({__proto__:null,fetch:gc,default:uo,Headers:ho,Request:_c,Response:vc},Symbol.toStringTag,{value:"Module"})),mc=fc(Rt);var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});class yc extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Ws.default=yc;var fo=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Js,"__esModule",{value:!0});const wc=fo(mc),bc=fo(Ws);class Tc{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=wc.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,a,l;let u=null,c=null,d=null,p=n.status,_=n.statusText;if(n.ok){if(this.method!=="HEAD"){const A=await n.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=A:c=JSON.parse(A))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&O&&O.length>1&&(d=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,p=406,_="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const b=await n.text();try{u=JSON.parse(b),Array.isArray(u)&&n.status===404&&(c=[],u=null,p=200,_="OK")}catch{n.status===404&&b===""?(p=204,_="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&((l=u==null?void 0:u.details)===null||l===void 0?void 0:l.includes("0 rows"))&&(u=null,p=200,_="OK"),u&&this.shouldThrowOnError)throw new bc.default(u)}return{error:u,data:c,count:d,status:p,statusText:_}});return this.shouldThrowOnError||(i=i.catch(n=>{var o,a,l;return{error:{message:`${(o=n==null?void 0:n.name)!==null&&o!==void 0?o:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(a=n==null?void 0:n.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=n==null?void 0:n.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}}Js.default=Tc;var Sc=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});const kc=Sc(Js);class xc extends kc.default{select(e){let s=!1;const r=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const o=n?`${n}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}Vs.default=xc;var Ec=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});const Oc=Ec(Vs);class Ac extends Oc.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}}cs.default=Ac;var Cc=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});const Nt=Cc(cs);class Pc{constructor(e,{headers:s={},schema:r,fetch:i}){this.url=e,this.headers=s,this.schema=r,this.fetch=i}select(e,{head:s=!1,count:r}={}){const i=s?"HEAD":"GET";let n=!1;const o=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Nt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nt.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Nt.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Nt.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Nt.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}Ks.default=Pc;var zs={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.version=void 0;Gs.version="0.0.0-automated";Object.defineProperty(zs,"__esModule",{value:!0});zs.DEFAULT_HEADERS=void 0;const jc=Gs;zs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${jc.version}`};var po=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});const $c=po(Ks),Rc=po(cs),Ic=zs;class ni{constructor(e,{headers:s={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ic.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new $c.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ni(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:i=!1,count:n}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(o="POST",l=s);const u=Object.assign({},this.headers);return n&&(u.Prefer=`count=${n}`),new Rc.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}ii.default=ni;var It=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ce,"__esModule",{value:!0});ce.PostgrestError=ce.PostgrestBuilder=ce.PostgrestTransformBuilder=ce.PostgrestFilterBuilder=ce.PostgrestQueryBuilder=ce.PostgrestClient=void 0;const go=It(ii);ce.PostgrestClient=go.default;const _o=It(Ks);ce.PostgrestQueryBuilder=_o.default;const vo=It(cs);ce.PostgrestFilterBuilder=vo.default;const mo=It(Vs);ce.PostgrestTransformBuilder=mo.default;const yo=It(Js);ce.PostgrestBuilder=yo.default;const wo=It(Ws);ce.PostgrestError=wo.default;var Lc=ce.default={PostgrestClient:go.default,PostgrestQueryBuilder:_o.default,PostgrestFilterBuilder:vo.default,PostgrestTransformBuilder:mo.default,PostgrestBuilder:yo.default,PostgrestError:wo.default};const{PostgrestClient:Dc,PostgrestQueryBuilder:Mh,PostgrestFilterBuilder:Fh,PostgrestTransformBuilder:Nh,PostgrestBuilder:Bh,PostgrestError:Hh}=Lc,Uc="2.11.2",Mc={"X-Client-Info":`realtime-js/${Uc}`},Fc="1.0.0",bo=1e4,Nc=1e3;var Ct;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ct||(Ct={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ke||(ke={}));var jr;(function(t){t.websocket="websocket"})(jr||(jr={}));var dt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dt||(dt={}));class Bc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const i=s.getUint8(1),n=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+n));o=o+n;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class To{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const qi=(t,e,s={})=>{var r;const i=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((n,o)=>(n[o]=Hc(o,t,e,i),n),{})},Hc=(t,e,s,r)=>{const i=e.find(a=>a.name===t),n=i==null?void 0:i.type,o=s[t];return n&&!r.includes(n)?So(n,o):$r(o)},So=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Jc(e,s)}switch(t){case J.bool:return qc(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return Kc(e);case J.json:case J.jsonb:return Vc(e);case J.timestamp:return Wc(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return $r(e);default:return $r(e)}},$r=t=>t,qc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Kc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Vc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let n;const o=t.slice(1,s);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>So(e,a))}return t},Wc=t=>typeof t=="string"?t.replace(" ","T"):t,ko=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fr{constructor(e,s,r={},i=bo){this.channel=e,this.event=s,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ki;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ki||(Ki={}));class Gt{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gt.syncState(this.state,i,n,o),this.pendingDiffs.forEach(l=>{this.state=Gt.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Gt.syncDiff(this.state,i,n,o),a())}),this.onJoin((i,n,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:o})}),this.onLeave((i,n,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,i){const n=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(n,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=n[u];if(d){const p=c.map(O=>O.presence_ref),_=d.map(O=>O.presence_ref),E=c.filter(O=>_.indexOf(O.presence_ref)<0),b=d.filter(O=>p.indexOf(O.presence_ref)<0);E.length>0&&(a[u]=E),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(n,{joins:a,leaves:l},r,i)}static syncDiff(e,s,r,i){const{joins:n,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(_=>_.presence_ref),p=c.filter(_=>d.indexOf(_.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const i=e[r];return"metas"in i?s[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):s[r]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Vi||(Vi={}));var Ji;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ji||(Ji={}));var Me;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Me||(Me={}));class oi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new fr(this,ke.join,this.params,this.timeout),this.rejoinTimer=new To(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ke.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new Gt(this),this.broadcastEndpointURL=ko(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Me.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Me.CLOSED));const l={},u={broadcast:n,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Me.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,_=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,E=[];for(let b=0;b<_;b++){const O=p[b],{filter:{event:A,schema:$,table:U,filter:C}}=O,F=c&&c[b];if(F&&F.event===A&&F.schema===$&&F.table===U&&F.filter===C)E.push(Object.assign(Object.assign({},O),{id:F.id}));else{this.unsubscribe(),e==null||e(Me.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Me.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Me.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Me.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:n,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),u.receive("ok",()=>n("ok")),u.receive("error",()=>n("error")),u.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new fr(this,ke.leave,{},e);i.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(n),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fr(this,e,s,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var i,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ke;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var E,b,O;return((E=_.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(b=_.filter)===null||b===void 0?void 0:b.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(_=>_.callback(p,r)):(n=this.bindings[o])===null||n===void 0||n.filter(_=>{var E,b,O,A,$,U;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const C=_.id,F=(E=_.filter)===null||E===void 0?void 0:E.event;return C&&((b=s.ids)===null||b===void 0?void 0:b.includes(C))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const C=($=(A=_==null?void 0:_.filter)===null||A===void 0?void 0:A.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return C==="*"||C===((U=s==null?void 0:s.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const E=p.data,{schema:b,table:O,commit_timestamp:A,type:$,errors:U}=E;p=Object.assign(Object.assign({},{schema:b,table:O,commit_timestamp:A,eventType:$,new:{},old:{},errors:U}),this._getPayloadRecords(E))}_.callback(p,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const i=e.toLocaleLowerCase(),n={type:i,filter:s,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&oi.isEqual(i.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ke.close,{},e)}_onError(e){this._on(ke.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=qi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=qi(e.columns,e.old_record)),s}}const zc=()=>{},Gc=typeof WebSocket<"u",Yc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qc{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Mc,this.params={},this.timeout=bo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zc,this.conn=null,this.sendBuffer=[],this.serializer=new Bc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let o;return n?o=n:typeof fetch>"u"?o=(...a)=>jt(()=>Promise.resolve().then(()=>Rt),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${jr.websocket}`,this.httpEndpoint=ko(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(n,o)=>o(JSON.stringify(n)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new To(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Gc){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),jt(()=>import("./browser.278a5880.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s!=null?s:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ct.connecting:return dt.Connecting;case Ct.open:return dt.Open;case Ct.closing:return dt.Closing;default:return dt.Closed}}isConnected(){return this.connectionState()===dt.Open}channel(e,s={config:{}}){const r=new oi(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:i,ref:n}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${n})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(ke.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Nc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:i,payload:n,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ke.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${r}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Yc],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Xc{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ct.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ai extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function X(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zc extends ai{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rr extends ai{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var eu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>jt(()=>Promise.resolve().then(()=>Rt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},tu=()=>eu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jt(()=>Promise.resolve().then(()=>Rt),void 0)).Response:Response}),Ir=t=>{if(Array.isArray(t))return t.map(s=>Ir(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const i=s.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[i]=Ir(r)}),e};var _t=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const pr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),su=(t,e,s)=>_t(void 0,void 0,void 0,function*(){const r=yield tu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{e(new Zc(pr(i),t.status||500))}).catch(i=>{e(new Rr(pr(i),i))}):e(new Rr(pr(t),t))}),ru=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),s))};function us(t,e,s,r,i,n){return _t(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,ru(e,r,i,n)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>su(l,a,r))})})}function Ls(t,e,s,r){return _t(this,void 0,void 0,function*(){return us(t,"GET",e,s,r)})}function We(t,e,s,r,i){return _t(this,void 0,void 0,function*(){return us(t,"POST",e,r,i,s)})}function iu(t,e,s,r,i){return _t(this,void 0,void 0,function*(){return us(t,"PUT",e,r,i,s)})}function nu(t,e,s,r){return _t(this,void 0,void 0,function*(){return us(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Eo(t,e,s,r,i){return _t(this,void 0,void 0,function*(){return us(t,"DELETE",e,r,i,s)})}var le=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ou={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class au{constructor(e,s={},r,i){this.url=e,this.headers=s,this.bucketId=r,this.fetch=xo(i)}uploadOrUpdate(e,s,r,i){return le(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},Wi),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l))):(n=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(n){if(X(n))return{data:null,error:n};throw n}})}upload(e,s,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,i){return le(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Wi.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:n,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(X(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const n=yield We(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+n.url),a=o.searchParams.get("token");if(!a)throw new ai("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}update(e,s,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return le(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}copy(e,s,r){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,r){return le(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),n=yield We(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,r){return le(this,void 0,void 0,function*(){try{const i=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}download(e,s){return le(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ls(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(X(a))return{data:null,error:a};throw a}})}info(e){return le(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ls(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ir(r),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}exists(e){return le(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield nu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(X(r)&&r instanceof Rr){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),i=[],n=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";n!==""&&i.push(n);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}list(e,s,r){return le(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ou),s),{prefix:e||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(X(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const lu="2.7.1",cu={"X-Client-Info":`storage-js/${lu}`};var yt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},cu),s),this.fetch=xo(r)}listBuckets(){return yt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(X(e))return{data:null,error:e};throw e}})}getBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Ls(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return yt(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return yt(this,void 0,void 0,function*(){try{return{data:yield iu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}})}emptyBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Eo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}})}}class hu extends uu{constructor(e,s={},r){super(e,s,r)}from(e){return new au(this.url,this.headers,e,this.fetch)}}const du="2.49.4";let Ht="";typeof Deno<"u"?Ht="deno":typeof document<"u"?Ht="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ht="react-native":Ht="node";const fu={"X-Client-Info":`supabase-js-${Ht}/${du}`},pu={headers:fu},gu={schema:"public"},_u={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vu={};var mu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const yu=t=>{let e;return t?e=t:typeof fetch>"u"?e=uo:e=fetch,(...s)=>e(...s)},wu=()=>typeof Headers>"u"?ho:Headers,bu=(t,e,s)=>{const r=yu(s),i=wu();return(n,o)=>mu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},o),{headers:u}))})};var Tu=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Su(t){return t.replace(/\/$/,"")}function ku(t,e){const{db:s,auth:r,realtime:i,global:n}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),n),accessToken:()=>Tu(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Oo="2.69.1",St=30*1e3,Lr=3,gr=Lr*St,xu="http://localhost:9999",Eu="supabase.auth.token",Ou={"X-Client-Info":`gotrue-js/${Oo}`},Dr="X-Supabase-Api-Version",Ao={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Au=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cu=6e5;class li extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Pu extends li{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function ju(t){return L(t)&&t.name==="AuthApiError"}class Co extends li{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class st extends li{constructor(e,s,r,i){super(e,r,i),this.name=s,this.status=r}}class qe extends st{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $u(t){return L(t)&&t.name==="AuthSessionMissingError"}class _r extends st{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ws extends st{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bs extends st{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ru(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class zi extends st{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ur extends st{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function vr(t){return L(t)&&t.name==="AuthRetryableFetchError"}class Gi extends st{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Yt extends st{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qi=` 	
\r=`.split(""),Iu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qi.length;e+=1)t[Qi[e].charCodeAt(0)]=-2;for(let e=0;e<Yi.length;e+=1)t[Yi[e].charCodeAt(0)]=e;return t})();function Po(t,e,s){const r=Iu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Xi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=o=>{Uu(o,r,s)};for(let o=0;o<t.length;o+=1)Po(t.charCodeAt(o),i,n);return e.join("")}function Lu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Du(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Lu(r,e)}}function Uu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Mu(t){const e=[],s={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Po(t.charCodeAt(i),s,r);return new Uint8Array(e)}function Fu(t){const e=[];return Du(t,s=>e.push(s)),new Uint8Array(e)}function Nu(t){return Math.round(Date.now()/1e3)+t}function Bu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Pe=()=>typeof window<"u"&&typeof document<"u",lt={tested:!1,writable:!1},Qt=()=>{if(!Pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lt.tested)return lt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lt.tested=!0,lt.writable=!0}catch{lt.tested=!0,lt.writable=!1}return lt.writable};function Hu(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,n)=>{e[n]=i})}catch{}return s.searchParams.forEach((r,i)=>{e[i]=r}),e}const jo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>jt(()=>Promise.resolve().then(()=>Rt),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},qu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$o=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Ts=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ss=async(t,e)=>{await t.removeItem(e)};class Ys{constructor(){this.promise=new Ys.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Ys.promiseConstructor=Promise;function mr(t){const e=t.split(".");if(e.length!==3)throw new Yt("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Au.test(e[r]))throw new Yt("JWT not in base64url format");return{header:JSON.parse(Xi(e[0])),payload:JSON.parse(Xi(e[1])),signature:Mu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ku(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Vu(t,e){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await t(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){i(o);return}}})()})}function Ju(t){return("0"+t.toString(16)).substr(-2)}function Wu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let i="";for(let n=0;n<56;n++)i+=s.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Ju).join("")}async function zu(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function Gu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await zu(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wt(t,e,s=!1){const r=Wu();let i=r;s&&(i+="/PASSWORD_RECOVERY"),await $o(t,`${e}-code-verifier`,i);const n=await Gu(r);return[n,r===n?"plain":"s256"]}const Yu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qu(t){const e=t.headers.get(Dr);if(!e||!e.match(Yu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Xu(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Zu(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var eh=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};const ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),th=[502,503,504];async function Zi(t){var e;if(!qu(t))throw new Ur(ht(t),0);if(th.includes(t.status))throw new Ur(ht(t),t.status);let s;try{s=await t.json()}catch(n){throw new Co(ht(n),n)}let r;const i=Qu(t);if(i&&i.getTime()>=Ao["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Gi(ht(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new qe}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new Gi(ht(s),t.status,s.weak_password.reasons);throw new Pu(ht(s),t.status||500,r)}const sh=(t,e,s,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),s))};async function M(t,e,s,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[Dr]||(n[Dr]=Ao["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rh(t,e,s+a,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function rh(t,e,s,r,i,n){const o=sh(e,r,i,n);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Ur(ht(l),0)}if(a.ok||await Zi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Zi(l)}}function Ke(t){var e;let s=null;ah(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Nu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function en(t){const e=Ke(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ge(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ih(t){return{data:t,error:null}}function nh(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n}=t,o=eh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:i,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function oh(t){return t}function ah(t){return t.access_token&&t.refresh_token&&t.expires_in}var lh=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s};class ch{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=jo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ge})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=lh(e,["options"]),i=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(L(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ge})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,i,n,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:oh});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(E=>{const b=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);u[`${O}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ge})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ge})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ge})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:r}}catch(s){if(L(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}const uh={getItem:t=>Qt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{!Qt()||globalThis.localStorage.setItem(t,e)},removeItem:t=>{!Qt()||globalThis.localStorage.removeItem(t)}};function tn(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function hh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bt={debug:!!(globalThis&&Qt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ro extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dh extends Ro{}async function fh(t,e,s){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bt.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}hh();const ph={url:xu,storageKey:Eu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ou,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sn(t,e,s){return await s()}class ns{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ph),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ch({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jo(i.fetch),this.lock=i.lock||sn,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pe()&&((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0?void 0:s.locks)?this.lock=fh:this.lock=sn,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Qt()?this.storage=uh:(this.memoryStorage={},this.storage=tn(this.memoryStorage)):(this.memoryStorage={},this.storage=tn(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Oo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Hu(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Pe()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(s,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),Ru(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return L(s)?{error:s}:{error:new Co("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,i;try{const n=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ke}),{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(e){var s,r,i;try{let n;if("email"in e){const{email:c,password:d,options:p}=e;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await wt(this.storage,this.storageKey)),n=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:E},xform:Ke})}else if("phone"in e){const{phone:c,password:d,options:p}=e;n=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ke})}else throw new ws("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(e){try{let s;if("email"in e){const{email:n,password:o,options:a}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:en})}else if("phone"in e){const{phone:n,password:o,options:a}=e;s=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:en})}else throw new ws("You must provide either an email or phone number and a password");const{data:r,error:i}=s;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _r}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,i,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Ts(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(s!=null?s:"").split("/");try{const{data:n,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ke});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new _r}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i!=null?i:null}),error:o})}catch(n){if(L(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(e){try{const{options:s,provider:r,token:i,access_token:n,nonce:o}=e,a=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ke}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _r}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,i,n,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await wt(this.storage,this.storageKey));const{error:d}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ws("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let i,n;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,n=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:Ke});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,r,i;try{let n=null,o=null;return this.flowType==="pkce"&&([n,o]=await wt(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:o}),headers:this.headers,xform:ih})}catch(n){if(L(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new qe;const{error:i}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:n}=e,{error:o}=await M(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:n}=e,{data:o,error:a}=await M(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ws("You must provide either an email or phone number and a type")}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<gr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ge}):await this._useSession(async s=>{var r,i,n;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qe}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Ge})})}catch(s){if(L(s))return $u(s)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new qe;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await wt(this.storage,this.storageKey));const{data:u,error:c}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ge});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qe;const s=Date.now()/1e3;let r=s,i=!0,n=null;const{payload:o}=mr(e.access_token);if(o.exp&&(r=o.exp,i=r<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(s){if(L(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new qe;const{session:i,error:n}=await this._callRefreshToken(e.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Pe())throw new bs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new zi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zi("No code detected.");const{data:$,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!n||!a||!o||!u)throw new bs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const _=p-c;_*1e3<=St&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${d}s`);const E=p-d;c-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,p,c):c-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,p,c);const{data:b,error:O}=await this._getUser(n);if(O)throw O;const A={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return{error:n};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ju(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Bu(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,i;try{const{data:{session:n},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,s={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await wt(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(n){if(L(n))return{data:null,error:n};throw n}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:i}=await this._useSession(async n=>{var o,a,l,u,c;const{data:d,error:p}=n;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",_,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Pe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Vu(async i=>(i>0&&await Ku(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ke})),(i,n)=>{const o=200*Math.pow(2,i);return n&&vr(n)&&Date.now()+o-r<St})}catch(r){if(this._debug(s,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Pe()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ts(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<gr;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${gr}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:n}=await this._callRefreshToken(r.refresh_token);n&&(console.error(n),vr(n)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",n),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ys;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new qe;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const a={session:n.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(n){if(this._debug(i,"error",n),L(n)){const o={session:null,error:n};return vr(n)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let a=0;a<n.length;a+=1)console.error(n[a]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $o(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&(window==null?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),St);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/St);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${St}ms, refresh threshold is ${Lr} ticks`),i<=Lr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ro)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const i=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,o]=await wt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?{data:null,error:n}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,i;const{data:n,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&((i=l==null?void 0:l.totp)===null||i===void 0?void 0:i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(L(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;if(n)return{data:null,error:n};const{data:o,error:a}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:i,error:n}=s;return n?{data:null,error:n}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(L(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),n=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:i},error:n}=e;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mr(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=i.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Cu>Date.now()))return r;const{data:i,error:n}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(n)throw n;if(!i.keys||i.keys.length===0)throw new Yt("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new Yt("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:_,error:E}=await this.getSession();if(E||!_.session)return{data:null,error:E};r=_.session.access_token}const{header:i,payload:n,signature:o,raw:{header:a,payload:l}}=mr(r);if(Xu(n.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:n,header:i,signature:o},error:null}}const u=Zu(i.alg),c=await this.fetchJwk(i.kid,s),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,Fu(`${a}.${l}`)))throw new Yt("Invalid JWT signature");return{data:{claims:n,header:i,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}ns.nextInstanceID=0;const gh=ns;class _h extends gh{constructor(e){super(e)}}var vh=globalThis&&globalThis.__awaiter||function(t,e,s,r){function i(n){return n instanceof s?n:new s(function(o){o(n)})}return new(s||(s=Promise))(function(n,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?n(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class mh{constructor(e,s,r){var i,n,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Su(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:gu,realtime:vu,auth:Object.assign(Object.assign({},_u),{storageKey:l}),global:pu},c=ku(r!=null?r:{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=c.global.headers)!==null&&n!==void 0?n:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=bu(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Dc(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new dc(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new hu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return vh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,storageKey:n,flowType:o,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _h({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:n,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Qc(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yh=(t,e,s)=>new mh(t,e,s),wh="https://rfqgxrwervshiyzrsfcb.supabase.co",bh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJmcWd4cndlcnZzaGl5enJzZmNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM2NDc0NzMsImV4cCI6MjA1OTIyMzQ3M30.Uu5SdSQy91leGLW8PURxNLzTu69JmhIKRXmCOZ51Iyg",rn=yh(wh,bh),Th=[{id:1,text:"Taiwan is home to TSMC, the world's leading chip manufacturer, producing over 50% of the world's semiconductors and 90% of advanced chips.",category:"Technology",icon:"\u{1F4BB}"},{id:2,text:"Fengjia Night Market in Taichung is one of Taiwan's largest night markets, attracting thousands of visitors daily with its diverse food options.",category:"Culture",icon:"\u{1F319}"},{id:3,text:"Taiwan has over 100 peaks above 3,000 meters, including Yushan (Jade Mountain), which is the highest peak in Northeast Asia at 3,952 meters.",category:"Nature",icon:"\u26F0\uFE0F"},{id:4,text:"Taiwan was the first country in Asia to legalize same-sex marriage (2019), marking a historic moment for LGBTQ+ rights.",category:"History",icon:"\u{1F3F3}\uFE0F\u200D\u{1F308}"},{id:5,text:"Bubble tea was invented in Taiwan in the 1980s, with Chun Shui Tang in Taichung being one of the first shops to popularize the drink.",category:"Culture",icon:"\u{1F9CB}"},{id:6,text:"EVA Air, Taiwan's major airline, has operated Hello Kitty-themed aircraft and airport lounges, showcasing Taiwan's embrace of kawaii culture.",category:"Culture",icon:"\u2708\uFE0F"},{id:7,text:"The Tropic of Cancer runs through Taiwan, giving it a unique climate that supports both tropical and temperate species.",category:"Nature",icon:"\u{1F30D}"},{id:8,text:"During Ghost Month (the seventh lunar month), Taiwanese people perform various rituals and make offerings to honor their ancestors.",category:"Culture",icon:"\u{1F47B}"},{id:9,text:"Taroko Gorge is a spectacular marble canyon in Taiwan, featuring stunning cliffs, waterfalls, and the famous Eternal Spring Shrine.",category:"Nature",icon:"\u{1F3D4}\uFE0F"},{id:10,text:"7-Eleven stores in Taiwan offer various services, including bill payments, package delivery, and ticket purchases, making them essential to daily life.",category:"Culture",icon:"\u{1F3EA}"},{id:11,text:"Taiwan was under Japanese rule for 50 years (1895\u20131945), leaving lasting cultural influences in architecture and cuisine.",category:"History",icon:"\u{1F1EF}\u{1F1F5}"},{id:12,text:"Pineapple cakes are a beloved Taiwanese pastry, originally made with winter melon. The word for pineapple (\u65FA\u4F86 ong-lai) sounds like \u201Cprosperity comes\u201D.",category:"Culture",icon:"\u{1F34D}"},{id:13,text:"Taiwan's High Speed Rail system connects major cities at speeds up to 300 km/h, making it one of Asia's most efficient transportation networks.",category:"Technology",icon:"\u{1F684}"},{id:14,text:"Taiwan has thousands of temples, many dedicated to various deities and serving as important community centers.",category:"Culture",icon:"\u{1F3EE}"},{id:15,text:"Betel nut chewing is a cultural phenomenon in some regions, with distinctive 'betel nut beauties' selling the nuts at roadside stands.",category:"Culture",icon:"\u{1F330}"},{id:16,text:"Taiwan's National Palace Museum houses one of the world's largest collections of Chinese artifacts.",category:"History",icon:"\u{1F3DB}\uFE0F"},{id:17,text:"Taiwan is a major producer of computer components, including motherboards.",category:"Technology",icon:"\u{1F527}"},{id:18,text:"Taiwan has numerous hot springs, especially in Beitou and Wulai, making it a popular destination for hot spring tourism.",category:"Nature",icon:"\u2668\uFE0F"},{id:19,text:"Taiwan's convenience stores offer ticket purchases and package delivery, making them essential to daily life.",category:"Culture",icon:"\u{1F3AB}"},{id:20,text:"The Formosan black bear is Taiwan's largest land animal and a symbol of the island's unique wildlife.",category:"Nature",icon:"\u{1F43B}"},{id:21,text:"The Dutch established their first settlement in Taiwan in 1624, building Fort Zeelandia in Tainan.",category:"History",icon:"\u{1F1F3}\u{1F1F1}"},{id:22,text:"The Spanish briefly colonized northern Taiwan from 1626 to 1642, establishing Fort San Salvador in Keelung.",category:"History",icon:"\u{1F1EA}\u{1F1F8}"},{id:23,text:"The Dutch introduced Christianity to Taiwan in the 17th century, building Protestant churches and introducing new farming methods.",category:"History",icon:"\u26EA"},{id:24,text:"The Indigenous Peoples of Taiwan speak Austronesian languages, related to those in Hawaii, New Zealand, and the Philippines.",category:"History",icon:"\u{1F5E3}\uFE0F"},{id:25,text:"The Amis tribe's harvest festival (Ilisin) is one of Taiwan's most important indigenous celebrations.",category:"Culture",icon:"\u{1F3AD}"},{id:26,text:"The Bunun people are known for their unique 'eight-part harmony' singing style, recognized as an important cultural heritage.",category:"Culture",icon:"\u{1F3B5}"},{id:27,text:"During Ghost Month, Taiwanese people avoid swimming, whistling at night, and hanging clothes outside after dark.",category:"Culture",icon:"\u{1F47B}"},{id:28,text:"Taiwan's Spring Scream Festival, held annually in Kenting, is one of the country's oldest and most famous music festivals.",category:"Culture",icon:"\u{1F3B6}"},{id:29,text:"The Golden Horse Awards, established in 1962, are among the most prestigious Chinese-language film awards.",category:"Culture",icon:"\u{1F3C6}"},{id:30,text:"Taipei 101 features a 660-ton tuned mass damper that helps it withstand typhoons and earthquakes.",category:"Technology",icon:"\u{1F3D9}\uFE0F"},{id:31,text:"In Chinese culture, the number 4 is considered unlucky because it sounds similar to the word for 'death'.",category:"Culture",icon:"\u{1F522}"},{id:32,text:"Taiwan has one of the highest densities of convenience stores in the world, with one store per 1,703 people.",category:"Culture",icon:"\u{1F3EA}"},{id:33,text:"Taiwan's garbage trucks play classical music to alert residents to bring out their trash.",category:"Culture",icon:"\u{1F69B}"},{id:34,text:"Xiaoliuqiu (\u5C0F\u7409\u7403) is one of the few places in the world where you can snorkel with sea turtles year-round. The island has a high population of green sea turtles, and they often swim just a few meters from the shore!",category:"Nature",icon:"\u{1F422}"}],Sh=["data-id"],kh={class:"trivia-card-icon"},xh={class:"trivia-card-text"},Eh={class:"trivia-card-reactions"},Oh=["onClick","disabled"],Ah={key:0},Ch={key:1},Ph={key:2},jh={class:"category-list"},$h=["onClick"],Rh=Ln({__name:"TriviaCard",setup(t){const e=ms(Th),s=Os(()=>{const b=e.value.map(O=>O.category);return[...new Set(b)]}),r=ms(s.value[a(s.value.length)]),i=ms(0),n=Os(()=>e.value.filter(b=>b.category===r.value)),o=Os(()=>n.value[i.value%n.value.length]);function a(b){return Math.floor(Math.random()*b)}function l(b){r.value=b;const O=n.value.length;i.value=a(O),d.value=null}function u(){const b=e.value,O=b[a(b.length)];r.value=O.category;const A=e.value.filter($=>$.category===O.category);i.value=A.findIndex($=>$.id===O.id),d.value=null}const c=["knew","didntKnow","interesting"],d=ms(null);async function p(b){const O=localStorage.getItem(`trivia-response-${b}`);d.value=O,await _(b)}async function _(b){const{data:O,error:A}=await rn.from("votes").select("reaction").eq("trivia_id",b);if(A){console.error("Error fetching votes:",A);return}const $={knew:0,didntKnow:0,interesting:0};O.forEach(U=>{$[U.reaction]!==void 0&&$[U.reaction]++}),o.value.reactionCounts=$}async function E(b){var A,$;if(!c.includes(b)||d.value)return;const{error:O}=await rn.from("votes").insert({trivia_id:o.value.id,reaction:b});if(O){console.error("Supabase error:",O);return}($=(A=o.value).reactionCounts)!=null||(A.reactionCounts={knew:0,didntKnow:0,interesting:0}),o.value.reactionCounts[b]++,d.value=b,localStorage.setItem(`trivia-response-${o.value.id}`,b)}return xs(o,b=>{b&&p(b.id)}),Fn(()=>{o.value&&p(o.value.id)}),(b,O)=>(Be(),He(ye,null,[ve("div",{class:"trivia-card","data-id":o.value.id},[ve("div",kh,ct(o.value.icon),1),ve("p",xh,ct(o.value.text),1),ve("button",{class:"trivia-card-shuffle-btn",onClick:u},O[0]||(O[0]=[ve("i",{class:"ph ph-shuffle"},null,-1)])),ve("div",Eh,[(Be(),He(ye,null,mi(c,A=>{var $,U,C,F,Te,ue;return ve("button",{key:A,class:Xt(["reaction-btn",{active:d.value===A}]),onClick:Le=>E(A),disabled:d.value!==null},[A==="knew"?(Be(),He("span",Ah,"\u{1F44D} I knew this! ("+ct((U=($=o.value.reactionCounts)==null?void 0:$.knew)!=null?U:0)+")",1)):A==="didntKnow"?(Be(),He("span",Ch,"\u{1F92F} Didn\u2019t know ("+ct((F=(C=o.value.reactionCounts)==null?void 0:C.didntKnow)!=null?F:0)+")",1)):(Be(),He("span",Ph,"\u{1F60D} Interesting! ("+ct((ue=(Te=o.value.reactionCounts)==null?void 0:Te.interesting)!=null?ue:0)+")",1))],10,Oh)}),64))])],8,Sh),ve("div",jh,[(Be(!0),He(ye,null,mi(s.value,A=>(Be(),He("button",{key:A,onClick:$=>l(A),class:Xt(["category-btn",{selected:r.value===A}])},ct(A),11,$h))),128))])],64))}});const Io=(t,e)=>{const s=t.__vccOpts||t;for(const[r,i]of e)s[r]=i;return s},Ih=Io(Rh,[["__scopeId","data-v-99bca1fc"]]),Lh={class:"container"},Dh=Ln({__name:"App",setup(t){return(e,s)=>(Be(),He("div",Lh,[s[0]||(s[0]=ve("h1",null,"Trivia Taiwan",-1)),Qe(Ih),s[1]||(s[1]=ve("footer",{class:"footer"},[oo(" Made with \u2764\uFE0F by a "),ve("a",{href:"https://estherj-hsu.github.io/"},"Taiwanese")],-1))]))}});const Uh=Io(Dh,[["__scopeId","data-v-fab73f7d"]]);sc(Uh).mount("#app");
